import{m as c,a2 as I,r,aX as j,j as e,aY as v}from"./index-ITDkE3uC.js";import{P as _,a as b,G as C,I as n}from"./App-BfnndQAY.js";import{a as k,F as m,I as y}from"./Input-BFt3WyZn.js";import{H as F}from"./Header-BxEQANpx.js";import{F as D}from"./FormField-Chk75WAv.js";import"./Title-CSXaCaFi.js";var L=c("Icon16Pen","pen_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="pen_16"><path fill="currentColor" d="m9.486 3.952 2.562 2.563-6.139 6.133a4.8 4.8 0 0 1-2.001 1.202l-2.097.64a.244.244 0 0 1-.3-.301l.64-2.097a4.8 4.8 0 0 1 1.201-2.002zm3.672-2.135 1.025 1.025c.396.397.421 1.024.074 1.45l-1.168 1.173-2.554-2.553 1.09-1.095a1.084 1.084 0 0 1 1.533 0" /></symbol>',16,16),T=c("Icon20Check","check_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="check_20"><path fill-rule="evenodd" d="M17.53 5.22a.75.75 0 0 1 0 1.06l-9.5 9.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.97 3.97 8.97-8.97a.75.75 0 0 1 1.06 0" clip-rule="evenodd" /></symbol>',20,20),B=c("Icon28CrossLargeOutline","cross_large_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="cross_large_outline_28"><path d="M6.884 5.116a1.25 1.25 0 1 0-1.768 1.768L12.232 14l-7.116 7.116a1.25 1.25 0 0 0 1.768 1.768L14 15.768l7.116 7.116a1.25 1.25 0 0 0 1.768-1.768L15.768 14l7.116-7.116a1.25 1.25 0 0 0-1.768-1.768L14 12.232z" /></symbol>',28,28);const R=({id:g})=>{const{openError:i}=I(),[o,s]=r.useState(""),[h,d]=r.useState(""),[u,l]=r.useState(!0),a=r.useRef(null);r.useEffect(()=>{j().then(t=>{t.tg&&(s(t.tg),d(t.tg))}).catch(t=>{i(t.response.data||"Возникла ошибка")})},[]);const p=t=>{console.log("save",t,o),o&&(v(t,o).catch(w=>{i(w.response.data||"Возникла ошибка")}),l(!0),d(o))},x=t=>{l(!0),s(h)},f=t=>{l(!1),setTimeout(()=>{a.current&&a.current.focus()})};return e.jsxs(_,{id:g,children:[e.jsx(b,{children:"Профиль"}),e.jsxs(C,{children:[e.jsx(F,{children:"Настройки профиля"}),e.jsx(k,{children:e.jsx(D,{top:"Telegram ID",htmlFor:"tg-id",children:e.jsxs(m,{noWrap:!0,gap:"m",children:[e.jsx(y,{getRef:a,id:"tg-id",name:"tg-id",placeholder:"xxx",value:o,onChange:t=>s(+t.currentTarget.value),style:{width:"100%"},disabled:u}),u?e.jsx(n,{label:"Редактировать",onClick:()=>f(),children:e.jsx(L,{color:"var(--vkui--color_text_accent_themed)"})}):e.jsxs(m,{noWrap:!0,style:{margin:0},children:[e.jsx(n,{label:"Сохранить",onClick:()=>p("tg"),children:e.jsx(T,{width:16,height:16,color:"green"})}),e.jsx(n,{label:"Отмена",onClick:()=>x(),children:e.jsx(B,{width:16,height:16,color:"red"})})]})]})})})]})]})};export{R as Profile,R as default};
