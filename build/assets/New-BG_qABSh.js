import{m as ye,ab as at,ac as oo,ad as Be,ae as Ne,af as Ve,ag as Sn,ah as so,ai as qo,aj as Go,ak as Xo,al as en,am as Pe,an as Ce,ao as ro,ap as ao,aq as Pt,ar as Zo,as as Qo,at as Jo,au as Ye,av as Nt,aw as St,r as c,g as U,a as W,z as es,ax as _n,_ as re,ay as io,b as xe,az as ts,i as it,aA as ns,j as u,c as ne,q as Oe,R as ht,a8 as an,V as Ae,u as Ze,aB as os,aC as ss,K as gt,n as rs,aD as ve,aE as _t,aF as as,aG as is,aH as bt,aI as ls,aJ as lo,aK as cs,aL as co,h as us,aM as ds,aN as fs,aO as hs,aP as Mn,k as ln,aQ as ps,l as tn,aR as ot,aS as At,a0 as ms,a2 as vs,a3 as gs,a4 as bs,a5 as ys,a6 as ws,a7 as Cs,aT as xs,Q as ks,aU as Ds,aV as Rs}from"./index-ITDkE3uC.js";import{g as We,i as je,b as nn,c as ze,d as Ge,e as Ee,f as cn,h as un,j as dn,k as Ht,l as yt,m as jt,n as Ss,o as uo,p as _s,q as fo,C as Ms,u as Os,A as Is,F as wt,T as $t,r as Ts,s as Xt,t as Ps,v as Ns,I as Et,w as As,P as js,a as Es,G as Fs}from"./App-BfnndQAY.js";import{I as Ls,F as On,a as In}from"./Input-BFt3WyZn.js";import{a as fn,F as tt}from"./FormField-Chk75WAv.js";import{I as Hs,P as $s,T as Bs}from"./PanelHeaderBack-B7MyZhRr.js";import"./Title-CSXaCaFi.js";function Tn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Ys(e,t){if(e){if(typeof e=="string")return Tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tn(e,t)}}var Pn=ye("Icon12Dropdown","dropdown_12","0 0 12 8",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 8" id="dropdown_12"><path fill="currentColor" fill-rule="evenodd" d="M2.156 2.295a.75.75 0 0 1 1.051-.137L6 4.306l2.793-2.148a.75.75 0 1 1 .914 1.189l-3.25 2.5a.75.75 0 0 1-.914 0l-3.25-2.5a.75.75 0 0 1-.137-1.052" clip-rule="evenodd" /></symbol>',12,8),ho=ye("Icon16Cancel","cancel_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="cancel_16"><path fill="currentColor" d="M12.736 3.264a.9.9 0 0 1 0 1.272L9.273 8l3.463 3.464a.9.9 0 0 1 .081 1.18l-.08.092a.9.9 0 0 1-1.273 0L8 9.273l-3.464 3.463a.9.9 0 0 1-1.272-1.272L6.727 8 3.264 4.536a.9.9 0 0 1-.08-1.18l.08-.092a.9.9 0 0 1 1.272 0L8 6.727l3.464-3.463a.9.9 0 0 1 1.272 0" /></symbol>',16,16),zs=ye("Icon16Clear","clear_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="clear_16"><path fill-rule="evenodd" d="M16 8A8 8 0 1 0 0 8a8 8 0 0 0 16 0M4.563 4.564a.9.9 0 0 0 0 1.272L6.727 8l-2.164 2.164a.9.9 0 1 0 1.273 1.272L8 9.273l2.164 2.163a.9.9 0 0 0 1.272-1.272L9.273 8l2.163-2.164a.9.9 0 1 0-1.272-1.272L8 6.727 5.836 4.564a.9.9 0 0 0-1.273 0" clip-rule="evenodd" /></symbol>',16,16),Vs=ye("Icon16DeleteOutline","delete_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="delete_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M5.041 3H1.75a.75.75 0 1 0 0 1.5h.547l.739 7.198c.036.358.068.668.115.924.049.27.124.537.276.79.23.38.566.684.967.873.268.126.54.173.815.195.259.02.57.02.93.02h3.722c.36 0 .671 0 .93-.02.275-.022.547-.069.814-.195a2.25 2.25 0 0 0 .968-.873 2.3 2.3 0 0 0 .276-.79c.047-.255.079-.566.115-.924l.739-7.198h.547a.75.75 0 0 0 0-1.5h-3.292a3 3 0 0 0-5.917 0m1.544 0h2.83a1.5 1.5 0 0 0-2.83 0m5.61 1.5h-8.39l.72 7.018c.04.393.066.644.101.835.033.182.065.25.086.284a.75.75 0 0 0 .322.291c.037.018.107.042.291.056.194.015.447.016.841.016h3.667c.395 0 .648 0 .841-.016.184-.014.255-.038.292-.056a.75.75 0 0 0 .322-.29c.021-.035.052-.103.085-.285.035-.19.062-.442.102-.835zM6.213 5.501a.75.75 0 0 1 .786.712l.25 5a.75.75 0 0 1-1.498.075l-.25-5a.75.75 0 0 1 .712-.787Zm3.574 0a.75.75 0 0 1 .712.786l-.25 5a.75.75 0 0 1-1.498-.075l.25-5a.75.75 0 0 1 .786-.711" clip-rule="evenodd" /></symbol>',16,16),Ws=ye("Icon16Done","done_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="done_16"><path fill="currentColor" d="M13.743 3.756a.87.87 0 0 1 0 1.237l-7.317 7.25a.88.88 0 0 1-1.242 0L2.257 9.366a.87.87 0 0 1 0-1.237.88.88 0 0 1 1.242 0l2.306 2.261L12.5 3.756a.88.88 0 0 1 1.242 0" /></symbol>',16,16),Us=ye("Icon20CalendarOutline","calendar_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="calendar_outline_20"><path fill-rule="evenodd" d="M6.25 1a.75.75 0 0 1 .75.75v.257Q7.588 1.998 8.317 2h3.366q.729-.002 1.317.007V1.75a.75.75 0 0 1 1.5 0v.356c.428.064.816.172 1.18.357a4.25 4.25 0 0 1 1.857 1.858c.253.497.361 1.04.413 1.67.05.613.05 1.374.05 2.326v3.366c0 .952 0 1.713-.05 2.327-.052.63-.16 1.172-.413 1.67a4.25 4.25 0 0 1-1.857 1.857c-.498.253-1.04.361-1.67.413-.614.05-1.375.05-2.327.05H8.317c-.952 0-1.713 0-2.327-.05-.63-.052-1.172-.16-1.67-.413a4.25 4.25 0 0 1-1.857-1.857c-.253-.498-.361-1.04-.413-1.67C2 13.396 2 12.635 2 11.683V8.317c0-.952 0-1.713.05-2.327.052-.63.16-1.172.413-1.67a4.25 4.25 0 0 1 1.858-1.857A3.8 3.8 0 0 1 5.5 2.106V1.75A.75.75 0 0 1 6.25 1M5.5 3.63c-.203.044-.361.1-.498.17A2.75 2.75 0 0 0 3.8 5.002c-.128.25-.21.573-.255 1.11-.02.255-.032.543-.038.878h12.986a14 14 0 0 0-.038-.878c-.044-.537-.127-.86-.255-1.11A2.75 2.75 0 0 0 15 3.8a2 2 0 0 0-.499-.17v.12a.75.75 0 0 1-1.5 0v-.243a80 80 0 0 0-1.35-.007h-3.3c-.525 0-.968 0-1.35.007v.243a.75.75 0 0 1-1.5 0zm11 4.86h-13v3.16c0 .992 0 1.692.045 2.238.044.537.127.86.255 1.11A2.75 2.75 0 0 0 5.002 16.2c.25.128.573.21 1.11.255.546.044 1.246.045 2.238.045h3.3c.992 0 1.692 0 2.238-.045.537-.044.86-.127 1.11-.255A2.75 2.75 0 0 0 16.2 15c.128-.252.21-.574.255-1.111.044-.546.045-1.245.045-2.238z" clip-rule="evenodd" /></symbol>',20,20),Ks=ye("Icon20ChevronRightOutline","chevron_right_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="chevron_right_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M7.47 4.217a.75.75 0 0 0 0 1.06L12.185 10l-4.716 4.72a.75.75 0 1 0 1.062 1.06l5.245-5.25a.75.75 0 0 0 0-1.061L8.531 4.218a.75.75 0 0 0-1.061-.001" clip-rule="evenodd" /></symbol>',20,20),qs=ye("Icon20ChevronUp","chevron_up_20","0 0 20 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 16" id="chevron_up_20"><path fill-rule="evenodd" d="M15.78 11.125a1 1 0 0 1-1.405.156L10 7.78l-4.375 3.5a1 1 0 0 1-1.25-1.562l5-4a1 1 0 0 1 1.25 0l5 4a1 1 0 0 1 .156 1.406Z" clip-rule="evenodd" /></symbol>',20,16),Gs=ye("Icon20Dropdown","dropdown_20","0 0 20 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 16" id="dropdown_20"><path fill-rule="evenodd" d="M4.22 5.875a1 1 0 0 1 1.405-.156L10 9.22l4.375-3.5a1 1 0 0 1 1.25 1.562l-5 4a1 1 0 0 1-1.25 0l-5-4a1 1 0 0 1-.156-1.406Z" clip-rule="evenodd" /></symbol>',20,16),Xs=ye("Icon20SendOutline","send_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="send_outline_20"><path fill-rule="evenodd" d="M3.885 8.143c-.502-1.212-.856-2.156-1.014-2.764l-.068-.256a17 17 0 0 1-.183-.73 3.6 3.6 0 0 1-.078-.515c-.01-.16-.02-.51.141-.884a1.64 1.64 0 0 1 1.15-.952c.399-.09.744-.014.91.029.348.09.73.275 1.056.44.928.47 4.532 2.254 7.274 3.611l2.912 1.443.203.1c.446.221.854.423 1.15.598.168.1.393.243.59.433.184.176.544.582.57 1.212.028.656-.32 1.1-.521 1.304a3 3 0 0 1-.595.45c-.274.165-.652.353-1.051.55l-.23.115-2.156 1.079c-2.779 1.39-7.052 3.53-8.164 4.074-.351.172-.744.357-1.088.448a1.9 1.9 0 0 1-.933.025 1.62 1.62 0 0 1-1.167-1.064 1.9 1.9 0 0 1-.075-.863c.023-.177.063-.35.097-.483.033-.131.074-.277.113-.416l.008-.029q.065-.23.135-.494c.156-.6.505-1.535.999-2.738a4.13 4.13 0 0 1 1.551-1.87 4.13 4.13 0 0 1-1.536-1.853m3.687 1.094.348.065.462.088c.758.146 1.15.239 1.236.38a.45.45 0 0 1-.001.47c-.088.142-.48.233-1.239.374l-.463.085-.267.049-.08.014-.168.03c-.981.17-1.793.794-2.143 1.644q-.674 1.642-.894 2.398l-.048.175q-.076.285-.14.515c-.298 1.065-.348 1.243.946.609l.328-.161.183-.09a3002 3002 0 0 0 7.63-3.811l2.169-1.086.334-.166.032-.016c.795-.396 1.201-.608 1.203-.823.002-.213-.393-.43-1.199-.832l-.034-.017-.449-.223-2.892-1.432C10.052 6.3 7.019 4.799 5.639 4.109l-.518-.26c-1.273-.644-1.214-.42-.876.858l.076.289.001.005.04.146q.223.765.909 2.423c.35.847 1.16 1.467 2.138 1.637z" clip-rule="evenodd" /></symbol>',20,20),Zs=ye("Icon24ChevronDown","chevron_down_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="chevron_down_24"><path d="M12 13.698 6.64 9.232a1 1 0 0 0-1.28 1.536l6 5a1 1 0 0 0 1.28 0l6-5a1 1 0 1 0-1.28-1.536z" /></symbol>',24,24),Qs=ye("Icon24ChevronUp","chevron_up_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="chevron_up_24"><path d="m12 10.302-5.36 4.466a1 1 0 1 1-1.28-1.536l6-5a1 1 0 0 1 1.28 0l6 5a1 1 0 1 1-1.28 1.536z" /></symbol>',24,24),Js=ye("Icon24Document","document_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="document_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" d="M4 5v13a3 3 0 0 0 3 3l11 .002A3 3 0 0 0 21 18l-.01-9.172a2 2 0 0 0-.585-1.413l-4.83-4.83A2 2 0 0 0 14.163 2H7a3 3 0 0 0-3 3m10.012-.988 3.976 3.976a.3.3 0 0 1-.212.512H14a.5.5 0 0 1-.5-.5V4.224a.3.3 0 0 1 .512-.212" /></g></symbol>',24,24);function er(e){return!e.startsWith("auto")}function tr(e){const t=e.replace(/auto-|auto/,"");return t==="start"||t==="end"?t:null}function nr(e,t,n,o="max-content",s){const r={position:e,top:n,right:"auto",bottom:"auto",left:t};if(o!==null&&(r.width=o),s){const a=s.hide;a&&a.referenceHidden&&(r.visibility="hidden")}return r}function or(e){if(Array.isArray(e))return e}function sr(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o=[],s=!0,r=!1,a,l;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(o.push(a.value),!(t&&o.length===t));s=!0);}catch(i){r=!0,l=i}finally{try{!s&&n.return!=null&&n.return()}finally{if(r)throw l}}return o}}function rr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Mt(e,t){return or(e)||sr(e,t)||Ys(e,t)||rr()}function Nn(e,t,n){let{reference:o,floating:s}=e;const r=at(t),a=oo(t),l=ro(a),i=Be(t),d=r==="y",m=o.x+o.width/2-s.width/2,f=o.y+o.height/2-s.height/2,g=o[l]/2-s[l]/2;let p;switch(i){case"top":p={x:m,y:o.y-s.height};break;case"bottom":p={x:m,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:f};break;case"left":p={x:o.x-s.width,y:f};break;default:p={x:o.x,y:o.y}}switch(Ne(t)){case"start":p[a]-=g*(n&&d?-1:1);break;case"end":p[a]+=g*(n&&d?-1:1);break}return p}const ar=async(e,t,n)=>{const{placement:o="bottom",strategy:s="absolute",middleware:r=[],platform:a}=n,l=r.filter(Boolean),i=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:f}=Nn(d,o,i),g=o,p={},y=0;for(let x=0;x<l.length;x++){const{name:k,fn:b}=l[x],{x:I,y:O,data:E,reset:M}=await b({x:m,y:f,initialPlacement:o,placement:g,strategy:s,middlewareData:p,rects:d,platform:a,elements:{reference:e,floating:t}});m=I!=null?I:m,f=O!=null?O:f,p={...p,[k]:{...p[k],...E}},M&&y<=50&&(y++,typeof M=="object"&&(M.placement&&(g=M.placement),M.rects&&(d=M.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):M.rects),{x:m,y:f}=Nn(d,g,i)),x=-1)}return{x:m,y:f,placement:g,strategy:s,middlewareData:p}};async function lt(e,t){var n;t===void 0&&(t={});const{x:o,y:s,platform:r,rects:a,elements:l,strategy:i}=e,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:g=!1,padding:p=0}=Ve(t,e),y=ao(p),k=l[g?f==="floating"?"reference":"floating":f],b=Pt(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(k)))==null||n?k:k.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:d,rootBoundary:m,strategy:i})),I=f==="floating"?{x:o,y:s,width:a.floating.width,height:a.floating.height}:a.reference,O=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),E=await(r.isElement==null?void 0:r.isElement(O))?await(r.getScale==null?void 0:r.getScale(O))||{x:1,y:1}:{x:1,y:1},M=Pt(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:I,offsetParent:O,strategy:i}):I);return{top:(b.top-M.top+y.top)/E.y,bottom:(M.bottom-b.bottom+y.bottom)/E.y,left:(b.left-M.left+y.left)/E.x,right:(M.right-b.right+y.right)/E.x}}const ir=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:s,rects:r,platform:a,elements:l,middlewareData:i}=t,{element:d,padding:m=0}=Ve(e,t)||{};if(d==null)return{};const f=ao(m),g={x:n,y:o},p=oo(s),y=ro(p),x=await a.getDimensions(d),k=p==="y",b=k?"top":"left",I=k?"bottom":"right",O=k?"clientHeight":"clientWidth",E=r.reference[y]+r.reference[p]-g[p]-r.floating[y],M=g[p]-r.reference[p],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let T=R?R[O]:0;(!T||!await(a.isElement==null?void 0:a.isElement(R)))&&(T=l.floating[O]||r.floating[y]);const j=E/2-M/2,H=T/2-x[y]/2-1,w=Pe(f[b],H),_=Pe(f[I],H),P=w,z=T-x[y]-_,S=T/2-x[y]/2+j,h=en(P,S,z),v=!i.arrow&&Ne(s)!=null&&S!==h&&r.reference[y]/2-(S<P?w:_)-x[y]/2<0,C=v?S<P?S-P:S-z:0;return{[p]:g[p]+C,data:{[p]:h,centerOffset:S-h-C,...v&&{alignmentOffset:C}},reset:v}}});function lr(e,t,n){return(e?[...n.filter(s=>Ne(s)===e),...n.filter(s=>Ne(s)!==e)]:n.filter(s=>Be(s)===s)).filter(s=>e?Ne(s)===e||(t?Zo(s)!==s:!1):!0)}const cr=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,o,s;const{rects:r,middlewareData:a,placement:l,platform:i,elements:d}=t,{crossAxis:m=!1,alignment:f,allowedPlacements:g=Sn,autoAlignment:p=!0,...y}=Ve(e,t),x=f!==void 0||g===Sn?lr(f||null,p,g):g,k=await lt(t,y),b=((n=a.autoPlacement)==null?void 0:n.index)||0,I=x[b];if(I==null)return{};const O=so(I,r,await(i.isRTL==null?void 0:i.isRTL(d.floating)));if(l!==I)return{reset:{placement:x[0]}};const E=[k[Be(I)],k[O[0]],k[O[1]]],M=[...((o=a.autoPlacement)==null?void 0:o.overflows)||[],{placement:I,overflows:E}],R=x[b+1];if(R)return{data:{index:b+1,overflows:M},reset:{placement:R}};const T=M.map(w=>{const _=Ne(w.placement);return[w.placement,_&&m?w.overflows.slice(0,2).reduce((P,z)=>P+z,0):w.overflows[0],w.overflows]}).sort((w,_)=>w[1]-_[1]),H=((s=T.filter(w=>w[2].slice(0,Ne(w[0])?2:3).every(_=>_<=0))[0])==null?void 0:s[0])||T[0][0];return H!==l?{data:{index:b+1,overflows:M},reset:{placement:H}}:{}}}},ur=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:s,middlewareData:r,rects:a,initialPlacement:l,platform:i,elements:d}=t,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...k}=Ve(e,t);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const b=Be(s),I=at(l),O=Be(l)===l,E=await(i.isRTL==null?void 0:i.isRTL(d.floating)),M=g||(O||!x?[qo(l)]:Go(l)),R=y!=="none";!g&&R&&M.push(...Xo(l,x,y,E));const T=[l,...M],j=await lt(t,k),H=[];let w=((o=r.flip)==null?void 0:o.overflows)||[];if(m&&H.push(j[b]),f){const S=so(s,a,E);H.push(j[S[0]],j[S[1]])}if(w=[...w,{placement:s,overflows:H}],!H.every(S=>S<=0)){var _,P;const S=(((_=r.flip)==null?void 0:_.index)||0)+1,h=T[S];if(h)return{data:{index:S,overflows:w},reset:{placement:h}};let v=(P=w.filter(C=>C.overflows[0]<=0).sort((C,D)=>C.overflows[1]-D.overflows[1])[0])==null?void 0:P.placement;if(!v)switch(p){case"bestFit":{var z;const C=(z=w.filter(D=>{if(R){const L=at(D.placement);return L===I||L==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(L=>L>0).reduce((L,$)=>L+$,0)]).sort((D,L)=>D[1]-L[1])[0])==null?void 0:z[0];C&&(v=C);break}case"initialPlacement":v=l;break}if(s!==v)return{reset:{placement:v}}}return{}}}};function An(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function jn(e){return Qo.some(t=>e[t]>=0)}const dr=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...s}=Ve(e,t);switch(o){case"referenceHidden":{const r=await lt(t,{...s,elementContext:"reference"}),a=An(r,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:jn(a)}}}case"escaped":{const r=await lt(t,{...s,altBoundary:!0}),a=An(r,n.floating);return{data:{escapedOffsets:a,escaped:jn(a)}}}default:return{}}}}};async function fr(e,t){const{placement:n,platform:o,elements:s}=e,r=await(o.isRTL==null?void 0:o.isRTL(s.floating)),a=Be(n),l=Ne(n),i=at(n)==="y",d=["left","top"].includes(a)?-1:1,m=r&&i?-1:1,f=Ve(t,e);let{mainAxis:g,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),i?{x:p*m,y:g*d}:{x:g*d,y:p*m}}const hr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:s,y:r,placement:a,middlewareData:l}=t,i=await fr(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:s+i.x,y:r+i.y,data:{...i,placement:a}}}}},pr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:s}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:l={fn:k=>{let{x:b,y:I}=k;return{x:b,y:I}}},...i}=Ve(e,t),d={x:n,y:o},m=await lt(t,i),f=at(Be(s)),g=Jo(f);let p=d[g],y=d[f];if(r){const k=g==="y"?"top":"left",b=g==="y"?"bottom":"right",I=p+m[k],O=p-m[b];p=en(I,p,O)}if(a){const k=f==="y"?"top":"left",b=f==="y"?"bottom":"right",I=y+m[k],O=y-m[b];y=en(I,y,O)}const x=l.fn({...t,[g]:p,[f]:y});return{...x,data:{x:x.x-n,y:x.y-o}}}}},mr=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:o,platform:s,elements:r}=t,{apply:a=()=>{},...l}=Ve(e,t),i=await lt(t,l),d=Be(n),m=Ne(n),f=at(n)==="y",{width:g,height:p}=o.floating;let y,x;d==="top"||d==="bottom"?(y=d,x=m===(await(s.isRTL==null?void 0:s.isRTL(r.floating))?"start":"end")?"left":"right"):(x=d,y=m==="end"?"top":"bottom");const k=p-i.top-i.bottom,b=g-i.left-i.right,I=Pe(p-i[y],k),O=Pe(g-i[x],b),E=!t.middlewareData.shift;let M=I,R=O;if(f?R=m||E?Pe(O,b):b:M=m||E?Pe(I,k):k,E&&!m){const j=Ce(i.left,0),H=Ce(i.right,0),w=Ce(i.top,0),_=Ce(i.bottom,0);f?R=g-2*(j!==0||H!==0?j+H:Ce(i.left,i.right)):M=p-2*(w!==0||_!==0?w+_:Ce(i.top,i.bottom))}await a({...t,availableWidth:R,availableHeight:M});const T=await s.getDimensions(r.floating);return g!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function po(e){const t=Ee(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const s=ze(e),r=s?e.offsetWidth:n,a=s?e.offsetHeight:o,l=Nt(n)!==r||Nt(o)!==a;return l&&(n=r,o=a),{width:n,height:o,$:l}}function hn(e){return je(e)?e:e.contextElement}function st(e){const t=hn(e);if(!ze(t))return Ye(1);const n=t.getBoundingClientRect(),{width:o,height:s,$:r}=po(t);let a=(r?Nt(n.width):n.width)/o,l=(r?Nt(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const vr=Ye(0);function mo(e){const t=Ge(e);return!fo()||!t.visualViewport?vr:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gr(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ge(e)?!1:t}function Xe(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),r=hn(e);let a=Ye(1);t&&(o?je(o)&&(a=st(o)):a=st(e));const l=gr(r,n,o)?mo(r):Ye(0);let i=(s.left+l.x)/a.x,d=(s.top+l.y)/a.y,m=s.width/a.x,f=s.height/a.y;if(r){const g=Ge(r),p=o&&je(o)?Ge(o):o;let y=g,x=y.frameElement;for(;x&&o&&p!==y;){const k=st(x),b=x.getBoundingClientRect(),I=Ee(x),O=b.left+(x.clientLeft+parseFloat(I.paddingLeft))*k.x,E=b.top+(x.clientTop+parseFloat(I.paddingTop))*k.y;i*=k.x,d*=k.y,m*=k.x,f*=k.y,i+=O,d+=E,y=Ge(x),x=y.frameElement}}return Pt({width:m,height:f,x:i,y:d})}function br(e){let{elements:t,rect:n,offsetParent:o,strategy:s}=e;const r=s==="fixed",a=We(o),l=t?cn(t.floating):!1;if(o===a||l&&r)return n;let i={scrollLeft:0,scrollTop:0},d=Ye(1);const m=Ye(0),f=ze(o);if((f||!f&&!r)&&((un(o)!=="body"||dn(a))&&(i=Ht(o)),ze(o))){const g=Xe(o);d=st(o),m.x=g.x+o.clientLeft,m.y=g.y+o.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-i.scrollLeft*d.x+m.x,y:n.y*d.y-i.scrollTop*d.y+m.y}}function yr(e){return Array.from(e.getClientRects())}function vo(e){return Xe(We(e)).left+Ht(e).scrollLeft}function wr(e){const t=We(e),n=Ht(e),o=e.ownerDocument.body,s=Ce(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),r=Ce(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+vo(e);const l=-n.scrollTop;return Ee(o).direction==="rtl"&&(a+=Ce(t.clientWidth,o.clientWidth)-s),{width:s,height:r,x:a,y:l}}function Cr(e,t){const n=Ge(e),o=We(e),s=n.visualViewport;let r=o.clientWidth,a=o.clientHeight,l=0,i=0;if(s){r=s.width,a=s.height;const d=fo();(!d||d&&t==="fixed")&&(l=s.offsetLeft,i=s.offsetTop)}return{width:r,height:a,x:l,y:i}}function xr(e,t){const n=Xe(e,!0,t==="fixed"),o=n.top+e.clientTop,s=n.left+e.clientLeft,r=ze(e)?st(e):Ye(1),a=e.clientWidth*r.x,l=e.clientHeight*r.y,i=s*r.x,d=o*r.y;return{width:a,height:l,x:i,y:d}}function En(e,t,n){let o;if(t==="viewport")o=Cr(e,n);else if(t==="document")o=wr(We(e));else if(je(t))o=xr(t,n);else{const s=mo(e);o={...t,x:t.x-s.x,y:t.y-s.y}}return Pt(o)}function go(e,t){const n=yt(e);return n===t||!je(n)||jt(n)?!1:Ee(n).position==="fixed"||go(n,t)}function kr(e,t){const n=t.get(e);if(n)return n;let o=nn(e,[],!1).filter(l=>je(l)&&un(l)!=="body"),s=null;const r=Ee(e).position==="fixed";let a=r?yt(e):e;for(;je(a)&&!jt(a);){const l=Ee(a),i=uo(a);!i&&l.position==="fixed"&&(s=null),(r?!i&&!s:!i&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||dn(a)&&!i&&go(e,a))?o=o.filter(m=>m!==a):s=l,a=yt(a)}return t.set(e,o),o}function Dr(e){let{element:t,boundary:n,rootBoundary:o,strategy:s}=e;const a=[...n==="clippingAncestors"?cn(t)?[]:kr(t,this._c):[].concat(n),o],l=a[0],i=a.reduce((d,m)=>{const f=En(t,m,s);return d.top=Ce(f.top,d.top),d.right=Pe(f.right,d.right),d.bottom=Pe(f.bottom,d.bottom),d.left=Ce(f.left,d.left),d},En(t,l,s));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}}function Rr(e){const{width:t,height:n}=po(e);return{width:t,height:n}}function Sr(e,t,n){const o=ze(t),s=We(t),r=n==="fixed",a=Xe(e,!0,r,t);let l={scrollLeft:0,scrollTop:0};const i=Ye(0);if(o||!o&&!r)if((un(t)!=="body"||dn(s))&&(l=Ht(t)),o){const f=Xe(t,!0,r,t);i.x=f.x+t.clientLeft,i.y=f.y+t.clientTop}else s&&(i.x=vo(s));const d=a.left+l.scrollLeft-i.x,m=a.top+l.scrollTop-i.y;return{x:d,y:m,width:a.width,height:a.height}}function Zt(e){return Ee(e).position==="static"}function Fn(e,t){return!ze(e)||Ee(e).position==="fixed"?null:t?t(e):e.offsetParent}function bo(e,t){const n=Ge(e);if(cn(e))return n;if(!ze(e)){let s=yt(e);for(;s&&!jt(s);){if(je(s)&&!Zt(s))return s;s=yt(s)}return n}let o=Fn(e,t);for(;o&&Ss(o)&&Zt(o);)o=Fn(o,t);return o&&jt(o)&&Zt(o)&&!uo(o)?n:o||_s(e)||n}const _r=async function(e){const t=this.getOffsetParent||bo,n=this.getDimensions,o=await n(e.floating);return{reference:Sr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Mr(e){return Ee(e).direction==="rtl"}const Or={convertOffsetParentRelativeRectToViewportRelativeRect:br,getDocumentElement:We,getClippingRect:Dr,getOffsetParent:bo,getElementRects:_r,getClientRects:yr,getDimensions:Rr,getScale:st,isElement:je,isRTL:Mr};function Ir(e,t){let n=null,o;const s=We(e);function r(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function a(l,i){l===void 0&&(l=!1),i===void 0&&(i=1),r();const{left:d,top:m,width:f,height:g}=e.getBoundingClientRect();if(l||t(),!f||!g)return;const p=St(m),y=St(s.clientWidth-(d+f)),x=St(s.clientHeight-(m+g)),k=St(d),I={rootMargin:-p+"px "+-y+"px "+-x+"px "+-k+"px",threshold:Ce(0,Pe(1,i))||1};let O=!0;function E(M){const R=M[0].intersectionRatio;if(R!==i){if(!O)return a();R?a(!1,R):o=setTimeout(()=>{a(!1,1e-7)},1e3)}O=!1}try{n=new IntersectionObserver(E,{...I,root:s.ownerDocument})}catch(M){n=new IntersectionObserver(E,I)}n.observe(e)}return a(!0),r}function Tr(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:i=!1}=o,d=hn(e),m=s||r?[...d?nn(d):[],...nn(t)]:[];m.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),r&&b.addEventListener("resize",n)});const f=d&&l?Ir(d,n):null;let g=-1,p=null;a&&(p=new ResizeObserver(b=>{let[I]=b;I&&I.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var O;(O=p)==null||O.observe(t)})),n()}),d&&!i&&p.observe(d),p.observe(t));let y,x=i?Xe(e):null;i&&k();function k(){const b=Xe(e);x&&(b.x!==x.x||b.y!==x.y||b.width!==x.width||b.height!==x.height)&&n(),x=b,y=requestAnimationFrame(k)}return n(),()=>{var b;m.forEach(I=>{s&&I.removeEventListener("scroll",n),r&&I.removeEventListener("resize",n)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,i&&cancelAnimationFrame(y)}}const Pr=hr,Nr=cr,Ar=pr,jr=ur,Er=mr,Fr=dr,Ln=ir,Lr=(e,t,n)=>{const o=new Map,s={platform:Or,...n},r={...s.platform,_c:o};return ar(e,t,{...s,platform:r})};var Tt=typeof document<"u"?c.useLayoutEffect:c.useEffect;function Ft(e,t){if(e===t)return!0;if((typeof e>"u"?"undefined":_n(e))!==(typeof t>"u"?"undefined":_n(t)))return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;var n,o,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!Ft(e[o],t[o]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,s[o]))return!1;for(o=n;o--!==0;){var r=s[o];if(!(r==="_owner"&&e.$$typeof)&&!Ft(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function yo(e){if(typeof window>"u")return 1;var t=e.ownerDocument.defaultView||window;return t.devicePixelRatio||1}function Hn(e,t){var n=yo(e);return Math.round(t*n)/n}function $n(e){var t=c.useRef(e);return Tt(function(){t.current=e}),t}function Hr(e){e===void 0&&(e={});var t=e.placement,n=t===void 0?"bottom":t,o=e.strategy,s=o===void 0?"absolute":o,r=e.middleware,a=r===void 0?[]:r,l=e.platform,i=e.elements,d=i===void 0?{}:i,m=d.reference,f=d.floating,g=e.transform,p=g===void 0?!0:g,y=e.whileElementsMounted,x=e.open,k=Mt(c.useState({x:0,y:0,strategy:s,placement:n,middlewareData:{},isPositioned:!1}),2),b=k[0],I=k[1],O=Mt(c.useState(a),2),E=O[0],M=O[1];Ft(E,a)||M(a);var R=Mt(c.useState(null),2),T=R[0],j=R[1],H=Mt(c.useState(null),2),w=H[0],_=H[1],P=c.useCallback(function(F){F!==v.current&&(v.current=F,j(F))},[]),z=c.useCallback(function(F){F!==C.current&&(C.current=F,_(F))},[]),S=m||T,h=f||w,v=c.useRef(null),C=c.useRef(null),D=c.useRef(b),L=y!=null,$=$n(y),A=$n(l),B=c.useCallback(function(){if(!(!v.current||!C.current)){var F={placement:n,strategy:s,middleware:E};A.current&&(F.platform=A.current),Lr(v.current,C.current,F).then(function(X){var K=U(W({},X),{isPositioned:!0});Z.current&&!Ft(D.current,K)&&(D.current=K,es.flushSync(function(){I(K)}))})}},[E,n,s,A]);Tt(function(){x===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,I(function(F){return U(W({},F),{isPositioned:!1})}))},[x]);var Z=c.useRef(!1);Tt(function(){return Z.current=!0,function(){Z.current=!1}},[]),Tt(function(){if(S&&(v.current=S),h&&(C.current=h),S&&h){if($.current)return $.current(S,h,B);B()}},[S,h,B,$,L]);var G=c.useMemo(function(){return{reference:v,floating:C,setReference:P,setFloating:z}},[P,z]),q=c.useMemo(function(){return{reference:S,floating:h}},[S,h]),se=c.useMemo(function(){var F={position:s,left:0,top:0};if(!q.floating)return F;var X=Hn(q.floating,b.x),K=Hn(q.floating,b.y);return p?W(U(W({},F),{transform:"translate("+X+"px, "+K+"px)"}),yo(q.floating)>=1.5&&{willChange:"transform"}):{position:s,left:X,top:K}},[s,p,q.floating,b.x,b.y]);return c.useMemo(function(){return U(W({},b),{update:B,refs:G,elements:q,floatingStyles:se})},[b,B,G,q,se])}var $r=function(e){var t=function(o){return{}.hasOwnProperty.call(o,"current")};return{name:"arrow",options:e,fn:function(o){var s=typeof e=="function"?e(o):e,r=s.element,a=s.padding;return r&&t(r)?r.current!=null?Ln({element:r.current,padding:a}).fn(o):{}:r?Ln({element:r,padding:a}).fn(o):{}}}},Br=function(e,t){return U(W({},Pr(e)),{options:[e,t]})},Yr=function(e,t){return U(W({},Ar(e)),{options:[e,t]})},zr=function(e,t){return U(W({},jr(e)),{options:[e,t]})},Vr=function(e,t){return U(W({},Er(e)),{options:[e,t]})},Wr=function(e,t){return U(W({},Nr(e)),{options:[e,t]})},Ur=function(e,t){return U(W({},Fr(e)),{options:[e,t]})},Kr=function(e,t){return U(W({},$r(e)),{options:[e,t]})};const qr={ancestorScroll:!0,ancestorResize:!0,elementResize:!1,animationFrame:!1};function Gr(e,t,n,o=qr){const{elementResize:s=!1}=o,r=re(o,["elementResize"]),a=window.ResizeObserver!==void 0,l=Tr(e,t,n,U(W({},r),{elementResize:s&&a}));let i=null;return s&&!a&&(i=new Ms(n),io(e)&&i.observe(e),i.observe(t),i.appendToTheDOM()),()=>{i&&(i.disconnect(),i=null),l()}}const Xr=({placement:e="bottom-start",arrowRef:t=null,arrow:n,arrowHeight:o,arrowPadding:s,sameWidth:r,offsetByMainAxis:a=0,offsetByCrossAxis:l=0,customMiddlewares:i,hideWhenReferenceHidden:d,disableFlipMiddleware:m=!1})=>c.useMemo(()=>{const f=!er(e),g=[Br({crossAxis:l,mainAxis:n&&o?a+o:a})];return f?g.push(Wr({alignment:tr(e)})):m||g.push(zr({fallbackAxisSideDirection:"start"})),g.push(Yr()),r&&g.push(Vr({apply({rects:p,elements:y}){Object.assign(y.floating.style,{width:"".concat(p.reference.width,"px")})}})),i&&g.push(...i),n&&g.push(Kr({element:t,padding:s})),d&&g.push(Ur()),{middlewares:g,strictPlacement:f?void 0:e}},[l,t,n,o,s,a,r,i,e,d,m]);function Zr(e){var{onChange:t,disabled:n}=e,o=re(e,["onChange","disabled"]);const[s,r]=wo(o),a=c.useCallback(l=>{n||(r(l.target.value),t&&t(l))},[r,t,n]);return[s,a]}function wo({value:e,defaultValue:t,disabled:n,onChange:o}){const s=e!==void 0,[r,a]=c.useState(t),l=c.useRef(e);xe(()=>{l.current=e});const i=c.useCallback(d=>{if(!n)if(ts(d)){if(!s)a(m=>{const f=d(m);return o&&o(f),f});else if(o){const m=d(l.current);o(m)}}else o&&o(d),s||a(d)},[n,s,o]);return[s?e:r,i]}const Qr=(e,...t)=>{const{document:n}=it();xe(()=>{const o=t.some(r=>r&&r.current!==null);if(!n||!o)return;const s=r=>{const a=r.target;ns(a)&&t.some(i=>i&&i.current&&i.current.contains(a))||e(r)};return n.addEventListener("click",s,{passive:!0,capture:!0}),()=>{n.removeEventListener("click",s,!0)}},[n,e,...t])};function Jr(e,t,n){const o=Os(t);xe(()=>{if(!n)return;(o===void 0&&e!==t||o!==void 0&&o!==t)&&n(t)},[o,e,t,n])}const Bn=20,Co=8,ea=10,ta=1,Yn=Co+ta,xo=e=>u.jsx("svg",U(W({width:Bn,height:Yn,viewBox:"0 0 ".concat(Bn," ").concat(Yn),xmlns:"http://www.w3.org/2000/svg"},e),{children:u.jsx("path",{d:"M10 0c3 0 6 8 10 8v1H0V8c3.975 0 7-8 10-8Z",fill:"currentColor"})})),na={right:"vkuiFloatingArrow--placement-right",bottom:"vkuiFloatingArrow--placement-bottom",left:"vkuiFloatingArrow--placement-left"},oa=e=>{var{offset:t,isStaticOffset:n,coords:o,iconStyle:s,iconClassName:r,placement:a="bottom",getRootRef:l,Icon:i=xo}=e,d=re(e,["offset","isStaticOffset","coords","iconStyle","iconClassName","placement","getRootRef","Icon"]);const[m,f]=sa(a,o,t,n);return u.jsx("div",U(W({ref:l,style:f,className:ne("vkuiFloatingArrow",m&&na[m])},d),{children:u.jsx(i,{className:ne("vkuiFloatingArrow__in",r),style:s})}))};function sa(e,t={x:0,y:0},n=0,o=!1){const s=r=>{const a={x:t.x||0,y:t.y||0};return r?o?n:a.y+n:o?n:a.x+n};return e.startsWith("top")?["bottom",{top:"100%",[zn(e,o)]:s(!1)}]:e.startsWith("right")?["left",{[Vn(e,o)]:s(!0),left:0}]:e.startsWith("bottom")?[void 0,{bottom:"100%",[zn(e,o)]:s(!1)}]:["right",{[Vn(e,o)]:s(!0),right:0}]}function zn(e,t){return e.endsWith("end")&&t?"right":"left"}function Vn(e,t){return e.endsWith("end")&&t?"bottom":"top"}const ko=e=>{var{placement:t="bottom-start",sameWidth:n,hideWhenReferenceHidden:o,offsetByMainAxis:s=8,offsetByCrossAxis:r=0,arrow:a,arrowHeight:l=Co,arrowPadding:i=ea,customMiddlewares:d,disableFlipMiddleware:m=!1,autoUpdateOnTargetResize:f=!1,arrowProps:g,ArrowIcon:p=xo,targetRef:y,getRootRef:x,children:k,usePortal:b=!0,style:I,onPlacementChange:O}=e,E=re(e,["placement","sameWidth","hideWhenReferenceHidden","offsetByMainAxis","offsetByCrossAxis","arrow","arrowHeight","arrowPadding","customMiddlewares","disableFlipMiddleware","autoUpdateOnTargetResize","arrowProps","ArrowIcon","targetRef","getRootRef","children","usePortal","style","onPlacementChange"]);const[M,R]=c.useState(null),{strictPlacement:T,middlewares:j}=Xr({placement:t,sameWidth:n,arrow:a,arrowRef:M,arrowHeight:l,arrowPadding:i,offsetByMainAxis:s,offsetByCrossAxis:r,hideWhenReferenceHidden:o,customMiddlewares:d,disableFlipMiddleware:m}),{x:H,y:w,strategy:_,placement:P,refs:z,middlewareData:S}=Hr({placement:T,middleware:j,whileElementsMounted(...D){return Gr(...D,{elementResize:f})}});Jr(t,P,O);const{arrow:h}=S,v=Oe(z.setFloating,x);xe(()=>{z.setReference("current"in y?y.current:y)},[z.setReference,y]);const C=u.jsxs(ht,U(W({},E),{baseClassName:"vkuiPopper",getRootRef:v,style:W({},I,nr(_,H,w,n?null:void 0,S)),children:[a&&u.jsx(oa,U(W({},g),{coords:h,placement:P,getRootRef:R,Icon:p})),k]}));return u.jsx(Is,{usePortal:b,children:C})},ra=(e=!1)=>{const[t,n]=c.useState(e),o=c.useCallback(()=>{n(!0)},[]),s=c.useCallback(()=>{n(!1)},[]),r=c.useCallback(()=>{n(!t)},[t]);return{value:t,setTrue:o,setFalse:s,toggle:r}},aa=(e,t)=>{xe(()=>{if(!e.current)return;const n=e.current.closest("form");if(n)return n.addEventListener("reset",t),()=>{n.removeEventListener("reset",t)}},[e,t])},ia=e=>{var{children:t="Выберите файл",align:n="left",size:o,mode:s,stretched:r,before:a,after:l,loading:i,className:d,style:m,getRef:f,getRootRef:g,appearance:p}=e,y=re(e,["children","align","size","mode","stretched","before","after","loading","className","style","getRef","getRootRef","appearance"]);return u.jsxs(an,{Component:"label",align:n,className:d,stretched:r,mode:s,appearance:p,size:o,before:a,after:l,loading:i,style:m,getRootRef:g,disabled:y.disabled,children:[u.jsx(Ae,U(W({title:""},y),{Component:"input",type:"file",getRootRef:f})),t]})},la={none:"vkuiChip--sizeY-none",compact:"vkuiChip--sizeY-compact"},ca=e=>{var{Component:t="span",value:n="",removable:o=!0,onRemove:s=rs,removeLabel:r="Удалить",before:a,after:l,disabled:i,readOnly:d,children:m,className:f,onFocus:g,onBlur:p}=e,y=re(e,["Component","value","removable","onRemove","removeLabel","before","after","disabled","readOnly","children","className","onFocus","onBlur"]);const{sizeY:x="none"}=Ze(),{focusVisible:k,onFocus:b,onBlur:I}=os(),O=ss({focusVisible:k}),E=T=>{g&&g(T),b(T)},M=T=>{p&&p(T),I(T)},R=c.useCallback(T=>{s(T,n)},[s,n]);return u.jsxs(ht,U(W({},y),{Component:t,className:ne("vkuiChip",x!=="regular"&&la[x],O,f),"aria-readonly":d,"aria-disabled":i,onFocus:i?void 0:E,onBlur:i?void 0:M,children:[u.jsxs("div",{className:"vkuiChip__in",children:[gt(a)&&u.jsx("div",{className:"vkuiChip__before",children:a}),u.jsx(wt,{className:"vkuiChip__content",children:m}),gt(l)&&u.jsx("div",{className:"vkuiChip__after",children:l})]}),!d&&o&&u.jsx("div",{className:"vkuiChip__removable",children:u.jsxs("button",{tabIndex:-1,disabled:i,className:"vkuiChip__remove",onClick:i?void 0:R,children:[u.jsxs(Ae,{children:["  ",r," ",m]}),u.jsx(ho,{})]})})]}))},Bt=[],ct="";function Yt(e){return e.value}function zt(e){return e.label}function pn(e,t){return{value:e,label:t}}function Do(e){const{label:t}=e,n=re(e,["label"]);return u.jsx(ca,U(W({removable:!e.disabled},n),{children:t}))}const Ro=e=>typeof e=="object"&&"value"in e,Wn=e=>e?e.value===ct:!0,ua=(e,t)=>{const n=Ro(e)?e.value:e;return t.findIndex(o=>o.value===n)},Qt=e=>{const t=e&&e.dataset.index;return typeof t=="string"?Number(t):-1},da=e=>{const t=e&&e.dataset.value;return typeof t=="string"?t:-1},fa=(e,t,n)=>{const s=n-1;switch(t){case"first":return 0;case"prev":const r=e-1;return r<0?s:r;case"next":const a=e+1;return a>s?0:a;case"last":return s;default:return-1}},ha={none:"vkuiChipsInputBase--sizeY-none",compact:"vkuiChipsInputBase--sizeY-compact"},pa=e=>{var{getRootRef:t,style:n,className:o,before:s,after:r,status:a,mode:l,value:i=Bt,onAddChipOption:d,onRemoveChipOption:m,renderChip:f=Do,getRef:g,id:p,inputValue:y=ct,placeholder:x,disabled:k,readOnly:b,addOnBlur:I,onBlur:O,onInputChange:E}=e,M=re(e,["getRootRef","style","className","before","after","status","mode","value","onAddChipOption","onRemoveChipOption","renderChip","getRef","id","inputValue","placeholder","disabled","readOnly","addOnBlur","onBlur","onInputChange"]);const{sizeY:R="none"}=Ze(),T=c.useId(),j=Oe(g),H=c.useRef(null),w=i.length,_=w===0,[P,z]=c.useState(0),S=A=>{z(0),A.focus()},h=(A,B,Z)=>{const G=fa(A,B,w),q=Z.querySelector('[data-index="'.concat(G,'"]'));q&&(z(G),q.focus())},v=(A,B)=>{!j.current||!H.current||(w>1?B===w-1?h(B,"prev",H.current):h(B,"next",H.current):S(j.current),m(A))},C=A=>{const B=A.target;if(!(A.defaultPrevented||!H.current||!io(B)))switch(A.key){case ve.ENTER:{!b&&_t(B,j.current)&&j.current&&!Wn(j.current)&&(A.preventDefault(),d(j.current.value));break}case ve.DELETE:case ve.BACKSPACE:{!b&&w>0&&(_t(B,j.current)?A.key===ve.BACKSPACE&&Wn(j.current)&&(A.preventDefault(),h(Qt(B),"last",H.current)):(A.preventDefault(),v(da(B),Qt(B))));break}case ve.ARROW_UP:case ve.ARROW_LEFT:case ve.ARROW_DOWN:case ve.ARROW_RIGHT:{w!==0&&!_t(B,j.current)&&(A.preventDefault(),h(Qt(B),as(A.key),H.current));break}}},D=A=>{O&&O(A),I&&!A.defaultPrevented&&j.current&&d(j.current.value)},L=(A,B)=>{A.preventDefault(),A.stopPropagation(),v(B,ua(B,i))},$=A=>{_t(A.currentTarget,is(A.currentTarget))||j.current&&j.current.focus()};return u.jsx(fn,{Component:"div",getRootRef:t,style:n,disabled:k,before:s,after:r,status:a,mode:l,className:o,onClick:k?void 0:$,children:u.jsxs("div",{className:ne("vkuiChipsInputBase",R!=="regular"&&ha[R],_&&"vkuiChipsInputBase--hasPlaceholder"),ref:H,role:"listbox","aria-orientation":"horizontal","aria-disabled":k,"aria-readonly":b,onKeyDown:k?void 0:C,children:[i.map((A,B)=>u.jsx(c.Fragment,{children:f({Component:"div",value:A.value,label:A.label,disabled:A.disabled||k,readOnly:A.readOnly||b,className:"vkuiChipsInputBase__chip",onRemove:L,"data-index":B,"data-value":A.value,tabIndex:P===B?0:-1,role:"option","aria-selected":!0,"aria-posinset":B+1,"aria-setsize":w},A)},"".concat(typeof A.value,"-").concat(A.label))),u.jsx($t,U(W({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1},M),{Component:"input",type:"text",id:p||"chips-input-base-generated-id-".concat(T),getRootRef:j,className:"vkuiChipsInputBase__el",disabled:k,readOnly:b,placeholder:_?x:void 0,value:y,onChange:E,onBlur:D}))]})})},ma=(e,t="")=>{try{const n=e.value;e.value=t;const o=e._valueTracker;o&&o.setValue(n);const s=new Event("input",{bubbles:!0});e.dispatchEvent(s)}catch(n){}},on=(e,t,n)=>e.map(o=>U(W({},o),{label:n(o),value:t(o)})),va=({value:e,defaultValue:t=Bt,onChange:n,getOptionLabel:o=zt,getOptionValue:s=Yt,getNewOptionData:r=pn,inputValue:a,defaultInputValue:l=ct,onInputChange:i,disabled:d})=>{const[m,f]=wo({disabled:d,value:e?on(e,s,o):void 0,defaultValue:on(t,s,o),onChange:n}),g=c.useRef(null),[p,y]=Zr({disabled:d,value:a,defaultValue:l,onChange:i}),x=c.useCallback((M,R)=>{f(T=>{const j=Ro(M),H=j?r(M.value,M.label):r(M,typeof M=="string"?M:""),w=T.filter(_=>H.value!==_.value);return R===!0&&w.push(j?W({},M,H):H),w})},[f,r]),k=c.useCallback(()=>{g.current&&ma(g.current,"")},[g]),b=c.useCallback(M=>x(M,!0),[x]),I=c.useCallback(M=>x(M,!1),[x]),O=c.useCallback(M=>{const R=M.trim();R&&(b(R),k())},[b,k]),E=c.useCallback(()=>{f(t)},[t,f]);return aa(g,E),{value:m,addOption:b,addOptionFromInput:O,removeOption:I,inputRef:g,inputValue:p,onInputChange:y,clearInput:k}};function ga(e){return e.label}function Vt(...e){const[t="",n,o]=e,s=o?o(n):ga(n);if(s===void 0)return!1;const r=t.toLocaleLowerCase(),a=Ts(s).toLocaleLowerCase();if(a.startsWith(r))return!0;const i=((d="",m="")=>{const f=[];let g=d.indexOf(m);for(;g!==-1;)f.push(g),g=d.indexOf(m,g+1);return f})(a,r);if(i.length){const d=new RegExp("\\p{L}","u");for(const m of i)if(!d.test(a[m-1]))return!0}return!1}const ba=(e="default")=>e==="default"?"default":"plain",ya=(e=!1,t=500)=>{const[n,o]=c.useState(e?"hidden":"visible"),s=c.useRef(!1),r=c.useRef(!1),a=c.useCallback(()=>{r.current=!0,o("visible")},[]),l=c.useCallback(()=>{r.current=!1,s.current||o("temporary-visible")},[]),i=c.useCallback(()=>{s.current=!0,o("visible")},[]),d=c.useCallback(()=>{s.current=!1,r.current||o("temporary-visible")},[]),m=c.useCallback(()=>{s.current||r.current||o("temporary-visible")},[]);return c.useEffect(function(){let g=null;return n==="temporary-visible"&&(g=setTimeout(()=>{o("hidden")},t)),function(){g&&clearTimeout(g)}},[n,t]),{trackerVisible:n!=="hidden",onTrackerDragStart:a,onTrackerDragStop:l,onTrackerMouseEnter:i,onTrackerMouseLeave:d,onTargetScroll:m}};function wa(e){switch(e){case!0:return"vkuiCustomScrollView--hasPointer-true";case!1:return"vkuiCustomScrollView--hasPointer-false";case void 0:default:return"vkuiCustomScrollView--hasPointer-none"}}const Ca=e=>{var{className:t,children:n,boxRef:o,windowResize:s,autoHideScrollbar:r=!1,autoHideScrollbarDelay:a,onScroll:l,getRootRef:i}=e,d=re(e,["className","children","boxRef","windowResize","autoHideScrollbar","autoHideScrollbarDelay","onScroll","getRootRef"]);const{document:m,window:f}=it(),{hasPointer:g}=Ze(),p=c.useRef(NaN),y=c.useRef(0),x=c.useRef(0),k=c.useRef(0),b=c.useRef(0),I=c.useRef(""),O=c.useRef(0),E=c.useRef(0),M=Oe(o),R=c.useRef(null),T=c.useRef(null),j=c.useRef(null),H=F=>{y.current=F,j.current!==null&&(j.current.style[I.current]="translate(0, ".concat(F,"px)"))},w=F=>{const X=F/(b.current-x.current);H((x.current-k.current)*X)},_=()=>{if(!M.current||!T.current||!j.current)return;const F=M.current.clientHeight,X=M.current.scrollHeight,K=F/X,ae=Math.max(F*K,40);p.current=K,x.current=F,b.current=X,k.current=ae,K>=1?T.current.style.display="none":(T.current.style.display="",j.current.style.height="".concat(ae,"px"),w(M.current.scrollTop))},P=Xt("resize",_);xe(()=>{s&&f&&P.add(f)},[s,f]),Ps(R,_),xe(()=>{var F;let X=(F=j.current)===null||F===void 0?void 0:F.style,K="";X!==void 0&&("transform"in X?K="transform":"webkitTransform"in X&&(K="webkitTransform")),I.current=K},[]),xe(_);const z=F=>{const X=F/(x.current-k.current);M.current!==null&&(M.current.scrollTop=(b.current-x.current)*X)},S=F=>{F.preventDefault();const X=F.clientY-O.current,K=Math.min(Math.max(E.current+X,0),x.current-k.current);z(K)},{trackerVisible:h,onTargetScroll:v,onTrackerDragStart:C,onTrackerDragStop:D,onTrackerMouseEnter:L,onTrackerMouseLeave:$}=ya(r,a),A=F=>{F.preventDefault(),r&&D(),q()},B=F=>{p.current>=1||!M.current||(r&&v(),w(M.current.scrollTop),l==null||l(F))},Z=[Xt("mousemove",S),Xt("mouseup",A)];function G(F){F&&Z.forEach(X=>X.add(F))}function q(){Z.forEach(F=>F.remove())}const se=F=>{F.preventDefault(),O.current=F.clientY,E.current=y.current,r&&C(),G(m)};return u.jsxs("div",U(W({className:ne(t,"vkuiCustomScrollView",wa(g)),ref:i},d),{children:[u.jsx("div",{className:"vkuiCustomScrollView__box",tabIndex:-1,ref:M,onScroll:B,children:u.jsx("div",{ref:R,className:"vkuiCustomScrollView__box-content",children:n})}),u.jsx("div",{className:"vkuiCustomScrollView__barY",ref:T,onClick:bt,children:u.jsx("div",{className:ne("vkuiCustomScrollView__trackerY",!h&&"vkuiCustomScrollView__trackerY--hidden"),onMouseEnter:r?L:void 0,onMouseLeave:r?$:void 0,ref:j,onMouseDown:se})})]}))},Un=e=>e.startsWith("top"),So=e=>{var{children:t,targetRef:n,scrollBoxRef:o,placement:s="bottom",fetching:r,onPlacementChange:a,offsetDistance:l=0,autoWidth:i=!1,forcePortal:d=!0,autoHideScrollbar:m,autoHideScrollbarDelay:f,className:g,noMaxHeight:p=!1}=e,y=re(e,["children","targetRef","scrollBoxRef","placement","fetching","onPlacementChange","offsetDistance","autoWidth","forcePortal","autoHideScrollbar","autoHideScrollbarDelay","className","noMaxHeight"]);const[x,k]=c.useState(()=>Un(s)),b=c.useCallback(I=>{k(Un(I)),a&&a(I)},[a]);return u.jsx(ko,U(W({targetRef:n,offsetByMainAxis:l,sameWidth:!i,onPlacementChange:b,placement:s,className:ne("vkuiCustomSelectDropdown","vkuiInternalCustomSelectDropdown",l===0&&(x?"vkuiCustomSelectDropdown--top":"vkuiCustomSelectDropdown--bottom"),i&&ne("vkuiCustomSelectDropdown--wide","vkuiInternalCustomSelectDropdown--wide"),g),usePortal:d,autoUpdateOnTargetResize:!0},y),{children:u.jsx(Ca,{boxRef:o,className:p?void 0:"vkuiCustomSelectDropdown__in--withMaxHeight",autoHideScrollbar:m,autoHideScrollbarDelay:f,children:r?u.jsx("div",{className:"vkuiCustomSelectDropdown__fetching",children:u.jsx(ls,{size:"small"})}):t})}))},xa={none:"vkuiCustomSelectOption--sizeY-none",regular:"vkuiCustomSelectOption--sizeY-regular"},mn=e=>{var{children:t,hierarchy:n=0,hovered:o,selected:s,before:r,after:a,description:l,disabled:i,style:d,className:m,onClick:f}=e,g=re(e,["children","hierarchy","hovered","selected","before","after","description","disabled","style","className","onClick"]);const{sizeY:p="none"}=Ze(),y=c.useMemo(()=>n>0?W({"--vkui_internal--custom_select_option_hierarchy_level":n},d):d,[n,d]),x=!!(o&&!i);return u.jsxs(lo,U(W({},g),{onClick:i?void 0:f,Component:"div",role:"option","aria-disabled":i,"aria-selected":s,"data-hovered":x,className:ne("vkuiCustomSelectOption",p!=="compact"&&xa[p],x&&"vkuiCustomSelectOption--hover",i&&"vkuiCustomSelectOption--disabled",n>0&&"vkuiCustomSelectOption--hierarchy",m),style:y,children:[gt(r)&&u.jsx("div",{className:"vkuiCustomSelectOption__before",children:r}),u.jsxs("div",{className:"vkuiCustomSelectOption__main",children:[u.jsx("div",{className:"vkuiCustomSelectOption__children",children:t}),gt(l)&&u.jsxs(wt,{className:"vkuiCustomSelectOption__description",children:[u.jsx(Ae,{children:" "}),l]})]}),u.jsxs("div",{className:"vkuiCustomSelectOption__after",children:[gt(a)&&u.jsx("div",{children:a}),s&&u.jsx(Ws,{className:"vkuiCustomSelectOption__selectedIcon"})]})]}))},_o=e=>{var{opened:t=!1,className:n}=e,o=re(e,["opened","className"]);const{sizeY:s}=Ns(),r=t?qs:Gs,a=t?Qs:Zs;return u.jsxs(c.Fragment,{children:[s.compact&&u.jsx(r,W({className:ne(s.compact.className,n)},o)),s.regular&&u.jsx(a,W({className:ne(s.regular.className,n)},o))]})},vn="highlight",gn="Ничего не найдено",Jt="next",Kn="prev",ka=e=>u.jsx(mn,W({},e)),Mo=e=>e&&"actionText"in e,Oo=e=>e&&"placeholder"in e,rt=e=>!Mo(e)&&!Oo(e),Da=({disabled:e,value:t,defaultValue:n,onChange:o,getOptionLabel:s=zt,getOptionValue:r=Yt,getNewOptionData:a=pn,inputValue:l,defaultInputValue:i=ct,onInputChange:d,creatable:m=!1,emptyText:f=gn,filterFn:g=Vt,selectedBehavior:p=vn,options:y=Bt,onClose:x,onOpen:k})=>{const b=va({value:t,defaultValue:n,onChange:o,getOptionValue:r,getOptionLabel:s,getNewOptionData:a,inputValue:l,defaultInputValue:i,onInputChange:d,disabled:e}),{value:I,inputValue:O,onInputChange:E}=b,M=re(b,["value","inputValue","onInputChange"]),[R,T]=c.useState(!1),[j,H]=c.useState(()=>R?qn({value:I,getOptionValue:r,getOptionLabel:s,inputValue:O,emptyText:f,creatable:m,filterFn:g,options:y,selectedBehavior:p}):[]),[w,_]=c.useState(0),[P,z]=c.useState(null),S=c.useCallback(v=>{v?k==null||k():x==null||x(),T(v)},[k,x]),h=c.useCallback(v=>{E(v),R||(S(!0),_(0))},[E,R,S]);return xe(function(){R&&H(C=>{const D=qn({value:I,getOptionValue:r,getOptionLabel:s,inputValue:O,emptyText:f,creatable:m,filterFn:g,options:y,selectedBehavior:p});return cs(C,D)?C:D})},[R,I,s,r,O,y,m,p,g]),U(W({},M),{value:I,inputValue:O,onInputChange:h,options:j,opened:R,setOpened:S,focusedOption:P,focusedOptionIndex:w,setFocusedOption:z,setFocusedOptionIndex:_})};function qn({value:e,getOptionValue:t=Yt,getOptionLabel:n=zt,inputValue:o=ct,emptyText:s=gn,creatable:r=!1,filterFn:a=Vt,options:l=Bt,selectedBehavior:i=vn}){const d=a?l.filter(f=>a(o,f,n)):l;if(d.length===0)return o!==ct&&typeof r=="string"?[{actionText:r}]:[{placeholder:s}];const m=on(d,t,n);if(i==="hide"){const f=e.map(g=>g.value);return m.filter(g=>rt(g)?!f.includes(g.value):!1)}return m}const Gn=(e=[],t=-1)=>t>=e.length-1?-1:e.findIndex((n,o)=>o>t&&(!rt(n)||!n.disabled)),Xn=(e=[],t=e.length)=>{let n=-1;if(t<=0)return n;for(let o=t-1;o>=0;o--){let s=e[o];if(!rt(s)||!s.disabled){n=o;break}}return n},Ra=e=>{var{id:t,getRootRef:n,className:o,status:s="default",icon:r,onChangeStart:a,options:l,placement:i="bottom",closeAfterSelect:d=!0,selectedBehavior:m=vn,emptyText:f=gn,creatable:g=!1,fetching:p=!1,dropdownAutoWidth:y,forceDropdownPortal:x,noMaxHeight:k=!1,filterFn:b=Vt,dropdownTestId:I,onClose:O,onOpen:E,getRef:M,value:R,defaultValue:T,inputValue:j,defaultInputValue:H,disabled:w,readOnly:_,getOptionValue:P=Yt,getOptionLabel:z=zt,getNewOptionData:S=pn,renderChip:h=Do,renderOption:v=ka,onChange:C,onFocus:D,onInputChange:L,onBlur:$,onKeyDown:A,dropdownOffsetDistance:B=0}=e,Z=re(e,["id","getRootRef","className","status","icon","onChangeStart","options","placement","closeAfterSelect","selectedBehavior","emptyText","creatable","fetching","dropdownAutoWidth","forceDropdownPortal","noMaxHeight","filterFn","dropdownTestId","onClose","onOpen","getRef","value","defaultValue","inputValue","defaultInputValue","disabled","readOnly","getOptionValue","getOptionLabel","getNewOptionData","renderChip","renderOption","onChange","onFocus","onInputChange","onBlur","onKeyDown","dropdownOffsetDistance"]);const{value:G,addOptionFromInput:q,addOption:se,removeOption:F,inputRef:X,inputValue:K,clearInput:ae,onInputChange:ie,options:Q,opened:J,setOpened:ge,focusedOption:Ie,focusedOptionIndex:de,setFocusedOption:ee,setFocusedOptionIndex:pe}=Da({value:R,defaultValue:T,onChange:C,getOptionValue:P,getOptionLabel:z,getNewOptionData:S,inputValue:j,defaultInputValue:H,onInputChange:L,options:l,emptyText:f,creatable:g,filterFn:b,selectedBehavior:m,onClose:O,onOpen:E,disabled:w}),De=Oe(n),me=Oe(M,X),[we,ke]=c.useState(i),Fe=c.useId(),Le=de!==null?"".concat(Fe,"-").concat(de):void 0,he=c.useRef(null),Re=V=>{D&&D(V),_||(ge(!0),pe(null))},Ue=V=>{$&&$(V),!_&&!V.defaultPrevented&&!g&&V.preventDefault()},Se=c.useRef([]).current,Ct=(V,ue=!1)=>{const ce=he.current,le=Se[V];if(!le||!ce)return;const Ke=ce.offsetHeight,Dt=ce.scrollTop,qe=le.offsetTop,Te=le.offsetHeight;ue?ce.scrollTop=qe-Ke/2+Te/2:qe+Te>Ke+Dt?ce.scrollTop=qe-Ke+Te:qe<Dt&&(ce.scrollTop=qe)},Qe=(V,ue)=>{const ce=Q.length;if(V<0?V=ce-1:V>=ce&&(V=0),V===ue)return;const le=Q[V];rt(le)&&le.disabled||(Ct(V),pe(V))},_e=(V,ue)=>{let ce=V===null?-1:V;if(ue===Jt){const le=Gn(Q,ce);ce=le===-1?Gn(Q):le}else if(ue===Kn){const le=Xn(Q,ce);ce=le===-1?Xn(Q):le}Qe(ce,de)},xt=V=>{if(A&&A(V),!(V.defaultPrevented||_))switch(V.key){case ve.ARROW_UP:case ve.ARROW_DOWN:V.preventDefault(),J?_e(de,V.key===ve.ARROW_UP?Kn:Jt):(ge(!0),_e(null,Jt));break;case ve.ENTER:{if(!J)break;if(de!=null){const ue=Q[de];if(ue&&rt(ue)){V.preventDefault(),a&&a(V,ue),se(ue),pe(null),ae(),d&&ge(!1);break}}g||V.preventDefault();break}case ve.ESCAPE:case ve.TAB:J&&ge(!1)}};c.useEffect(()=>{if(de===null)ee(null);else{const V=Q[de];V&&rt(V)&&ee(V)}},[Q,de,ee]);const Me=c.useCallback(V=>{V.startsWith("top")?ke("top"):V.startsWith("bottom")&&ke("bottom")},[]),Je=c.useCallback(()=>{pe(null)},[pe]),kt=c.useCallback(()=>{ge(!1)},[ge]);Qr(kt,J?De:null,J?he:null);const He=c.useMemo(()=>J&&B===0&&(we!=null&&we.includes("top")?"vkuiChipsSelect--pop-up":"vkuiChipsSelect--pop-down")||void 0,[B,J,we]);return u.jsxs(u.Fragment,{children:[u.jsx(pa,U(W({},Z),{disabled:w,readOnly:_,id:t,getRootRef:De,className:ne("vkuiChipsSelect",He,o),status:s,after:r||u.jsx(_o,{opened:J}),value:G,onAddChipOption:q,onRemoveChipOption:F,renderChip:h,getRef:me,inputValue:K,onInputChange:ie,onFocus:Re,onBlur:Ue,onKeyDown:xt,role:"combobox","aria-expanded":J,"aria-autocomplete":"list","aria-controls":J?Fe:void 0,"aria-activedescendant":J?Le:void 0,"aria-haspopup":"listbox"})),J&&u.jsx(So,{"data-testid":I,targetRef:De,placement:i,scrollBoxRef:he,onPlacementChange:Me,onMouseLeave:Je,fetching:p,autoWidth:y,forcePortal:x,noMaxHeight:k,offsetDistance:B,id:Fe,role:"listbox","aria-labelledby":t,children:Q.map((V,ue)=>{const ce="".concat(Fe,"-").concat(ue);return Oo(V)?u.jsx(wt,{className:"vkuiChipsSelect__empty",children:V.placeholder},"empty-text"):Mo(V)?u.jsx(mn,{id:ce,hovered:de===ue,onMouseDown:()=>q(K),onMouseEnter:()=>pe(ue),children:V.actionText},"create-new-option"):u.jsx(c.Fragment,{children:v({id:ce,disabled:V.disabled,hovered:Ie?P(V)===P(Ie):!1,children:V.label,selected:!!G.find(le=>P(le)===P(V)),getRootRef(le){le&&(Se[ue]=le)},onMouseDown(le){V.disabled||(a&&a(le,V),le.defaultPrevented||(d&&ge(!1),se(V),ae()))},onMouseEnter(){pe(ue)}},V)},"".concat(typeof V.value,"-").concat(V.label))})})]})},Sa=e=>{var{className:t,onClick:n}=e,o=re(e,["className","onClick"]);return u.jsx(Et,U(W({Component:"button",label:"Очистить поле",onKeyDown:bt,type:"button",activeMode:"opacity",hoverMode:"opacity"},o),{className:t,onClick:s=>{bt(s),s.preventDefault(),n()},children:u.jsx(ho,{})}))},_a=e=>{var{selectType:t="default",children:n}=e,o=re(e,["selectType","children"]);return u.jsx($t,U(W({weight:t==="accent"?"2":"3"},o),{children:n}))},Ma={none:"vkuiCustomSelectInput--sizeY-none",compact:"vkuiCustomSelectInput--sizeY-compact"},Oa=e=>{var{align:t="left",getRef:n,className:o,getRootRef:s,style:r,before:a,after:l,status:i,children:d,placeholder:m,selectType:f="default",multiline:g,disabled:p,fetching:y,labelTextTestId:x}=e,k=re(e,["align","getRef","className","getRootRef","style","before","after","status","children","placeholder","selectType","multiline","disabled","fetching","labelTextTestId"]);const{sizeY:b="none"}=Ze(),I=d||m,O=!k.value,E=Oe(s),M=co(E),R=u.jsx($t,U(W({type:"text"},k),{disabled:p&&!y,readOnly:k.readOnly||p&&y,Component:"input",normalize:!1,className:ne("vkuiCustomSelectInput__el",(k.readOnly||O&&!M)&&"vkuiCustomSelectInput__el--cursor-pointer"),getRootRef:n,placeholder:d?"":m})),T=us();return u.jsx(fn,{Component:"div",style:r,className:ne("vkuiCustomSelectInput",t==="right"&&"vkuiCustomSelectInput--align-right",t==="center"&&"vkuiCustomSelectInput--align-center",!d&&"vkuiCustomSelectInput--empty",g&&"vkuiCustomSelectInput--multiline",b!=="regular"&&Ma[b],a&&"vkuiCustomSelectInput--hasBefore",l&&"vkuiCustomSelectInput--hasAfter",o),getRootRef:E,before:a,after:l,disabled:p,mode:ba(f),status:i,children:u.jsxs("div",{className:"vkuiCustomSelectInput__input-group",children:[u.jsx("div",{className:ne("vkuiCustomSelectInput__container",o),tabIndex:-1,"aria-hidden":!0,"data-testid":x,children:u.jsx(_a,{selectType:f,className:"vkuiCustomSelectInput__title",children:O&&I})}),k.readOnly&&T==="ios"?u.jsx(Ae,{children:R}):R]})})},Ia={none:"vkuiCustomSelect--sizeY-none",compact:"vkuiCustomSelect--sizeY-compact"},Zn=(e=[],t=-1)=>t>=e.length-1?-1:e.findIndex((n,o)=>o>t&&!n.disabled),Qn=(e=[],t=e.length)=>{let n=-1;if(t<=0)return n;for(let o=t-1;o>=0;o--)if(!e[o].disabled){n=o;break}return n};function Ta(e){var t=re(e,["option"]);return u.jsx(mn,W({},t))}const Pa=e=>{e.preventDefault()};function Ot(e=[],t,n){if(n&&t==="")return-1;var o;return(o=e.findIndex(s=>(t=typeof s.value=="number"?Number(t):t,s.value===t)))!==null&&o!==void 0?o:-1}const Jn=(e,t,n)=>typeof n=="function"?e.filter(o=>n(t,o)):e,Na=[];function Lt(e){const[t,n]=c.useState(!1),{before:o,name:s,className:r,getRef:a,getRootRef:l,popupDirection:i="bottom",style:d,onChange:m,children:f,onInputChange:g,renderDropdown:p,onOpen:y,onClose:x,fetching:k,forceDropdownPortal:b,selectType:I="default",autoHideScrollbar:O,autoHideScrollbarDelay:E,searchable:M=!1,renderOption:R=Ta,options:T=Na,emptyText:j="Ничего не найдено",filterFn:H=Vt,icon:w,ClearButton:_=Sa,allowClearButton:P=!1,dropdownOffsetDistance:z=0,dropdownAutoWidth:S=!1,noMaxHeight:h=!1,["aria-labelledby"]:v,clearButtonTestId:C,nativeSelectTestId:D,defaultValue:L,required:$}=e,A=re(e,["before","name","className","getRef","getRootRef","popupDirection","style","onChange","children","onInputChange","renderDropdown","onOpen","onClose","fetching","forceDropdownPortal","selectType","autoHideScrollbar","autoHideScrollbarDelay","searchable","renderOption","options","emptyText","filterFn","icon","ClearButton","allowClearButton","dropdownOffsetDistance","dropdownAutoWidth","noMaxHeight","aria-labelledby","clearButtonTestId","nativeSelectTestId","defaultValue","required"]),{sizeY:B="none"}=Ze(),Z=c.useRef(null),G=Oe(Z,l),q=c.useRef(null),se=Oe(a),[F,X]=c.useState(-1),[K,ae]=c.useState(e.value!==void 0),[ie,Q]=c.useState(""),[J,ge]=c.useState(()=>{var N,Y;return(Y=(N=e.value)!==null&&N!==void 0?N:L)!==null&&Y!==void 0?Y:P?"":void 0}),[Ie,de]=c.useState(i),[ee,pe]=c.useState(T);var De;const[me,we]=c.useState(Ot(T,(De=e.value)!==null&&De!==void 0?De:L,P));c.useEffect(()=>{ae(e.value!==void 0),ge(N=>{var Y;return(Y=e.value)!==null&&Y!==void 0?Y:N})},[e.value]),xe(()=>{if(ee.some(({value:Y})=>J===Y)||P&&J===""){var N;const Y=new Event("change",{bubbles:!0});(N=se.current)===null||N===void 0||N.dispatchEvent(Y)}},[J]);const ke=c.useMemo(()=>ee.length?me!==void 0?ee[me]:void 0:null,[ee,me]),Fe=c.useMemo(()=>t&&z===0&&(Ie!=null&&Ie.includes("top")?"vkuiCustomSelect--pop-up":"vkuiCustomSelect--pop-down")||void 0,[z,t,Ie]),Le=c.useCallback((N,Y=!1)=>{const te=q.current,fe=te&&te.firstElementChild?te.firstElementChild.children[N]:null;if(!fe||!te)return;const be=te.offsetHeight,Rn=te.scrollTop,vt=fe.offsetTop,Gt=fe.offsetHeight;Y?te.scrollTop=vt-be/2+Gt/2:vt+Gt>be+Rn?te.scrollTop=vt-be+Gt:vt<Rn&&(te.scrollTop=vt)},[]),he=c.useCallback((N,Y=!0)=>{var te;if(N===void 0||N<0||N>((te=ee.length)!==null&&te!==void 0?te:0)-1)return;const fe=ee[N];fe!=null&&fe.disabled||(Y&&Le(N),X(be=>be!==N?N:be))},[ee,Le]),Re=c.useCallback(N=>{var Y;return N>=0&&N<((Y=ee.length)!==null&&Y!==void 0?Y:0)},[ee.length]),Ue=c.useCallback(N=>{q.current=N,N&&me!==void 0&&Re(me)&&Le(me,!0)},[Re,Le,me]),[Se,Ct]=c.useState(""),Qe=c.useCallback(()=>{Ct("")},[]),_e=c.useCallback(()=>{X(-1)},[]),xt=c.useCallback(N=>{t||n(!0),_e();const Y=Se+N;Ct(Y)},[Se,t,_e]),Me=c.useCallback(()=>{Qe(),Q(""),n(!1),_e(),x==null||x()},[x,Qe,_e]),Je=c.useCallback(N=>{const Y=ee[N];if(ge(Y==null?void 0:Y.value),Me(),K&&e.value!==J&&J===(Y==null?void 0:Y.value)){var fe;const be=new Event("change",{bubbles:!0});(fe=se.current)===null||fe===void 0||fe.dispatchEvent(be)}},[Me,ee,se,K,e.value,J]),kt=c.useCallback(()=>{F===void 0||!Re(F)||Je(F)},[F,Re,Je]),He=c.useCallback(()=>{n(!0),X(me),typeof y=="function"&&y()},[y,me]),V=c.useCallback(()=>{var N;Me();const Y=new Event("focusout",{bubbles:!0});(N=se.current)===null||N===void 0||N.dispatchEvent(Y)},[Me,se]),ue=c.useCallback(()=>{var N;const Y=new Event("focusin",{bubbles:!0});(N=se.current)===null||N===void 0||N.dispatchEvent(Y)},[se]),ce=c.useCallback(()=>{t?Me():He()},[Me,He,t]),le=c.useMemo(()=>ds(Qe,1e3),[Qe]),Ke=c.useCallback(N=>{let Y=F;if(N==="next"){const te=Zn(ee,Y);Y=te===-1?Zn(ee):te}else if(N==="prev"){const te=Qn(ee,Y);Y=te===-1?Qn(ee):te}he(Y)},[he,F,ee]);c.useEffect(function(){var Y,te;const fe=(te=(Y=e.value)!==null&&Y!==void 0?Y:J)!==null&&te!==void 0?te:L,be=M&&ie!==void 0?Jn(T,ie,H):T;pe(be),we(Ot(be,fe,P))},[H,ie,J,T,L,e.value,M,P]);const Dt=N=>{const Y=Ot(ee,N.currentTarget.value,P);me!==Y&&(K||we(Y),m==null||m(N))},qe=c.useCallback(N=>{g&&g(N);const Y=Jn(T,N.target.value,H);pe(Y),we(Ot(Y,J,P)),Q(N.target.value)},[H,J,g,T,P]),Te=c.useCallback(()=>q.current!==null,[]),Ho=c.useCallback(N=>{if(N.key.length===1&&N.key!==" "){xt(N.key);return}switch(["ArrowUp","ArrowDown","Escape","Enter"].includes(N.key)&&Te()&&N.preventDefault(),N.key){case"ArrowUp":t?Te()&&Ke("prev"):He();break;case"ArrowDown":t?Te()&&Ke("next"):He();break;case"Escape":Me();break;case"Backspace":case"Delete":{t||n(!0),_e();break}case"Enter":case"Spacebar":case" ":t?Te()&&kt():He();break}},[Te,Me,Ke,xt,He,t,kt,_e]),wn=c.useCallback(N=>{var Y;const te=Array.prototype.indexOf.call((Y=N.currentTarget.parentNode)===null||Y===void 0?void 0:Y.children,N.currentTarget),fe=ee[te];fe&&!fe.disabled&&Je(te)},[ee,Je]),Ut=c.useRef({x:0,y:0}),Cn=c.useCallback((N,Y)=>{(Math.abs(Ut.current.x-N.clientX)>=1||Math.abs(Ut.current.y-N.clientY)>=1)&&he(Y,!1),Ut.current={x:N.clientX,y:N.clientY}},[he]),et=c.useId(),xn=c.useCallback((N,Y)=>{const te=Y===F,fe=Y===me;return u.jsx(c.Fragment,{children:R({option:N,hovered:te,children:N.label,selected:fe,disabled:N.disabled,onClick:wn,onMouseDown:Pa,onMouseMove:be=>Cn(be,Y),id:"".concat(et,"-").concat(N.value)})},"".concat(N.value))},[F,wn,Cn,R,me,et]),$o=c.useMemo(()=>{const N=(ee==null?void 0:ee.length)>0?ee.map(xn):u.jsx(wt,{className:"vkuiCustomSelect__empty",children:j});return typeof p=="function"?p({defaultDropdownContent:N}):N},[j,ee,p,xn]),$e=c.useRef(null),Kt=c.useRef(),Rt=c.useCallback(()=>{clearTimeout(Kt.current),Kt.current=setTimeout(()=>{$e.current&&$e.current.focus()},0)},[]);xe(function(){return()=>{clearTimeout(Kt.current)}},[]);const Bo=K&&e.value!=="",pt=P&&!t&&(Bo||!K&&J!==""),Yo=c.useMemo(()=>pt?u.jsx(_,{className:w===void 0?"vkuiCustomSelect--clear-icon":void 0,onClick:function(){ge(""),Q(""),Rt()},disabled:A.disabled,"data-testid":C}):null,[pt,_,w,A.disabled,C,Rt]),kn=c.useMemo(()=>w!==void 0?w:u.jsx(_o,{className:pt?"vkuiCustomSelect__dropdown-icon":void 0,opened:t}),[pt,w,t]),zo=(kn||pt)&&u.jsxs(c.Fragment,{children:[Yo,kn]}),{document:mt}=it(),Vo=c.useCallback(N=>{if(!$e.current||!mt)return;N.target!==$e.current&&($e.current.click(),mt.activeElement!==$e.current&&Rt())},[mt,Rt]),Wo=N=>{mt&&mt.activeElement===$e.current&&N.preventDefault()},qt=F!==-1?F:void 0,Dn=qt!==void 0?ee[qt]&&ee[qt].value:null,Uo={role:"combobox","aria-controls":et,"aria-owns":et,"aria-expanded":t,"aria-activedescendant":Dn&&t?"".concat(et,"-").concat(Dn):void 0,"aria-labelledby":v,"aria-haspopup":"listbox","aria-autocomplete":"none"},Ko=co(G);return u.jsxs("div",{className:ne("vkuiCustomSelect",B!=="regular"&&Ia[B],r),style:d,ref:G,onClick:Vo,onMouseDown:Wo,children:[Ko&&ke&&!t&&u.jsx(Ae,{"aria-live":"polite",children:ke.label}),u.jsx(Oa,U(W({autoComplete:"off",autoCapitalize:"none",autoCorrect:"off",spellCheck:"false"},A,Uo),{getRef:$e,onFocus:ue,onBlur:V,className:Fe,readOnly:!M,fetching:k,value:ie,onKeyUp:le,onKeyDown:Ho,onChange:qe,onClick:ce,before:o,after:zo,selectType:I,children:ke==null?void 0:ke.label})),u.jsxs("select",{ref:se,name:s,onChange:Dt,onBlur:e.onBlur,onFocus:e.onFocus,onClick:e.onClick,value:J,"aria-hidden":!0,className:"vkuiCustomSelect__control","data-testid":D,required:$,children:[P&&u.jsx("option",{value:""},""),T.map(N=>u.jsx("option",{value:N.value},"".concat(N.value)))]}),t&&u.jsx(So,{targetRef:Z,placement:i,scrollBoxRef:Ue,onPlacementChange:de,onMouseLeave:_e,fetching:k,offsetDistance:z,autoWidth:S,forcePortal:b,autoHideScrollbar:O,autoHideScrollbarDelay:E,noMaxHeight:h,role:"listbox",id:et,"aria-labelledby":v,tabIndex:-1,children:$o})]})}var Io={exports:{}};(function(e,t){(function(n,o){e.exports=o()})(fs,function(){var n=1e3,o=6e4,s=36e5,r="millisecond",a="second",l="minute",i="hour",d="day",m="week",f="month",g="quarter",p="year",y="date",x="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var h=["th","st","nd","rd"],v=S%100;return"["+S+(h[(v-20)%10]||h[v]||h[0])+"]"}},O=function(S,h,v){var C=String(S);return!C||C.length>=h?S:""+Array(h+1-C.length).join(v)+S},E={s:O,z:function(S){var h=-S.utcOffset(),v=Math.abs(h),C=Math.floor(v/60),D=v%60;return(h<=0?"+":"-")+O(C,2,"0")+":"+O(D,2,"0")},m:function S(h,v){if(h.date()<v.date())return-S(v,h);var C=12*(v.year()-h.year())+(v.month()-h.month()),D=h.clone().add(C,f),L=v-D<0,$=h.clone().add(C+(L?-1:1),f);return+(-(C+(v-D)/(L?D-$:$-D))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:f,y:p,w:m,d,D:y,h:i,m:l,s:a,ms:r,Q:g}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},M="en",R={};R[M]=I;var T="$isDayjsObject",j=function(S){return S instanceof P||!(!S||!S[T])},H=function S(h,v,C){var D;if(!h)return M;if(typeof h=="string"){var L=h.toLowerCase();R[L]&&(D=L),v&&(R[L]=v,D=L);var $=h.split("-");if(!D&&$.length>1)return S($[0])}else{var A=h.name;R[A]=h,D=A}return!C&&D&&(M=D),D||!C&&M},w=function(S,h){if(j(S))return S.clone();var v=typeof h=="object"?h:{};return v.date=S,v.args=arguments,new P(v)},_=E;_.l=H,_.i=j,_.w=function(S,h){return w(S,{locale:h.$L,utc:h.$u,x:h.$x,$offset:h.$offset})};var P=function(){function S(v){this.$L=H(v.locale,null,!0),this.parse(v),this.$x=this.$x||v.x||{},this[T]=!0}var h=S.prototype;return h.parse=function(v){this.$d=function(C){var D=C.date,L=C.utc;if(D===null)return new Date(NaN);if(_.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var $=D.match(k);if($){var A=$[2]-1||0,B=($[7]||"0").substring(0,3);return L?new Date(Date.UTC($[1],A,$[3]||1,$[4]||0,$[5]||0,$[6]||0,B)):new Date($[1],A,$[3]||1,$[4]||0,$[5]||0,$[6]||0,B)}}return new Date(D)}(v),this.init()},h.init=function(){var v=this.$d;this.$y=v.getFullYear(),this.$M=v.getMonth(),this.$D=v.getDate(),this.$W=v.getDay(),this.$H=v.getHours(),this.$m=v.getMinutes(),this.$s=v.getSeconds(),this.$ms=v.getMilliseconds()},h.$utils=function(){return _},h.isValid=function(){return this.$d.toString()!==x},h.isSame=function(v,C){var D=w(v);return this.startOf(C)<=D&&D<=this.endOf(C)},h.isAfter=function(v,C){return w(v)<this.startOf(C)},h.isBefore=function(v,C){return this.endOf(C)<w(v)},h.$g=function(v,C,D){return _.u(v)?this[C]:this.set(D,v)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(v,C){var D=this,L=!!_.u(C)||C,$=_.p(v),A=function(K,ae){var ie=_.w(D.$u?Date.UTC(D.$y,ae,K):new Date(D.$y,ae,K),D);return L?ie:ie.endOf(d)},B=function(K,ae){return _.w(D.toDate()[K].apply(D.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(ae)),D)},Z=this.$W,G=this.$M,q=this.$D,se="set"+(this.$u?"UTC":"");switch($){case p:return L?A(1,0):A(31,11);case f:return L?A(1,G):A(0,G+1);case m:var F=this.$locale().weekStart||0,X=(Z<F?Z+7:Z)-F;return A(L?q-X:q+(6-X),G);case d:case y:return B(se+"Hours",0);case i:return B(se+"Minutes",1);case l:return B(se+"Seconds",2);case a:return B(se+"Milliseconds",3);default:return this.clone()}},h.endOf=function(v){return this.startOf(v,!1)},h.$set=function(v,C){var D,L=_.p(v),$="set"+(this.$u?"UTC":""),A=(D={},D[d]=$+"Date",D[y]=$+"Date",D[f]=$+"Month",D[p]=$+"FullYear",D[i]=$+"Hours",D[l]=$+"Minutes",D[a]=$+"Seconds",D[r]=$+"Milliseconds",D)[L],B=L===d?this.$D+(C-this.$W):C;if(L===f||L===p){var Z=this.clone().set(y,1);Z.$d[A](B),Z.init(),this.$d=Z.set(y,Math.min(this.$D,Z.daysInMonth())).$d}else A&&this.$d[A](B);return this.init(),this},h.set=function(v,C){return this.clone().$set(v,C)},h.get=function(v){return this[_.p(v)]()},h.add=function(v,C){var D,L=this;v=Number(v);var $=_.p(C),A=function(G){var q=w(L);return _.w(q.date(q.date()+Math.round(G*v)),L)};if($===f)return this.set(f,this.$M+v);if($===p)return this.set(p,this.$y+v);if($===d)return A(1);if($===m)return A(7);var B=(D={},D[l]=o,D[i]=s,D[a]=n,D)[$]||1,Z=this.$d.getTime()+v*B;return _.w(Z,this)},h.subtract=function(v,C){return this.add(-1*v,C)},h.format=function(v){var C=this,D=this.$locale();if(!this.isValid())return D.invalidDate||x;var L=v||"YYYY-MM-DDTHH:mm:ssZ",$=_.z(this),A=this.$H,B=this.$m,Z=this.$M,G=D.weekdays,q=D.months,se=D.meridiem,F=function(ae,ie,Q,J){return ae&&(ae[ie]||ae(C,L))||Q[ie].slice(0,J)},X=function(ae){return _.s(A%12||12,ae,"0")},K=se||function(ae,ie,Q){var J=ae<12?"AM":"PM";return Q?J.toLowerCase():J};return L.replace(b,function(ae,ie){return ie||function(Q){switch(Q){case"YY":return String(C.$y).slice(-2);case"YYYY":return _.s(C.$y,4,"0");case"M":return Z+1;case"MM":return _.s(Z+1,2,"0");case"MMM":return F(D.monthsShort,Z,q,3);case"MMMM":return F(q,Z);case"D":return C.$D;case"DD":return _.s(C.$D,2,"0");case"d":return String(C.$W);case"dd":return F(D.weekdaysMin,C.$W,G,2);case"ddd":return F(D.weekdaysShort,C.$W,G,3);case"dddd":return G[C.$W];case"H":return String(A);case"HH":return _.s(A,2,"0");case"h":return X(1);case"hh":return X(2);case"a":return K(A,B,!0);case"A":return K(A,B,!1);case"m":return String(B);case"mm":return _.s(B,2,"0");case"s":return String(C.$s);case"ss":return _.s(C.$s,2,"0");case"SSS":return _.s(C.$ms,3,"0");case"Z":return $}return null}(ae)||$.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(v,C,D){var L,$=this,A=_.p(C),B=w(v),Z=(B.utcOffset()-this.utcOffset())*o,G=this-B,q=function(){return _.m($,B)};switch(A){case p:L=q()/12;break;case f:L=q();break;case g:L=q()/3;break;case m:L=(G-Z)/6048e5;break;case d:L=(G-Z)/864e5;break;case i:L=G/s;break;case l:L=G/o;break;case a:L=G/n;break;default:L=G}return D?L:_.a(L)},h.daysInMonth=function(){return this.endOf(f).$D},h.$locale=function(){return R[this.$L]},h.locale=function(v,C){if(!v)return this.$L;var D=this.clone(),L=H(v,C,!0);return L&&(D.$L=L),D},h.clone=function(){return _.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},S}(),z=P.prototype;return w.prototype=z,[["$ms",r],["$s",a],["$m",l],["$H",i],["$W",d],["$M",f],["$y",p],["$D",y]].forEach(function(S){z[S[1]]=function(h){return this.$g(h,S[0],S[1])}}),w.extend=function(S,h){return S.$i||(S(h,P,w),S.$i=!0),w},w.locale=H,w.isDayjs=j,w.unix=function(S){return w(1e3*S)},w.en=R[M],w.Ls=R,w.p={},w})})(Io);var Aa=Io.exports;const oe=hs(Aa);function ja(e){return oe(e).startOf("day").toDate()}function To(e){return oe(e).endOf("day").toDate()}function bn(e,t=0){t=t%7;const n=oe(e),o=n.day(),s=(o<t?7:0)+o-t;return n.date(n.date()-s).toDate()}function Po(e,t=0){const n=oe(bn(e,t));return n.date(n.date()+6).toDate()}function Ea(e){return oe(e).startOf("month").toDate()}function Fa(e){return oe(e).endOf("month").toDate()}function La(e){return oe(e).date()===1}function Ha(e){return oe(e).endOf("day").isSame(oe(e).endOf("month"))}function $a(e,t){return oe(e).format(t)}function Wt(e,t){return oe(e)<oe(t)}function yn(e,t){return oe(e)>oe(t)}function ut(e,t){return oe(e).isSame(t,"day")}function No(e,t){return oe(e).isSame(t,"month")}function eo(e,t){return oe(e).set("minute",t).toDate()}function to(e,t){return oe(e).set("hour",t).toDate()}function Ba(e,t){return oe(e).set("month",t).toDate()}function Ya(e,t){return oe(e).set("year",t).toDate()}function Ao(e,t){return oe(e).add(t,"day").toDate()}function za(e,t){return oe(e).subtract(t,"day").toDate()}function Va(e,t){return oe(e).add(t,"week").toDate()}function Wa(e,t){return oe(e).subtract(t,"week").toDate()}function jo(e,t){return oe(e).add(t,"month").toDate()}function Eo(e,t){return oe(e).subtract(t,"month").toDate()}function Ua(e,t){const n=[],o=oe(e).toDate(),r=oe(t).toDate().getTime(),a=o;for(a.setHours(0,0,0,0);a.getTime()<=r;)n.push(new Date(a.getTime())),a.setDate(a.getDate()+1),a.setHours(0,0,0,0);return n}function Fo(e,t,n=new Date){const o=/^\d\d/,r=[["YYYY",/^\d{4}/,p=>["Y",+p,!0]],["MM",o,p=>{const y=+p,x=y>0&&y<=12;return["M",y-1,x]}],["DD",o,p=>["D",+p,!0]],["HH",o,p=>{const y=parseInt(p,10),x=y>=0&&y<24;return["h",y,x]}],["mm",o,p=>{const y=parseInt(p,10),x=y>=0&&y<60;return["m",y,x]}]],a=new RegExp(r.map(p=>p[0]).join("|"),"g"),l={Y:n.getFullYear(),M:n.getMonth(),D:n.getDate(),h:n.getHours(),m:n.getMinutes(),s:n.getSeconds(),ms:n.getMilliseconds()};let i=0,d="",m=0,f=!1;for(;;){const p=a.exec(t);if(!p)break;const y=p[0].length,x=a.lastIndex-y,k=r.find(M=>M[0]===p[0]);if(d=t.slice(m,x),m=a.lastIndex,e.slice(i,i+d.length)!==d)return new Date("");const b=e.slice(i+d.length).match(k[1]);if(!b)return new Date("");i=i+d.length+b[0].length;const[I,O,E]=k[2](b[0]);if(!E)return new Date("");l[I]=O,f=!0}if(!f)return new Date("");const g=new Date(l.Y,l.M,l.D,l.h,l.m,l.s,l.ms);return g.getMonth()!==l.M||g.getDate()!==l.D?new Date(""):g}function Ka(e,t){return!isNaN(+Fo(e,t))}function qa(e){return oe(To(e)).diff(oe(e),"ms")}const dt=9999,ft=100,Ga=(e,t)=>{const n=[],o=Mn(e-t,ft,dt),s=Mn(e+t,ft,dt);for(let r=o;r<=s;r++)n.push({label:String(r).padStart(4,"0"),value:r});return n},Xa=e=>{const t=[],n=new Intl.DateTimeFormat(e,{month:"long"});for(let o=0;o<12;o++)t.push({label:n.format(new Date("1970-01-01").setMonth(o)),value:o});return t},Za=(e,t,n)=>{const o=new Intl.DateTimeFormat(n,{weekday:"short"});return Ua(bn(e,t),Po(e,t)).map(s=>o.format(s))},Qa=(e,t)=>{let n=e!=null?e:new Date;switch(t){case"ArrowRight":n=Ao(n,1);break;case"ArrowLeft":n=za(n,1);break;case"ArrowUp":n=Wa(n,1);break;case"ArrowDown":n=Va(n,1);break}return n},Ja=(e,t)=>{const n=bn(Ea(e),t),o=Po(Fa(e),t);let s=0,r=n;const a=[];let l=null;for(;Wt(r,o);){const i=Math.floor(s/7);a[i]=a[i]||[];const d=r.getDay();l!==d&&(l=d,a[i].push(r),s+=1),r=Ao(r,1)}return a},ei=(e,t)=>(t&&(e.setHours(t.getHours()),e.setMinutes(t.getMinutes()),e.setSeconds(t.getSeconds()),e.setMilliseconds(t.getMilliseconds())),e),ti=(e,t)=>t===0||La(e),ni=(e,t)=>t===6||Ha(e);function oi(e,t={}){const{min:n,max:o}=t;return n&&Wt(e,n)?n:o&&yn(e,o)?o:e}function si(e,t={}){const{min:n,max:o,withTime:s=!1}=t;return!s&&(n&&ut(e,n)||o&&ut(e,o))?!1:!!(n&&Wt(e,n)||o&&yn(e,o))}function ri({value:e,disablePast:t,disableFuture:n,shouldDisableDate:o,onHeaderChange:s,onNextMonth:r,onPrevMonth:a,minDateTime:l,maxDateTime:i}){var d;const[m,f]=c.useState((d=Array.isArray(e)?e[0]:e)!==null&&d!==void 0?d:new Date),[g,p]=c.useState(),y=c.useCallback(()=>{a==null||a(),f(Eo(m,1))},[m,a]),x=c.useCallback(()=>{r==null||r(),f(jo(m,1))},[m,r]),k=c.useCallback(R=>{s==null||s(R),f(R)},[s]),b=c.useCallback(R=>!!(g&&ut(R,g)),[g]),I=c.useCallback((R,T)=>{const j=new Date;return o?o(R):n?yn(ja(R),j):t?Wt(To(R),j):l||i?si(R,{min:l,max:i,withTime:T}):!1},[n,t,o,l,i]),O=c.useCallback((R,T)=>{const j=new Date;T=T||m.getFullYear();const H=l?l.getMonth():0,w=i?i.getMonth():11,_=(l==null?void 0:l.getFullYear())||ft,P=(i==null?void 0:i.getFullYear())||dt;let z=T>=_&&T<=P?T===_&&H>R||T===P&&R>w:!0;return n&&(z=z||(T===j.getFullYear()?R>j.getMonth():T>j.getFullYear())),t&&(z=z||(T===j.getFullYear()?R<j.getMonth():T<j.getFullYear())),z},[n,t,m,l,i]),E=c.useCallback(R=>{const T=new Date,j=(l==null?void 0:l.getFullYear())||ft,H=(i==null?void 0:i.getFullYear())||dt;let w=j>R||R>H;return n&&(w=w||R>T.getFullYear()),t&&(w=w||R<T.getFullYear()),w},[n,t,l,i]),M=c.useCallback(()=>{p(void 0)},[p]);return{viewDate:m,setViewDate:k,setPrevMonth:y,setNextMonth:x,focusedDay:g,setFocusedDay:p,isDayFocused:b,isDayDisabled:I,resetSelectedDay:M,isMonthDisabled:O,isYearDisabled:E}}function ai(e=!1){const{document:t,window:n}=it(),[o,s]=c.useState(()=>new Date);return c.useEffect(()=>{if(!e||!t||!n)return;let r;const a=()=>{if(t.visibilityState==="visible"){const l=new Date,i=qa(l);n.clearTimeout(r),r=n.setTimeout(()=>{s(l)},i),ut(o,l)||s(l)}};return a(),t.addEventListener("visibilitychange",a),()=>{n.clearTimeout(r),t.removeEventListener("visibilitychange",a)}},[t,e,o,n]),o}const Lo=c.memo(e=>{var{day:t,today:n,selected:o,onChange:s,hidden:r,disabled:a,active:l,selectionStart:i,selectionEnd:d,focused:m,onEnter:f,onLeave:g,hinted:p,hintedSelectionStart:y,hintedSelectionEnd:x,sameMonth:k,size:b,className:I,children:O}=e,E=re(e,["day","today","selected","onChange","hidden","disabled","active","selectionStart","selectionEnd","focused","onEnter","onLeave","hinted","hintedSelectionStart","hintedSelectionEnd","sameMonth","size","className","children"]);const{locale:M}=ln(),R=c.useRef(null),T=c.useCallback(()=>s(t),[t,s]),j=c.useCallback(()=>f==null?void 0:f(t),[t,f]),H=c.useCallback(()=>g==null?void 0:g(t),[t,g]),w=new Intl.DateTimeFormat(M,{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(t);return c.useEffect(()=>{m&&R.current&&(R.current.dispatchEvent(new Event(ps,{bubbles:!0})),R.current.focus())},[m]),r?u.jsx("div",{className:"vkuiCalendarDay__hidden"}):u.jsx(tn,U(W({className:ne("vkuiCalendarDay",b==="s"&&"vkuiCalendarDay--size-s",n&&"vkuiCalendarDay--today",o&&!a&&"vkuiCalendarDay--selected",i&&"vkuiCalendarDay--selection-start",d&&"vkuiCalendarDay--selection-end",a&&"vkuiCalendarDay--disabled",!k&&"vkuiCalendarDay--not-same-month",I),hoverMode:l?"":"vkuiCalendarDay--hover",hasActive:!1,onClick:T,disabled:a,tabIndex:-1,getRootRef:R,focusVisibleMode:l?"outside":"inside",onPointerEnter:j,onPointerLeave:H},E),{children:u.jsx("div",{className:ne("vkuiCalendarDay__hinted",p&&"vkuiCalendarDay__hinted--active",y&&"vkuiCalendarDay__hinted--selection-start",x&&"vkuiCalendarDay__hinted--selection-end"),children:u.jsx("div",{className:ne("vkuiCalendarDay__inner",l&&!a&&"vkuiCalendarDay__inner--active"),children:u.jsxs("div",{className:"vkuiCalendarDay__day-number",children:[u.jsx(Ae,{children:O!=null?O:w}),u.jsx("span",{"aria-hidden":!0,children:t.getDate()})]})})})}))});Lo.displayName="CalendarDay";const ii=e=>{var{viewDate:t,value:n,weekStartsOn:o,onDayChange:s,isDaySelected:r,isDayActive:a,isDaySelectionEnd:l,isDaySelectionStart:i,onDayEnter:d,onDayLeave:m,isDayHinted:f,isHintedDaySelectionStart:g,isHintedDaySelectionEnd:p,isDayFocused:y,isDayDisabled:x,size:k,showNeighboringMonth:b=!1,dayProps:I,listenDayChangesForUpdate:O=!1,getRootRef:E}=e,M=re(e,["viewDate","value","weekStartsOn","onDayChange","isDaySelected","isDayActive","isDaySelectionEnd","isDaySelectionStart","onDayEnter","onDayLeave","isDayHinted","isHintedDaySelectionStart","isHintedDaySelectionEnd","isDayFocused","isDayDisabled","size","showNeighboringMonth","dayProps","listenDayChangesForUpdate","getRootRef"]);const{locale:R}=ln(),T=Oe(E),j=ai(O),H=c.useMemo(()=>Ja(t,o),[o,t]),w=c.useMemo(()=>Za(j,o,R),[R,j,o]),_=c.useCallback(P=>{var z;s(P),(z=T.current)===null||z===void 0||z.focus()},[s,T]);return u.jsxs(ht,U(W({},M),{baseClassName:"vkuiCalendarDays",getRootRef:T,children:[u.jsx("div",{className:ne("vkuiCalendarDays__row",k==="s"&&"vkuiCalendarDays__row--size-s"),children:w.map(P=>u.jsx(wt,{className:"vkuiCalendarDays__weekday",children:P},P))}),H.map((P,z)=>u.jsx("div",{className:ne("vkuiCalendarDays__row",k==="s"&&"vkuiCalendarDays__row--size-s"),children:P.map((S,h)=>{const v=No(S,t);return u.jsx(Lo,W({day:S,today:ut(S,j),active:a(S),onChange:_,hidden:!b&&!v,disabled:x(S),selectionStart:i(S,h),selectionEnd:l(S,h),hintedSelectionStart:g==null?void 0:g(S,h),hintedSelectionEnd:p==null?void 0:p(S,h),selected:r==null?void 0:r(S),focused:y(S),onEnter:d,onLeave:m,hinted:f==null?void 0:f(S),sameMonth:v,size:k},I),S.toISOString())})},z))]}))},li=e=>{var{viewDate:t,onChange:n,prevMonthHidden:o=!1,nextMonthHidden:s=!1,disablePickers:r=!1,onNextMonth:a,onPrevMonth:l,prevMonthProps:i={},nextMonthProps:d={},prevMonthLabel:m="Предыдущий месяц",nextMonthLabel:f="Следующий месяц",changeMonthLabel:g="Изменить месяц",changeYearLabel:p="Изменить год",prevMonthIcon:y=u.jsx(Hs,{className:"vkuiCalendarHeader__nav-icon--accent",width:30,height:30}),nextMonthIcon:x=u.jsx(Ks,{className:"vkuiCalendarHeader__nav-icon--accent",width:30,height:30}),isMonthDisabled:k,isYearDisabled:b}=e,I=re(e,["viewDate","onChange","prevMonthHidden","nextMonthHidden","disablePickers","onNextMonth","onPrevMonth","prevMonthProps","nextMonthProps","prevMonthLabel","nextMonthLabel","changeMonthLabel","changeYearLabel","prevMonthIcon","nextMonthIcon","isMonthDisabled","isYearDisabled"]);const{locale:O}=ln(),E=c.useCallback(C=>n(Ba(t,Number(C.target.value))),[n,t]),M=c.useCallback(C=>n(Ya(t,Number(C.target.value))),[n,t]),R=t.getFullYear(),T=t.getMonth(),j=c.useMemo(()=>Xa(O).map(({value:C,label:D})=>({value:C,label:u.jsx("span",{className:"vkuiCalendarHeader__month",children:D}),disabled:k&&k(C)})),[O,k]),H=c.useMemo(()=>Ga(R,100).map(C=>U(W({},C),{disabled:b&&b(C.value)})),[R,b]),w=new Intl.DateTimeFormat(O,{year:"numeric",month:"long"}),{className:_}=i,P=re(i,["className"]),{className:z}=d,S=re(d,["className"]);let h=s||T===11&&R===dt;k&&!h&&(h=k(T===11?0:T+1,T===11?Math.min(R+1,dt):R));let v=o||T===0&&R===ft;return k&&!v&&(v=k(T===0?11:T-1,T===0?Math.max(R-1,ft):R)),u.jsxs(ht,U(W({baseClassName:"vkuiCalendarHeader"},I),{children:[!v&&u.jsx(ot,{sizeX:"regular",children:u.jsxs(tn,U(W({className:ne("vkuiCalendarHeader__nav-icon","vkuiCalendarHeader__nav-icon-prev",_),onClick:l},P),{children:[u.jsxs(Ae,{children:[m,", ",w.format(Eo(t,1))]}),y]}))}),r?u.jsxs(lo,{className:ne("vkuiCalendarHeader__pickers","vkuiInternalCalendarHeader__pickers"),weight:"2",children:[u.jsx("span",{className:"vkuiCalendarHeader__month",children:new Intl.DateTimeFormat(O,{month:"long"}).format(t)})," ",new Intl.DateTimeFormat(O,{year:"numeric"}).format(t)]}):u.jsx(ot,{sizeY:"compact",children:u.jsxs("div",{className:ne("vkuiCalendarHeader__pickers","vkuiInternalCalendarHeader__pickers"),children:[u.jsx(Lt,{className:ne("vkuiCalendarHeader__picker","vkuiInternalCalendarHeader__picker"),value:T,options:j,dropdownOffsetDistance:4,dropdownAutoWidth:!0,icon:u.jsx(Pn,{}),onChange:E,forceDropdownPortal:!1,selectType:"accent","aria-label":g}),u.jsx(Lt,{className:ne("vkuiCalendarHeader__picker","vkuiInternalCalendarHeader__picker"),value:R,options:H,dropdownOffsetDistance:4,dropdownAutoWidth:!0,icon:u.jsx(Pn,{}),onChange:M,forceDropdownPortal:!1,selectType:"accent","aria-label":p})]})}),!h&&u.jsx(ot,{sizeX:"regular",children:u.jsxs(tn,U(W({className:ne("vkuiCalendarHeader__nav-icon","vkuiCalendarHeader__nav-icon-next",z),onClick:a},S),{children:[u.jsxs(Ae,{children:[f,", ",w.format(jo(t,1))]}),x]}))})]}))},sn=[];for(let e=0;e<24;e+=1)sn.push({value:e,label:String(e).padStart(2,"0")});const rn=[];for(let e=0;e<60;e+=1)rn.push({value:e,label:String(e).padStart(2,"0")});const ci=({value:e,doneButtonText:t="Готово",onChange:n,onClose:o,changeHoursLabel:s,changeMinutesLabel:r,isDayDisabled:a})=>{const l=a?sn.map(f=>U(W({},f),{disabled:a(to(e,f.value),!0)})):sn,i=a?rn.map(f=>U(W({},f),{disabled:a(eo(e,f.value),!0)})):rn,d=c.useCallback(f=>n==null?void 0:n(to(e,Number(f.target.value))),[n,e]),m=c.useCallback(f=>n==null?void 0:n(eo(e,Number(f.target.value))),[n,e]);return u.jsxs("div",{className:"vkuiCalendarTime",children:[u.jsx("div",{className:"vkuiCalendarTime__picker",children:u.jsx(ot,{sizeY:"compact",children:u.jsx(Lt,{value:e.getHours(),options:l,onChange:d,forceDropdownPortal:!1,"aria-label":s})})}),u.jsx("div",{className:"vkuiCalendarTime__divider",children:":"}),u.jsx("div",{className:"vkuiCalendarTime__picker",children:u.jsx(ot,{sizeY:"compact",children:u.jsx(Lt,{value:e.getMinutes(),options:i,onChange:m,forceDropdownPortal:!1,"aria-label":r})})}),u.jsx("div",{className:"vkuiCalendarTime__button",children:u.jsx(ot,{sizeY:"compact",children:u.jsx(an,{mode:"secondary",onClick:o,size:"l",children:t})})})]})},ui=e=>{var{value:t,onChange:n,disablePast:o,disableFuture:s,shouldDisableDate:r,onClose:a,enableTime:l=!1,doneButtonText:i,weekStartsOn:d=1,disablePickers:m,changeHoursLabel:f="Изменить час",changeMinutesLabel:g="Изменить минуту",prevMonthLabel:p="Предыдущий месяц",nextMonthLabel:y="Следующий месяц",changeMonthLabel:x="Изменить месяц",changeYearLabel:k="Изменить год",showNeighboringMonth:b,changeDayLabel:I="Изменить день",size:O="m",viewDate:E,onHeaderChange:M,onNextMonth:R,onPrevMonth:T,prevMonthIcon:j,nextMonthIcon:H,prevMonthProps:w,nextMonthProps:_,dayProps:P,listenDayChangesForUpdate:z,minDateTime:S,maxDateTime:h}=e,v=re(e,["value","onChange","disablePast","disableFuture","shouldDisableDate","onClose","enableTime","doneButtonText","weekStartsOn","disablePickers","changeHoursLabel","changeMinutesLabel","prevMonthLabel","nextMonthLabel","changeMonthLabel","changeYearLabel","showNeighboringMonth","changeDayLabel","size","viewDate","onHeaderChange","onNextMonth","onPrevMonth","prevMonthIcon","nextMonthIcon","prevMonthProps","nextMonthProps","dayProps","listenDayChangesForUpdate","minDateTime","maxDateTime"]);const{viewDate:C,setViewDate:D,setPrevMonth:L,setNextMonth:$,focusedDay:A,setFocusedDay:B,isDayFocused:Z,isDayDisabled:G,resetSelectedDay:q,isMonthDisabled:se,isYearDisabled:F}=ri({value:t,disableFuture:s,disablePast:o,shouldDisableDate:r,onHeaderChange:M,onNextMonth:R,onPrevMonth:T,minDateTime:S,maxDateTime:h});xe(()=>{t&&D(t)},[t]);const X=c.useCallback(ie=>{["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(ie.key)&&ie.preventDefault();const Q=Qa(A!=null?A:t,ie.key);Q&&!No(Q,C)&&D(Q),B(Q)},[A,B,D,t,C]),K=c.useCallback(ie=>{let Q=ei(ie,t);(S||h)&&(Q=oi(Q,{min:S,max:h})),n==null||n(Q)},[t,n,h,S]),ae=c.useCallback(ie=>!!(t&&ut(ie,t)),[t]);return u.jsxs(ht,U(W({},v),{baseClassName:ne("vkuiCalendar",O==="s"&&"vkuiCalendar--size-s"),children:[u.jsx(li,{viewDate:E||C,onChange:D,onNextMonth:$,onPrevMonth:L,disablePickers:m||O==="s",className:"vkuiCalendar__header",prevMonthLabel:p,nextMonthLabel:y,changeMonthLabel:x,changeYearLabel:k,prevMonthIcon:j,nextMonthIcon:H,prevMonthProps:w,nextMonthProps:_,isMonthDisabled:se,isYearDisabled:F}),u.jsx(ii,{viewDate:E||C,value:t,weekStartsOn:d,isDayFocused:Z,tabIndex:0,"aria-label":I,onKeyDown:X,onDayChange:K,isDayActive:ae,isDaySelectionStart:ti,isDaySelectionEnd:ni,isDayDisabled:G,onBlur:q,showNeighboringMonth:b,size:O,dayProps:P,listenDayChangesForUpdate:z}),l&&t&&O!=="s"&&u.jsx("div",{className:"vkuiCalendar__time",children:u.jsx(ci,{value:t,onChange:n,onClose:a,doneButtonText:i,changeHoursLabel:f,changeMinutesLabel:g,isDayDisabled:S||h?G:void 0})})]}))};function di({maxElement:e,refs:t,autoFocus:n,disabled:o,elementsConfig:s,onChange:r,onInternalValueChange:a,getInternalValue:l,value:i}){const{document:d}=it(),{value:m,setTrue:f,setFalse:g}=ra(!1),p=c.useRef(null),y=c.useRef(null),[x,k]=c.useState([]),[b,I]=c.useState(null),{window:O}=it(),E=c.useCallback(()=>{if(b!==null){var w;I(null),g(),(w=O.getSelection())===null||w===void 0||w.removeAllRanges(),k(l(i))}},[b,g,l,i,O]),M=c.useCallback(w=>{var _,P;!(!((_=p.current)===null||_===void 0)&&_.contains(w.target))&&!(!((P=y.current)===null||P===void 0)&&P.contains(w.target))&&E()},[E]),R=c.useCallback(()=>{I(0)},[]);As(d,"click",M,{capture:!0}),c.useEffect(()=>{k(l(i))},[l,i]),c.useEffect(()=>{n&&R()},[n,R]),c.useEffect(()=>{if(o||b===null)return;const w=O.document.createRange();let _=t[b].current;if(_){_.focus(),f(),w.selectNodeContents(_);const P=O.getSelection();P==null||P.removeAllRanges(),P==null||P.addRange(w)}},[o,b,f,t,O]);const T=c.useCallback(()=>{r==null||r(void 0),R()},[r,R]),j=c.useCallback(()=>{m||R()},[m,R]),H=c.useCallback(w=>{if(b===null)return;const _=[...x],P=s(b);if(/^\d+$/.test(w.key))_[b].length>=P.length?_[b]=w.key:(_[b]+=w.key,_[b].length>=P.length&&b<e&&I(b+1));else if(w.key==="Backspace")_[b]?_[b]=_[b].slice(0,-1):I(b<=0?e:b-1);else if(w.key==="ArrowDown"||w.key==="Down"){let z=Number(_[b]);_[b]=String(z<=P.min?P.max:z-1).padStart(P.length,"0")}else if(w.key==="ArrowUp"||w.key==="Up"){let z=Number(_[b]);_[b]=String(z>=P.max?P.min:z+1).padStart(P.length,"0")}else if(w.key==="Enter"||w.key==="Tab"&&b===e||w.key==="Tab"&&w.shiftKey&&b===0){E();return}else if(w.key==="ArrowLeft"||w.key==="Left"||w.key==="Tab"&&w.shiftKey)I(b<=0?e:b-1);else if(w.key==="ArrowRight"||w.key==="Right"||w.key==="Tab")I(b>=e?0:b+1);else if(w.key==="Delete"||w.key==="Del")_[b]="";else return;w.preventDefault(),k(_),a(_)},[s,b,x,e,a,E]);return{rootRef:p,calendarRef:y,open:m,openCalendar:f,closeCalendar:g,internalValue:x,focusedElement:b,setFocusedElement:I,handleKeyDown:H,clear:T,handleFieldEnter:j,removeFocusFromField:E}}const fi=" ";function hi(e){const t=[];for(let n=0;n<e;n+=1)t.push(u.jsx("span",{className:"vkuiInputLike__mask",children:fi},n));return t}const nt=e=>{var{value:t,length:n,index:o,onElementSelect:s,onClick:r,onFocus:a,label:l}=e,i=re(e,["value","length","index","onElementSelect","onClick","onFocus","label"]);const d=c.useCallback(f=>{bt(f),s==null||s(o)},[o,s]);var m;return u.jsxs(ht,U(W({Component:"span",baseClassName:(t==null?void 0:t.length)===n?"vkuiInputLike--full":void 0,tabIndex:0,onClick:At(r,d),onFocus:At(bt,a)},i),{children:[l&&u.jsx(Ae,{children:l}),t==null?void 0:t.slice(0,n-1),(t==null?void 0:t.slice(n-1))&&u.jsx("span",{className:"vkuiInputLike__last_character",children:t.slice(n-1)},o),hi(n-((m=t==null?void 0:t.length)!==null&&m!==void 0?m:0))]}))};nt.displayName="InputLike";const It=e=>{var{children:t,className:n}=e,o=re(e,["children","className"]);return u.jsx("span",U(W({className:ne("vkuiInputLike__divider",n)},o),{children:t}))},pi={none:"vkuiDateInput--sizeY-none",compact:"vkuiDateInput--sizeY-compact"},no=e=>{let t=2,n=1,o=0;switch(e){case 0:o=31;break;case 1:o=12;break;case 2:o=2100,n=1900,t=4;break;case 3:o=23;break;case 4:o=59;break}return{length:t,min:n,max:o}},mi=e=>{const t=["","","","",""];return e&&(t[0]=String(e.getDate()).padStart(2,"0"),t[1]=String(e.getMonth()+1).padStart(2,"0"),t[2]=String(e.getFullYear()).padStart(4,"0"),t[3]=String(e.getHours()).padStart(2,"0"),t[4]=String(e.getMinutes()).padStart(2,"0")),t},vi=e=>{var{enableTime:t,shouldDisableDate:n,disableFuture:o,disablePast:s,minDateTime:r,maxDateTime:a,value:l,onChange:i,calendarPlacement:d="bottom-start",style:m,className:f,doneButtonText:g,closeOnChange:p=!0,disablePickers:y,getRootRef:x,name:k,autoFocus:b,disabled:I,onClick:O,onFocus:E,prevMonthLabel:M="Предыдущий месяц",nextMonthLabel:R="Следующий месяц",showNeighboringMonth:T,size:j,changeMonthLabel:H="Изменить месяц",changeYearLabel:w="Изменить год",changeDayLabel:_="Изменить день",changeHoursLabel:P="Изменить час",changeMinutesLabel:z="Изменить минуту",clearFieldLabel:S="Очистить поле",showCalendarLabel:h="Показать календарь",viewDate:v,onHeaderChange:C,onNextMonth:D,onPrevMonth:L,prevMonthIcon:$,nextMonthIcon:A,disableCalendar:B=!1}=e,Z=re(e,["enableTime","shouldDisableDate","disableFuture","disablePast","minDateTime","maxDateTime","value","onChange","calendarPlacement","style","className","doneButtonText","closeOnChange","disablePickers","getRootRef","name","autoFocus","disabled","onClick","onFocus","prevMonthLabel","nextMonthLabel","showNeighboringMonth","size","changeMonthLabel","changeYearLabel","changeDayLabel","changeHoursLabel","changeMinutesLabel","clearFieldLabel","showCalendarLabel","viewDate","onHeaderChange","onNextMonth","onPrevMonth","prevMonthIcon","nextMonthIcon","disableCalendar"]);const G=c.useRef(null),q=c.useRef(null),se=c.useRef(null),F=c.useRef(null),X=c.useRef(null),K=t?4:2,ae=c.useCallback(he=>{for(let Se=0;Se<=K;Se+=1)if(he[Se].length<no(Se).length)return;let Re="".concat(he[0],".").concat(he[1],".").concat(he[2]),Ue="DD.MM.YYYY";t&&(Re+=" ".concat(he[3],":").concat(he[4]),Ue+=" HH:mm"),Ka(Re,Ue)&&(i==null||i(Fo(Re,Ue,l!=null?l:new Date)))},[t,K,i,l]),ie=c.useMemo(()=>[G,q,se,F,X],[G,q,se,F,X]),{rootRef:Q,calendarRef:J,open:ge,openCalendar:Ie,internalValue:de,handleKeyDown:ee,setFocusedElement:pe,handleFieldEnter:De,clear:me,removeFocusFromField:we}=di({maxElement:K,refs:ie,autoFocus:b,disabled:I,elementsConfig:no,onChange:i,onInternalValueChange:ae,getInternalValue:mi,value:l}),{sizeY:ke="none"}=Ze(),Fe=Oe(Q,x),Le=c.useCallback(he=>{i==null||i(he),p&&!t&&we()},[i,we,p,t]);return u.jsxs(fn,U(W({style:m,className:ne(ke!=="regular"&&pi[ke],f),getRootRef:Fe,after:l?u.jsx(Et,{hoverMode:"opacity",label:S,onClick:me,children:u.jsx(zs,{})}):u.jsx(Et,{hoverMode:"opacity",label:h,onClick:Ie,children:u.jsx(Us,{})}),disabled:I,onClick:At(De,O),onFocus:At(De,E)},Z),{children:[u.jsx("input",{type:"hidden",name:k,value:l?$a(l,t?"DD.MM.YYYYTHH:mm":"DD.MM.YYYY"):""}),u.jsxs($t,{className:"vkuiDateInput__input",onKeyDown:ee,normalize:!1,Component:"span",children:[u.jsx(nt,{length:2,getRootRef:G,index:0,onElementSelect:pe,value:de[0],label:_}),u.jsx(It,{children:"."}),u.jsx(nt,{length:2,getRootRef:q,index:1,onElementSelect:pe,value:de[1],label:H}),u.jsx(It,{children:"."}),u.jsx(nt,{length:4,getRootRef:se,index:2,onElementSelect:pe,value:de[2],label:w}),t&&u.jsxs(c.Fragment,{children:[u.jsx(It,{className:"vkuiDateInput__input--time-divider",children:" "}),u.jsx(nt,{length:2,getRootRef:F,index:3,onElementSelect:pe,value:de[3],label:P}),u.jsx(It,{children:":"}),u.jsx(nt,{length:2,getRootRef:X,index:4,onElementSelect:pe,value:de[4],label:z})]})]}),ge&&!B&&u.jsx(ko,{targetRef:Q,offsetByMainAxis:8,placement:d,autoUpdateOnTargetResize:!0,children:u.jsx(ui,{value:l,onChange:Le,enableTime:t,disablePast:s,disableFuture:o,shouldDisableDate:n,onClose:we,getRootRef:J,doneButtonText:g,disablePickers:y,changeHoursLabel:P,changeMinutesLabel:z,prevMonthLabel:M,nextMonthLabel:R,changeMonthLabel:H,changeYearLabel:w,changeDayLabel:_,showNeighboringMonth:T,size:j,viewDate:v,onHeaderChange:C,onNextMonth:D,onPrevMonth:L,prevMonthIcon:$,nextMonthIcon:A,minDateTime:r,maxDateTime:a})})]}))},Di=({id:e})=>{const t=ms(),{openError:n}=vs(),o=gs(),s=bs(),r=ys(h=>h.tickets.tickets),[a,l]=c.useState();c.useEffect(()=>{if(o&&o.id){const h=r.find(v=>v.id===o.id);h?l(h):ws().then(v=>{s(Cs(v));const C=v.find(D=>D.id===o.id);C?l(C):t.push("/")}).catch(v=>{t.push("/"),n(v.response.data||"Возникла ошибка")})}},[]);const[i,d]=c.useState([]);c.useEffect(()=>{xs().then(h=>{d(h)})},[]);const[m,f]=c.useState([]);c.useEffect(()=>{i.length<2||f([...i[0].map(h=>({value:h,label:h})),...i[1].map(h=>({value:h,label:h}))])},[i]);const[g,p]=c.useState([]),[y,x]=c.useState(""),[k,b]=c.useState(""),[I,O]=c.useState([]),[E,M]=c.useState(()=>new Date),[R,T]=c.useState(!1),[j,H]=c.useState(!0);c.useEffect(()=>{if(a&&(x(a.title||""),b(a.description||""),M(a.time?new Date(a.time*1e3):new Date),O(a.media||[]),m.length>0&&a.groups.length>0)){const h=[];m.forEach(v=>{a.groups.includes(v.value)&&h.push(v)}),p(h)}},[a,m]),c.useEffect(()=>{H(!y||!k)},[y,k]);const w=h=>R?h?"valid":"error":"default",_=h=>{if(h){const v=Array.from(h).map(C=>({data:C,name:C.name}));O(C=>[...C,...v])}},P=h=>{O(v=>v.filter((C,D)=>D!==h))},z=async h=>{const v=C=>new Promise((D,L)=>{if(C.index)D(C);else{const $=new FileReader;$.onload=()=>{D({data:$.result,name:C.name})},$.onerror=L,$.readAsArrayBuffer(C.data)}});return Promise.all(h.map(v))},S=async()=>{if(T(!0),j)return;const h=await z(I),v={title:y,content:k,groups:g.map(C=>C.value),time:Math.floor(E.getTime()/1e3),media:h};console.log(v),o!=null&&o.id?Rs(o.id,v).then(()=>{t.push("/")}).catch(C=>{n(C.response.data||"Возникла ошибка")}):Ds(v).then(()=>{t.push("/")}).catch(C=>{n(C.response.data||"Возникла ошибка")})};return u.jsxs(js,{id:e,children:[u.jsx(Es,{before:u.jsx($s,{onClick:()=>t.back()}),children:"Новый тикет"}),u.jsxs(Fs,{children:[u.jsx(tt,{top:"Название тикета",status:w(y),required:!0,children:u.jsx(Ls,{id:"title",name:"title",placeholder:"Введите название тикета",value:y,required:!0,onChange:h=>x(h.currentTarget.value)})}),u.jsx(tt,{top:"Текст тикета",required:!0,bottom:u.jsxs(On,{direction:"column",gap:4,children:[u.jsxs("span",{children:["*Жирный* — ",u.jsx("b",{children:"Текст"})]}),u.jsxs("span",{children:["_Курсивный_ — ",u.jsx("i",{children:"Текст"})]}),u.jsxs("span",{children:["__Подчеркнутый__ — ",u.jsx("u",{children:"Текст"})]}),u.jsxs("span",{children:["~Зачеркнутый~ — ",u.jsx("s",{children:"Текст"})]}),u.jsx("span",{children:"||Скрытый||"}),u.jsx("span",{children:"`Моноширный`"}),u.jsx("span",{children:"> Цитата"})]}),children:u.jsx(Bs,{id:"description",name:"description",placeholder:"Напишите текст тикета",value:k,required:!0,maxHeight:300,onChange:h=>b(h.currentTarget.value)})}),u.jsx(In,{mode:"horizontal",children:u.jsxs(tt,{top:"Загрузите документы",children:[u.jsx(ia,{before:u.jsx(Js,{role:"presentation"}),size:"m",id:"image",onChange:h=>{var v;return _((v=h.currentTarget)==null?void 0:v.files)},multiple:!0}),I.map((h,v)=>u.jsxs(On,{align:"center",gap:10,children:[u.jsx(ks,{children:h.name}),u.jsx(Et,{label:"Удалить файл",style:{width:30,height:30},onClick:()=>P(v),children:u.jsx(Vs,{style:{padding:3,margin:"auto"},color:"red"})})]},v))]})}),u.jsxs(In,{mode:"horizontal",children:[u.jsx(tt,{top:"Группы",required:!0,children:u.jsx(Ra,{placeholder:"Не выбраны",options:m,value:g,onChange:p,closeAfterSelect:!1})}),u.jsx(tt,{top:"Выставите дату и время публикации",required:!0,children:u.jsx(vi,{disablePast:!0,enableTime:!0,closeOnChange:!0,value:E,onChange:h=>h&&M(h)})})]}),u.jsx(tt,{children:u.jsx(an,{onClick:S,before:u.jsx(Xs,{}),size:"m",stretched:!0,disabled:j,children:"Отправить на проверку / публикацию"})})]})]})};export{Di as New,Di as default};
