System.register(["./index-legacy-iboyzMez.js","./App-legacy-DsSY3WDm.js","./Input-legacy-qlx0QWNh.js","./FormField-legacy-onzlH6pa.js","./PanelHeaderBack-legacy-DBl1NX2A.js","./Title-legacy-QPBUXvj_.js"],(function(e,t){"use strict";var n,a,r,o,l,i,s,c,u,d,f,h,p,m,v,g,b,y,x,w,C,k,D,M,S,R,_,j,T,O,N,I,L,F,P,H,A,E,$,B,Y,z,V,W,U,q,K,Z,J,Q,X,G,ee,te,ne,ae,re,oe,le,ie,se,ce,ue,de,fe,he,pe,me,ve,ge,be,ye,xe,we,Ce,ke,De,Me,Se,Re,_e,je,Te,Oe,Ne,Ie,Le,Fe,Pe,He,Ae,Ee,$e,Be,Ye,ze,Ve,We,Ue,qe,Ke,Ze,Je,Qe,Xe,Ge,et,tt,nt,at,rt,ot;return{setters:[e=>{n=e.m,a=e.ab,r=e.ac,o=e.ad,l=e.ae,i=e.af,s=e.ag,c=e.ah,u=e.ai,d=e.aj,f=e.ak,h=e.al,p=e.am,m=e.an,v=e.ao,g=e.ap,b=e.aq,y=e.ar,x=e.as,w=e.at,C=e.au,k=e.av,D=e.aw,M=e.r,S=e.g,R=e.a,_=e.z,j=e.ax,T=e._,O=e.ay,N=e.b,I=e.az,L=e.i,F=e.aA,P=e.j,H=e.c,A=e.q,E=e.R,$=e.a8,B=e.V,Y=e.u,z=e.aB,V=e.aC,W=e.K,U=e.n,q=e.aD,K=e.aE,Z=e.aF,J=e.aG,Q=e.aH,X=e.aI,G=e.aJ,ee=e.aK,te=e.aL,ne=e.h,ae=e.aM,e.aN,re=e.aO,oe=e.aP,le=e.k,ie=e.aQ,se=e.l,ce=e.aR,ue=e.aS,de=e.a0,fe=e.a2,he=e.a3,pe=e.a4,me=e.a5,ve=e.a6,ge=e.a7,be=e.aT,ye=e.Q,xe=e.aU,we=e.aV},e=>{Ce=e.g,ke=e.i,De=e.b,Me=e.c,Se=e.d,Re=e.e,_e=e.f,je=e.h,Te=e.j,Oe=e.k,Ne=e.l,Ie=e.m,Le=e.n,Fe=e.o,Pe=e.p,He=e.q,Ae=e.C,Ee=e.u,$e=e.A,Be=e.F,Ye=e.T,ze=e.r,Ve=e.s,We=e.t,Ue=e.v,qe=e.I,Ke=e.w,Ze=e.P,Je=e.a,Qe=e.G},e=>{Xe=e.I,Ge=e.F,et=e.a},e=>{tt=e.a,nt=e.F},e=>{at=e.I,rt=e.P,ot=e.T},null],execute:function(){function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var lt=n("Icon12Dropdown","dropdown_12","0 0 12 8",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 8" id="dropdown_12"><path fill="currentColor" fill-rule="evenodd" d="M2.156 2.295a.75.75 0 0 1 1.051-.137L6 4.306l2.793-2.148a.75.75 0 1 1 .914 1.189l-3.25 2.5a.75.75 0 0 1-.914 0l-3.25-2.5a.75.75 0 0 1-.137-1.052" clip-rule="evenodd" /></symbol>',12,8),it=n("Icon16Cancel","cancel_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="cancel_16"><path fill="currentColor" d="M12.736 3.264a.9.9 0 0 1 0 1.272L9.273 8l3.463 3.464a.9.9 0 0 1 .081 1.18l-.08.092a.9.9 0 0 1-1.273 0L8 9.273l-3.464 3.463a.9.9 0 0 1-1.272-1.272L6.727 8 3.264 4.536a.9.9 0 0 1-.08-1.18l.08-.092a.9.9 0 0 1 1.272 0L8 6.727l3.464-3.463a.9.9 0 0 1 1.272 0" /></symbol>',16,16),st=n("Icon16Clear","clear_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="clear_16"><path fill-rule="evenodd" d="M16 8A8 8 0 1 0 0 8a8 8 0 0 0 16 0M4.563 4.564a.9.9 0 0 0 0 1.272L6.727 8l-2.164 2.164a.9.9 0 1 0 1.273 1.272L8 9.273l2.164 2.163a.9.9 0 0 0 1.272-1.272L9.273 8l2.163-2.164a.9.9 0 1 0-1.272-1.272L8 6.727 5.836 4.564a.9.9 0 0 0-1.273 0" clip-rule="evenodd" /></symbol>',16,16),ct=n("Icon16DeleteOutline","delete_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="delete_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M5.041 3H1.75a.75.75 0 1 0 0 1.5h.547l.739 7.198c.036.358.068.668.115.924.049.27.124.537.276.79.23.38.566.684.967.873.268.126.54.173.815.195.259.02.57.02.93.02h3.722c.36 0 .671 0 .93-.02.275-.022.547-.069.814-.195a2.25 2.25 0 0 0 .968-.873 2.3 2.3 0 0 0 .276-.79c.047-.255.079-.566.115-.924l.739-7.198h.547a.75.75 0 0 0 0-1.5h-3.292a3 3 0 0 0-5.917 0m1.544 0h2.83a1.5 1.5 0 0 0-2.83 0m5.61 1.5h-8.39l.72 7.018c.04.393.066.644.101.835.033.182.065.25.086.284a.75.75 0 0 0 .322.291c.037.018.107.042.291.056.194.015.447.016.841.016h3.667c.395 0 .648 0 .841-.016.184-.014.255-.038.292-.056a.75.75 0 0 0 .322-.29c.021-.035.052-.103.085-.285.035-.19.062-.442.102-.835zM6.213 5.501a.75.75 0 0 1 .786.712l.25 5a.75.75 0 0 1-1.498.075l-.25-5a.75.75 0 0 1 .712-.787Zm3.574 0a.75.75 0 0 1 .712.786l-.25 5a.75.75 0 0 1-1.498-.075l.25-5a.75.75 0 0 1 .786-.711" clip-rule="evenodd" /></symbol>',16,16),ut=n("Icon16Done","done_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="done_16"><path fill="currentColor" d="M13.743 3.756a.87.87 0 0 1 0 1.237l-7.317 7.25a.88.88 0 0 1-1.242 0L2.257 9.366a.87.87 0 0 1 0-1.237.88.88 0 0 1 1.242 0l2.306 2.261L12.5 3.756a.88.88 0 0 1 1.242 0" /></symbol>',16,16),dt=n("Icon20CalendarOutline","calendar_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="calendar_outline_20"><path fill-rule="evenodd" d="M6.25 1a.75.75 0 0 1 .75.75v.257Q7.588 1.998 8.317 2h3.366q.729-.002 1.317.007V1.75a.75.75 0 0 1 1.5 0v.356c.428.064.816.172 1.18.357a4.25 4.25 0 0 1 1.857 1.858c.253.497.361 1.04.413 1.67.05.613.05 1.374.05 2.326v3.366c0 .952 0 1.713-.05 2.327-.052.63-.16 1.172-.413 1.67a4.25 4.25 0 0 1-1.857 1.857c-.498.253-1.04.361-1.67.413-.614.05-1.375.05-2.327.05H8.317c-.952 0-1.713 0-2.327-.05-.63-.052-1.172-.16-1.67-.413a4.25 4.25 0 0 1-1.857-1.857c-.253-.498-.361-1.04-.413-1.67C2 13.396 2 12.635 2 11.683V8.317c0-.952 0-1.713.05-2.327.052-.63.16-1.172.413-1.67a4.25 4.25 0 0 1 1.858-1.857A3.8 3.8 0 0 1 5.5 2.106V1.75A.75.75 0 0 1 6.25 1M5.5 3.63c-.203.044-.361.1-.498.17A2.75 2.75 0 0 0 3.8 5.002c-.128.25-.21.573-.255 1.11-.02.255-.032.543-.038.878h12.986a14 14 0 0 0-.038-.878c-.044-.537-.127-.86-.255-1.11A2.75 2.75 0 0 0 15 3.8a2 2 0 0 0-.499-.17v.12a.75.75 0 0 1-1.5 0v-.243a80 80 0 0 0-1.35-.007h-3.3c-.525 0-.968 0-1.35.007v.243a.75.75 0 0 1-1.5 0zm11 4.86h-13v3.16c0 .992 0 1.692.045 2.238.044.537.127.86.255 1.11A2.75 2.75 0 0 0 5.002 16.2c.25.128.573.21 1.11.255.546.044 1.246.045 2.238.045h3.3c.992 0 1.692 0 2.238-.045.537-.044.86-.127 1.11-.255A2.75 2.75 0 0 0 16.2 15c.128-.252.21-.574.255-1.111.044-.546.045-1.245.045-2.238z" clip-rule="evenodd" /></symbol>',20,20),ft=n("Icon20ChevronRightOutline","chevron_right_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="chevron_right_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M7.47 4.217a.75.75 0 0 0 0 1.06L12.185 10l-4.716 4.72a.75.75 0 1 0 1.062 1.06l5.245-5.25a.75.75 0 0 0 0-1.061L8.531 4.218a.75.75 0 0 0-1.061-.001" clip-rule="evenodd" /></symbol>',20,20),ht=n("Icon20ChevronUp","chevron_up_20","0 0 20 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 16" id="chevron_up_20"><path fill-rule="evenodd" d="M15.78 11.125a1 1 0 0 1-1.405.156L10 7.78l-4.375 3.5a1 1 0 0 1-1.25-1.562l5-4a1 1 0 0 1 1.25 0l5 4a1 1 0 0 1 .156 1.406Z" clip-rule="evenodd" /></symbol>',20,16),pt=n("Icon20Dropdown","dropdown_20","0 0 20 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 16" id="dropdown_20"><path fill-rule="evenodd" d="M4.22 5.875a1 1 0 0 1 1.405-.156L10 9.22l4.375-3.5a1 1 0 0 1 1.25 1.562l-5 4a1 1 0 0 1-1.25 0l-5-4a1 1 0 0 1-.156-1.406Z" clip-rule="evenodd" /></symbol>',20,16),mt=n("Icon20SendOutline","send_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="send_outline_20"><path fill-rule="evenodd" d="M3.885 8.143c-.502-1.212-.856-2.156-1.014-2.764l-.068-.256a17 17 0 0 1-.183-.73 3.6 3.6 0 0 1-.078-.515c-.01-.16-.02-.51.141-.884a1.64 1.64 0 0 1 1.15-.952c.399-.09.744-.014.91.029.348.09.73.275 1.056.44.928.47 4.532 2.254 7.274 3.611l2.912 1.443.203.1c.446.221.854.423 1.15.598.168.1.393.243.59.433.184.176.544.582.57 1.212.028.656-.32 1.1-.521 1.304a3 3 0 0 1-.595.45c-.274.165-.652.353-1.051.55l-.23.115-2.156 1.079c-2.779 1.39-7.052 3.53-8.164 4.074-.351.172-.744.357-1.088.448a1.9 1.9 0 0 1-.933.025 1.62 1.62 0 0 1-1.167-1.064 1.9 1.9 0 0 1-.075-.863c.023-.177.063-.35.097-.483.033-.131.074-.277.113-.416l.008-.029q.065-.23.135-.494c.156-.6.505-1.535.999-2.738a4.13 4.13 0 0 1 1.551-1.87 4.13 4.13 0 0 1-1.536-1.853m3.687 1.094.348.065.462.088c.758.146 1.15.239 1.236.38a.45.45 0 0 1-.001.47c-.088.142-.48.233-1.239.374l-.463.085-.267.049-.08.014-.168.03c-.981.17-1.793.794-2.143 1.644q-.674 1.642-.894 2.398l-.048.175q-.076.285-.14.515c-.298 1.065-.348 1.243.946.609l.328-.161.183-.09a3002 3002 0 0 0 7.63-3.811l2.169-1.086.334-.166.032-.016c.795-.396 1.201-.608 1.203-.823.002-.213-.393-.43-1.199-.832l-.034-.017-.449-.223-2.892-1.432C10.052 6.3 7.019 4.799 5.639 4.109l-.518-.26c-1.273-.644-1.214-.42-.876.858l.076.289.001.005.04.146q.223.765.909 2.423c.35.847 1.16 1.467 2.138 1.637z" clip-rule="evenodd" /></symbol>',20,20),vt=n("Icon24ChevronDown","chevron_down_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="chevron_down_24"><path d="M12 13.698 6.64 9.232a1 1 0 0 0-1.28 1.536l6 5a1 1 0 0 0 1.28 0l6-5a1 1 0 1 0-1.28-1.536z" /></symbol>',24,24),gt=n("Icon24ChevronUp","chevron_up_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="chevron_up_24"><path d="m12 10.302-5.36 4.466a1 1 0 1 1-1.28-1.536l6-5a1 1 0 0 1 1.28 0l6 5a1 1 0 1 1-1.28 1.536z" /></symbol>',24,24),bt=n("Icon24Document","document_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="document_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" d="M4 5v13a3 3 0 0 0 3 3l11 .002A3 3 0 0 0 21 18l-.01-9.172a2 2 0 0 0-.585-1.413l-4.83-4.83A2 2 0 0 0 14.163 2H7a3 3 0 0 0-3 3m10.012-.988 3.976 3.976a.3.3 0 0 1-.212.512H14a.5.5 0 0 1-.5-.5V4.224a.3.3 0 0 1 .512-.212" /></g></symbol>',24,24);function yt(e){const t=e.replace(/auto-|auto/,"");return"start"===t||"end"===t?t:null}function xt(e,t,n,a="max-content",r){const o={position:e,top:n,right:"auto",bottom:"auto",left:t};if(null!==a&&(o.width=a),r){const e=r.hide;e&&e.referenceHidden&&(o.visibility="hidden")}return o}function wt(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);l=!0);}catch(s){i=!0,r=s}finally{try{l||null==n.return||n.return()}finally{if(i)throw r}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t,n){let{reference:i,floating:s}=e;const c=a(t),u=r(t),d=v(u),f=o(t),h="y"===c,p=i.x+i.width/2-s.width/2,m=i.y+i.height/2-s.height/2,g=i[d]/2-s[d]/2;let b;switch(f){case"top":b={x:p,y:i.y-s.height};break;case"bottom":b={x:p,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y:m};break;case"left":b={x:i.x-s.width,y:m};break;default:b={x:i.x,y:i.y}}switch(l(t)){case"start":b[u]-=g*(n&&h?-1:1);break;case"end":b[u]+=g*(n&&h?-1:1)}return b}async function kt(e,t){var n;void 0===t&&(t={});const{x:a,y:r,platform:o,rects:l,elements:s,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=i(t,e),m=g(p),v=s[h?"floating"===f?"reference":"floating":f],y=b(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(v)))||n?v:v.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:c})),x="floating"===f?{x:a,y:r,width:l.floating.width,height:l.floating.height}:l.reference,w=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),C=await(null==o.isElement?void 0:o.isElement(w))&&await(null==o.getScale?void 0:o.getScale(w))||{x:1,y:1},k=b(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:w,strategy:c}):x);return{top:(y.top-k.top+m.top)/C.y,bottom:(k.bottom-y.bottom+m.bottom)/C.y,left:(y.left-k.left+m.left)/C.x,right:(k.right-y.right+m.right)/C.x}}function Dt(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Mt(e){return x.some((t=>e[t]>=0))}function St(e){const t=Re(e);let n=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const r=Me(e),o=r?e.offsetWidth:n,l=r?e.offsetHeight:a,i=k(n)!==o||k(a)!==l;return i&&(n=o,a=l),{width:n,height:a,$:i}}function Rt(e){return ke(e)?e:e.contextElement}function _t(e){const t=Rt(e);if(!Me(t))return C(1);const n=t.getBoundingClientRect(),{width:a,height:r,$:o}=St(t);let l=(o?k(n.width):n.width)/a,i=(o?k(n.height):n.height)/r;return l&&Number.isFinite(l)||(l=1),i&&Number.isFinite(i)||(i=1),{x:l,y:i}}const jt=C(0);function Tt(e){const t=Se(e);return He()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:jt}function Ot(e,t,n,a){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=e.getBoundingClientRect(),o=Rt(e);let l=C(1);t&&(a?ke(a)&&(l=_t(a)):l=_t(e));const i=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Se(e))&&t}(o,n,a)?Tt(o):C(0);let s=(r.left+i.x)/l.x,c=(r.top+i.y)/l.y,u=r.width/l.x,d=r.height/l.y;if(o){const e=Se(o),t=a&&ke(a)?Se(a):a;let n=e,r=n.frameElement;for(;r&&a&&t!==n;){const e=_t(r),t=r.getBoundingClientRect(),a=Re(r),o=t.left+(r.clientLeft+parseFloat(a.paddingLeft))*e.x,l=t.top+(r.clientTop+parseFloat(a.paddingTop))*e.y;s*=e.x,c*=e.y,u*=e.x,d*=e.y,s+=o,c+=l,n=Se(r),r=n.frameElement}}return b({width:u,height:d,x:s,y:c})}function Nt(e){return Ot(Ce(e)).left+Oe(e).scrollLeft}function It(e,t,n){let a;if("viewport"===t)a=function(e,t){const n=Se(e),a=Ce(e),r=n.visualViewport;let o=a.clientWidth,l=a.clientHeight,i=0,s=0;if(r){o=r.width,l=r.height;const e=He();(!e||e&&"fixed"===t)&&(i=r.offsetLeft,s=r.offsetTop)}return{width:o,height:l,x:i,y:s}}(e,n);else if("document"===t)a=function(e){const t=Ce(e),n=Oe(e),a=e.ownerDocument.body,r=m(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),o=m(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let l=-n.scrollLeft+Nt(e);const i=-n.scrollTop;return"rtl"===Re(a).direction&&(l+=m(t.clientWidth,a.clientWidth)-r),{width:r,height:o,x:l,y:i}}(Ce(e));else if(ke(t))a=function(e,t){const n=Ot(e,!0,"fixed"===t),a=n.top+e.clientTop,r=n.left+e.clientLeft,o=Me(e)?_t(e):C(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:r*o.x,y:a*o.y}}(t,n);else{const n=Tt(e);a={...t,x:t.x-n.x,y:t.y-n.y}}return b(a)}function Lt(e,t){const n=Ne(e);return!(n===t||!ke(n)||Ie(n))&&("fixed"===Re(n).position||Lt(n,t))}function Ft(e,t,n){const a=Me(t),r=Ce(t),o="fixed"===n,l=Ot(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const s=C(0);if(a||!a&&!o)if(("body"!==je(t)||Te(r))&&(i=Oe(t)),a){const e=Ot(t,!0,o,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else r&&(s.x=Nt(r));return{x:l.left+i.scrollLeft-s.x,y:l.top+i.scrollTop-s.y,width:l.width,height:l.height}}function Pt(e){return"static"===Re(e).position}function Ht(e,t){return Me(e)&&"fixed"!==Re(e).position?t?t(e):e.offsetParent:null}function At(e,t){const n=Se(e);if(_e(e))return n;if(!Me(e)){let t=Ne(e);for(;t&&!Ie(t);){if(ke(t)&&!Pt(t))return t;t=Ne(t)}return n}let a=Ht(e,t);for(;a&&Le(a)&&Pt(a);)a=Ht(a,t);return a&&Ie(a)&&Pt(a)&&!Fe(a)?n:a||Pe(e)||n}const Et={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:a,strategy:r}=e;const o="fixed"===r,l=Ce(a),i=!!t&&_e(t.floating);if(a===l||i&&o)return n;let s={scrollLeft:0,scrollTop:0},c=C(1);const u=C(0),d=Me(a);if((d||!d&&!o)&&(("body"!==je(a)||Te(l))&&(s=Oe(a)),Me(a))){const e=Ot(a);c=_t(a),u.x=e.x+a.clientLeft,u.y=e.y+a.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-s.scrollLeft*c.x+u.x,y:n.y*c.y-s.scrollTop*c.y+u.y}},getDocumentElement:Ce,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:a,strategy:r}=e;const o=[..."clippingAncestors"===n?_e(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let a=De(e,[],!1).filter((e=>ke(e)&&"body"!==je(e))),r=null;const o="fixed"===Re(e).position;let l=o?Ne(e):e;for(;ke(l)&&!Ie(l);){const t=Re(l),n=Fe(l);n||"fixed"!==t.position||(r=null),(o?!n&&!r:!n&&"static"===t.position&&r&&["absolute","fixed"].includes(r.position)||Te(l)&&!n&&Lt(e,l))?a=a.filter((e=>e!==l)):r=t,l=Ne(l)}return t.set(e,a),a}(t,this._c):[].concat(n),a],l=o[0],i=o.reduce(((e,n)=>{const a=It(t,n,r);return e.top=m(a.top,e.top),e.right=p(a.right,e.right),e.bottom=p(a.bottom,e.bottom),e.left=m(a.left,e.left),e}),It(t,l,r));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}},getOffsetParent:At,getElementRects:async function(e){const t=this.getOffsetParent||At,n=this.getDimensions,a=await n(e.floating);return{reference:Ft(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=St(e);return{width:t,height:n}},getScale:_t,isElement:ke,isRTL:function(e){return"rtl"===Re(e).direction}};function $t(e,t,n,a){void 0===a&&(a={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:i="function"==typeof IntersectionObserver,animationFrame:s=!1}=a,c=Rt(e),u=r||o?[...c?De(c):[],...De(t)]:[];u.forEach((e=>{r&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));const d=c&&i?function(e,t){let n,a=null;const r=Ce(e);function o(){var e;clearTimeout(n),null==(e=a)||e.disconnect(),a=null}return function l(i,s){void 0===i&&(i=!1),void 0===s&&(s=1),o();const{left:c,top:u,width:d,height:f}=e.getBoundingClientRect();if(i||t(),!d||!f)return;const h={rootMargin:-D(u)+"px "+-D(r.clientWidth-(c+d))+"px "+-D(r.clientHeight-(u+f))+"px "+-D(c)+"px",threshold:m(0,p(1,s))||1};let v=!0;function g(e){const t=e[0].intersectionRatio;if(t!==s){if(!v)return l();t?l(!1,t):n=setTimeout((()=>{l(!1,1e-7)}),1e3)}v=!1}try{a=new IntersectionObserver(g,{...h,root:r.ownerDocument})}catch(b){a=new IntersectionObserver(g,h)}a.observe(e)}(!0),o}(c,n):null;let f,h=-1,v=null;l&&(v=new ResizeObserver((e=>{let[a]=e;a&&a.target===c&&v&&(v.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame((()=>{var e;null==(e=v)||e.observe(t)}))),n()})),c&&!s&&v.observe(c),v.observe(t));let g=s?Ot(e):null;return s&&function t(){const a=Ot(e);!g||a.x===g.x&&a.y===g.y&&a.width===g.width&&a.height===g.height||n(),g=a,f=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{r&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=v)||e.disconnect(),v=null,s&&cancelAnimationFrame(f)}}const Bt=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:c,placement:u,middlewareData:d}=t,f=await async function(e,t){const{placement:n,platform:r,elements:s}=e,c=await(null==r.isRTL?void 0:r.isRTL(s.floating)),u=o(n),d=l(n),f="y"===a(n),h=["left","top"].includes(u)?-1:1,p=c&&f?-1:1,m=i(t,e);let{mainAxis:v,crossAxis:g,alignmentAxis:b}="number"==typeof m?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return d&&"number"==typeof b&&(g="end"===d?-1*b:b),f?{x:g*p,y:v*h}:{x:v*h,y:g*p}}(t,e);return u===(null==(n=d.offset)?void 0:n.placement)&&null!=(r=d.arrow)&&r.alignmentOffset?{}:{x:s+f.x,y:c+f.y,data:{...f,placement:u}}}}},Yt=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,a,r;const{rects:u,middlewareData:d,placement:f,platform:h,elements:p}=t,{crossAxis:m=!1,alignment:v,allowedPlacements:g=s,autoAlignment:b=!0,...x}=i(e,t),w=void 0!==v||g===s?function(e,t,n){return(e?[...n.filter((t=>l(t)===e)),...n.filter((t=>l(t)!==e))]:n.filter((e=>o(e)===e))).filter((n=>!e||l(n)===e||!!t&&y(n)!==n))}(v||null,b,g):g,C=await kt(t,x),k=(null==(n=d.autoPlacement)?void 0:n.index)||0,D=w[k];if(null==D)return{};const M=c(D,u,await(null==h.isRTL?void 0:h.isRTL(p.floating)));if(f!==D)return{reset:{placement:w[0]}};const S=[C[o(D)],C[M[0]],C[M[1]]],R=[...(null==(a=d.autoPlacement)?void 0:a.overflows)||[],{placement:D,overflows:S}],_=w[k+1];if(_)return{data:{index:k+1,overflows:R},reset:{placement:_}};const j=R.map((e=>{const t=l(e.placement);return[e.placement,t&&m?e.overflows.slice(0,2).reduce(((e,t)=>e+t),0):e.overflows[0],e.overflows]})).sort(((e,t)=>e[1]-t[1])),T=(null==(r=j.filter((e=>e[2].slice(0,l(e[0])?2:3).every((e=>e<=0))))[0])?void 0:r[0])||j[0][0];return T!==f?{data:{index:k+1,overflows:R},reset:{placement:T}}:{}}}},zt=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:l}=t,{mainAxis:s=!0,crossAxis:c=!1,limiter:u={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...d}=i(e,t),f={x:n,y:r},p=await kt(t,d),m=a(o(l)),v=w(m);let g=f[v],b=f[m];if(s){const e="y"===v?"bottom":"right",t=g+p["y"===v?"top":"left"],n=g-p[e];g=h(t,g,n)}if(c){const e="y"===m?"bottom":"right",t=b+p["y"===m?"top":"left"],n=b-p[e];b=h(t,b,n)}const y=u.fn({...t,[v]:g,[m]:b});return{...y,data:{x:y.x-n,y:y.y-r}}}}},Vt=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:l,middlewareData:s,rects:h,initialPlacement:p,platform:m,elements:v}=t,{mainAxis:g=!0,crossAxis:b=!0,fallbackPlacements:y,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:C=!0,...k}=i(e,t);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const D=o(l),M=a(p),S=o(p)===p,R=await(null==m.isRTL?void 0:m.isRTL(v.floating)),_=y||(S||!C?[u(p)]:d(p)),j="none"!==w;!y&&j&&_.push(...f(p,C,w,R));const T=[p,..._],O=await kt(t,k),N=[];let I=(null==(r=s.flip)?void 0:r.overflows)||[];if(g&&N.push(O[D]),b){const e=c(l,h,R);N.push(O[e[0]],O[e[1]])}if(I=[...I,{placement:l,overflows:N}],!N.every((e=>e<=0))){var L,F;const e=((null==(L=s.flip)?void 0:L.index)||0)+1,t=T[e];if(t)return{data:{index:e,overflows:I},reset:{placement:t}};let n=null==(F=I.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:F.placement;if(!n)switch(x){case"bestFit":{var P;const e=null==(P=I.filter((e=>{if(j){const t=a(e.placement);return t===M||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:P[0];e&&(n=e);break}case"initialPlacement":n=p}if(l!==n)return{reset:{placement:n}}}return{}}}},Wt=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:s,elements:c}=t,{apply:u=()=>{},...d}=i(e,t),f=await kt(t,d),h=o(n),v=l(n),g="y"===a(n),{width:b,height:y}=r.floating;let x,w;"top"===h||"bottom"===h?(x=h,w=v===(await(null==s.isRTL?void 0:s.isRTL(c.floating))?"start":"end")?"left":"right"):(w=h,x="end"===v?"top":"bottom");const C=y-f.top-f.bottom,k=b-f.left-f.right,D=p(y-f[x],C),M=p(b-f[w],k),S=!t.middlewareData.shift;let R=D,_=M;if(g?_=v||S?p(M,k):k:R=v||S?p(D,C):C,S&&!v){const e=m(f.left,0),t=m(f.right,0),n=m(f.top,0),a=m(f.bottom,0);g?_=b-2*(0!==e||0!==t?e+t:m(f.left,f.right)):R=y-2*(0!==n||0!==a?n+a:m(f.top,f.bottom))}await u({...t,availableWidth:_,availableHeight:R});const j=await s.getDimensions(c.floating);return b!==j.width||y!==j.height?{reset:{rects:!0}}:{}}}},Ut=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:a="referenceHidden",...r}=i(e,t);switch(a){case"referenceHidden":{const e=Dt(await kt(t,{...r,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Mt(e)}}}case"escaped":{const e=Dt(await kt(t,{...r,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:Mt(e)}}}default:return{}}}}},qt=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:a,placement:o,rects:s,platform:c,elements:u,middlewareData:d}=t,{element:f,padding:m=0}=i(e,t)||{};if(null==f)return{};const b=g(m),y={x:n,y:a},x=r(o),w=v(x),C=await c.getDimensions(f),k="y"===x,D=k?"top":"left",M=k?"bottom":"right",S=k?"clientHeight":"clientWidth",R=s.reference[w]+s.reference[x]-y[x]-s.floating[w],_=y[x]-s.reference[x],j=await(null==c.getOffsetParent?void 0:c.getOffsetParent(f));let T=j?j[S]:0;T&&await(null==c.isElement?void 0:c.isElement(j))||(T=u.floating[S]||s.floating[w]);const O=R/2-_/2,N=T/2-C[w]/2-1,I=p(b[D],N),L=p(b[M],N),F=I,P=T-C[w]-L,H=T/2-C[w]/2+O,A=h(F,H,P),E=!d.arrow&&null!=l(o)&&H!==A&&s.reference[w]/2-(H<F?I:L)-C[w]/2<0,$=E?H<F?H-F:H-P:0;return{[x]:y[x]+$,data:{[x]:A,centerOffset:H-A-$,...E&&{alignmentOffset:$}},reset:E}}}),Kt=(e,t,n)=>{const a=new Map,r={platform:Et,...n},o={...r.platform,_c:a};return(async(e,t,n)=>{const{placement:a="bottom",strategy:r="absolute",middleware:o=[],platform:l}=n,i=o.filter(Boolean),s=await(null==l.isRTL?void 0:l.isRTL(t));let c=await l.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:d}=Ct(c,a,s),f=a,h={},p=0;for(let m=0;m<i.length;m++){const{name:n,fn:o}=i[m],{x:v,y:g,data:b,reset:y}=await o({x:u,y:d,initialPlacement:a,placement:f,strategy:r,middlewareData:h,rects:c,platform:l,elements:{reference:e,floating:t}});u=null!=v?v:u,d=null!=g?g:d,h={...h,[n]:{...h[n],...b}},y&&p<=50&&(p++,"object"==typeof y&&(y.placement&&(f=y.placement),y.rects&&(c=!0===y.rects?await l.getElementRects({reference:e,floating:t,strategy:r}):y.rects),({x:u,y:d}=Ct(c,f,s))),m=-1)}return{x:u,y:d,placement:f,strategy:r,middlewareData:h}})(e,t,{...r,platform:o})};var Zt="undefined"!=typeof document?M.useLayoutEffect:M.useEffect;function Jt(e,t){if(e===t)return!0;if((void 0===e?"undefined":j(e))!==(void 0===t?"undefined":j(t)))return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;var n,a,r;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(a=n;0!=a--;)if(!Jt(e[a],t[a]))return!1;return!0}if((n=(r=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(a=n;0!=a--;)if(!{}.hasOwnProperty.call(t,r[a]))return!1;for(a=n;0!=a--;){var o=r[a];if(!("_owner"===o&&e.$$typeof||Jt(e[o],t[o])))return!1}return!0}return e!=e&&t!=t}function Qt(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Xt(e,t){var n=Qt(e);return Math.round(t*n)/n}function Gt(e){var t=M.useRef(e);return Zt((function(){t.current=e})),t}var en=function(e,t){return S(R({},function(e){return{name:"arrow",options:e,fn:function(t){var n,a="function"==typeof e?e(t):e,r=a.element,o=a.padding;return r&&(n=r,{}.hasOwnProperty.call(n,"current"))?null!=r.current?qt({element:r.current,padding:o}).fn(t):{}:r?qt({element:r,padding:o}).fn(t):{}}}}(e)),{options:[e,t]})};const tn={ancestorScroll:!0,ancestorResize:!0,elementResize:!1,animationFrame:!1},nn=({placement:e="bottom-start",arrowRef:t=null,arrow:n,arrowHeight:a,arrowPadding:r,sameWidth:o,offsetByMainAxis:l=0,offsetByCrossAxis:i=0,customMiddlewares:s,hideWhenReferenceHidden:c,disableFlipMiddleware:u=!1})=>M.useMemo((()=>{const d=!function(e){return!e.startsWith("auto")}(e),f=[(h={crossAxis:i,mainAxis:n&&a?l+a:l},S(R({},Bt(h)),{options:[h,p]}))];var h,p;return d?f.push(function(e,t){return S(R({},Yt(e)),{options:[e,t]})}({alignment:yt(e)})):u||f.push(function(e,t){return S(R({},Vt(e)),{options:[e,t]})}({fallbackAxisSideDirection:"start"})),f.push(function(e,t){return S(R({},zt(e)),{options:[e,t]})}()),o&&f.push(function(e,t){return S(R({},Wt(e)),{options:[e,t]})}({apply({rects:e,elements:t}){Object.assign(t.floating.style,{width:`${e.reference.width}px`})}})),s&&f.push(...s),n&&f.push(en({element:t,padding:r})),c&&f.push(function(e,t){return S(R({},Ut(e)),{options:[e,t]})}()),{middlewares:f,strictPlacement:d?void 0:e}}),[i,t,n,a,r,l,o,s,e,c,u]);function an({value:e,defaultValue:t,disabled:n,onChange:a}){const r=void 0!==e,[o,l]=M.useState(t),i=M.useRef(e);N((()=>{i.current=e}));const s=M.useCallback((e=>{if(!n)if(I(e))if(r){if(a){const t=e(i.current);a(t)}}else l((t=>{const n=e(t);return a&&a(n),n}));else a&&a(e),r||l(e)}),[n,r,a]);return[r?e:o,s]}const rn=8,on=10,ln=rn+1,sn=e=>P.jsx("svg",S(R({width:20,height:ln,viewBox:`0 0 20 ${ln}`,xmlns:"http://www.w3.org/2000/svg"},e),{children:P.jsx("path",{d:"M10 0c3 0 6 8 10 8v1H0V8c3.975 0 7-8 10-8Z",fill:"currentColor"})})),cn={right:"vkuiFloatingArrow--placement-right",bottom:"vkuiFloatingArrow--placement-bottom",left:"vkuiFloatingArrow--placement-left"},un=e=>{var{offset:t,isStaticOffset:n,coords:a,iconStyle:r,iconClassName:o,placement:l="bottom",getRootRef:i,Icon:s=sn}=e,c=T(e,["offset","isStaticOffset","coords","iconStyle","iconClassName","placement","getRootRef","Icon"]);const[u,d]=function(e,t={x:0,y:0},n=0,a=!1){const r=e=>{const r={x:t.x||0,y:t.y||0};return e?a?n:r.y+n:a?n:r.x+n};if(e.startsWith("top")){const t=dn(e,a);return["bottom",{top:"100%",[t]:r(!1)}]}if(e.startsWith("right")){const t=fn(e,a);return["left",{[t]:r(!0),left:0}]}if(e.startsWith("bottom")){const t=dn(e,a);return[void 0,{bottom:"100%",[t]:r(!1)}]}{const t=fn(e,a);return["right",{[t]:r(!0),right:0}]}}(l,a,t,n);return P.jsx("div",S(R({ref:i,style:d,className:H("vkuiFloatingArrow",u&&cn[u])},c),{children:P.jsx(s,{className:H("vkuiFloatingArrow__in",o),style:r})}))};function dn(e,t){return e.endsWith("end")&&t?"right":"left"}function fn(e,t){return e.endsWith("end")&&t?"bottom":"top"}const hn=e=>{var{placement:t="bottom-start",sameWidth:n,hideWhenReferenceHidden:a,offsetByMainAxis:r=8,offsetByCrossAxis:o=0,arrow:l,arrowHeight:i=rn,arrowPadding:s=on,customMiddlewares:c,disableFlipMiddleware:u=!1,autoUpdateOnTargetResize:d=!1,arrowProps:f,ArrowIcon:h=sn,targetRef:p,getRootRef:m,children:v,usePortal:g=!0,style:b,onPlacementChange:y}=e,x=T(e,["placement","sameWidth","hideWhenReferenceHidden","offsetByMainAxis","offsetByCrossAxis","arrow","arrowHeight","arrowPadding","customMiddlewares","disableFlipMiddleware","autoUpdateOnTargetResize","arrowProps","ArrowIcon","targetRef","getRootRef","children","usePortal","style","onPlacementChange"]);const[w,C]=M.useState(null),{strictPlacement:k,middlewares:D}=nn({placement:t,sameWidth:n,arrow:l,arrowRef:w,arrowHeight:i,arrowPadding:s,offsetByMainAxis:r,offsetByCrossAxis:o,hideWhenReferenceHidden:a,customMiddlewares:c,disableFlipMiddleware:u}),{x:j,y:I,strategy:L,placement:F,refs:H,middlewareData:$}=function(e){void 0===e&&(e={});var t=e.placement,n=void 0===t?"bottom":t,a=e.strategy,r=void 0===a?"absolute":a,o=e.middleware,l=void 0===o?[]:o,i=e.platform,s=e.elements,c=void 0===s?{}:s,u=c.reference,d=c.floating,f=e.transform,h=void 0===f||f,p=e.whileElementsMounted,m=e.open,v=wt(M.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),2),g=v[0],b=v[1],y=wt(M.useState(l),2),x=y[0],w=y[1];Jt(x,l)||w(l);var C=wt(M.useState(null),2),k=C[0],D=C[1],j=wt(M.useState(null),2),T=j[0],O=j[1],N=M.useCallback((function(e){e!==P.current&&(P.current=e,D(e))}),[]),I=M.useCallback((function(e){e!==H.current&&(H.current=e,O(e))}),[]),L=u||k,F=d||T,P=M.useRef(null),H=M.useRef(null),A=M.useRef(g),E=null!=p,$=Gt(p),B=Gt(i),Y=M.useCallback((function(){if(P.current&&H.current){var e={placement:n,strategy:r,middleware:x};B.current&&(e.platform=B.current),Kt(P.current,H.current,e).then((function(e){var t=S(R({},e),{isPositioned:!0});z.current&&!Jt(A.current,t)&&(A.current=t,_.flushSync((function(){b(t)})))}))}}),[x,n,r,B]);Zt((function(){!1===m&&A.current.isPositioned&&(A.current.isPositioned=!1,b((function(e){return S(R({},e),{isPositioned:!1})})))}),[m]);var z=M.useRef(!1);Zt((function(){return z.current=!0,function(){z.current=!1}}),[]),Zt((function(){if(L&&(P.current=L),F&&(H.current=F),L&&F){if($.current)return $.current(L,F,Y);Y()}}),[L,F,Y,$,E]);var V=M.useMemo((function(){return{reference:P,floating:H,setReference:N,setFloating:I}}),[N,I]),W=M.useMemo((function(){return{reference:L,floating:F}}),[L,F]),U=M.useMemo((function(){var e={position:r,left:0,top:0};if(!W.floating)return e;var t=Xt(W.floating,g.x),n=Xt(W.floating,g.y);return h?R(S(R({},e),{transform:"translate("+t+"px, "+n+"px)"}),Qt(W.floating)>=1.5&&{willChange:"transform"}):{position:r,left:t,top:n}}),[r,h,W.floating,g.x,g.y]);return M.useMemo((function(){return S(R({},g),{update:Y,refs:V,elements:W,floatingStyles:U})}),[g,Y,V,W,U])}({placement:k,middleware:D,whileElementsMounted:(...e)=>function(e,t,n,a=tn){const{elementResize:r=!1}=a,o=T(a,["elementResize"]),l=void 0!==window.ResizeObserver,i=$t(e,t,n,S(R({},o),{elementResize:r&&l}));let s=null;return r&&!l&&(s=new Ae(n),O(e)&&s.observe(e),s.observe(t),s.appendToTheDOM()),()=>{s&&(s.disconnect(),s=null),i()}}(...e,{elementResize:d})});!function(e,t,n){const a=Ee(t);N((()=>{n&&(void 0===a&&e!==t||void 0!==a&&a!==t)&&n(t)}),[a,e,t,n])}(t,F,y);const{arrow:B}=$,Y=A(H.setFloating,m);N((()=>{H.setReference("current"in p?p.current:p)}),[H.setReference,p]);const z=P.jsxs(E,S(R({},x),{baseClassName:"vkuiPopper",getRootRef:Y,style:R({},b,xt(L,j,I,n?null:void 0,$)),children:[l&&P.jsx(un,S(R({},f),{coords:B,placement:F,getRootRef:C,Icon:h})),v]}));return P.jsx($e,{usePortal:g,children:z})},pn=e=>{var{children:t="Выберите файл",align:n="left",size:a,mode:r,stretched:o,before:l,after:i,loading:s,className:c,style:u,getRef:d,getRootRef:f,appearance:h}=e,p=T(e,["children","align","size","mode","stretched","before","after","loading","className","style","getRef","getRootRef","appearance"]);return P.jsxs($,{Component:"label",align:n,className:c,stretched:o,mode:r,appearance:h,size:a,before:l,after:i,loading:s,style:u,getRootRef:f,disabled:p.disabled,children:[P.jsx(B,S(R({title:""},p),{Component:"input",type:"file",getRootRef:d})),t]})},mn={none:"vkuiChip--sizeY-none",compact:"vkuiChip--sizeY-compact"},vn=e=>{var{Component:t="span",value:n="",removable:a=!0,onRemove:r=U,removeLabel:o="Удалить",before:l,after:i,disabled:s,readOnly:c,children:u,className:d,onFocus:f,onBlur:h}=e,p=T(e,["Component","value","removable","onRemove","removeLabel","before","after","disabled","readOnly","children","className","onFocus","onBlur"]);const{sizeY:m="none"}=Y(),{focusVisible:v,onFocus:g,onBlur:b}=z(),y=V({focusVisible:v}),x=M.useCallback((e=>{r(e,n)}),[r,n]);return P.jsxs(E,S(R({},p),{Component:t,className:H("vkuiChip","regular"!==m&&mn[m],y,d),"aria-readonly":c,"aria-disabled":s,onFocus:s?void 0:e=>{f&&f(e),g(e)},onBlur:s?void 0:e=>{h&&h(e),b(e)},children:[P.jsxs("div",{className:"vkuiChip__in",children:[W(l)&&P.jsx("div",{className:"vkuiChip__before",children:l}),P.jsx(Be,{className:"vkuiChip__content",children:u}),W(i)&&P.jsx("div",{className:"vkuiChip__after",children:i})]}),!c&&a&&P.jsx("div",{className:"vkuiChip__removable",children:P.jsxs("button",{tabIndex:-1,disabled:s,className:"vkuiChip__remove",onClick:s?void 0:x,children:[P.jsxs(B,{children:["  ",o," ",u]}),P.jsx(it,{})]})})]}))},gn=[],bn="";function yn(e){return e.value}function xn(e){return e.label}function wn(e,t){return{value:e,label:t}}function Cn(e){const{label:t}=e,n=T(e,["label"]);return P.jsx(vn,S(R({removable:!e.disabled},n),{children:t}))}const kn=e=>"object"==typeof e&&"value"in e,Dn=e=>!e||e.value===bn,Mn=e=>{const t=e&&e.dataset.index;return"string"==typeof t?Number(t):-1},Sn={none:"vkuiChipsInputBase--sizeY-none",compact:"vkuiChipsInputBase--sizeY-compact"},Rn=e=>{var{getRootRef:t,style:n,className:a,before:r,after:o,status:l,mode:i,value:s=gn,onAddChipOption:c,onRemoveChipOption:u,renderChip:d=Cn,getRef:f,id:h,inputValue:p=bn,placeholder:m,disabled:v,readOnly:g,addOnBlur:b,onBlur:y,onInputChange:x}=e,w=T(e,["getRootRef","style","className","before","after","status","mode","value","onAddChipOption","onRemoveChipOption","renderChip","getRef","id","inputValue","placeholder","disabled","readOnly","addOnBlur","onBlur","onInputChange"]);const{sizeY:C="none"}=Y(),k=M.useId(),D=A(f),_=M.useRef(null),j=s.length,N=0===j,[I,L]=M.useState(0),F=(e,t,n)=>{const a=((e,t,n)=>{const a=n-1;switch(t){case"first":return 0;case"prev":const t=e-1;return t<0?a:t;case"next":const n=e+1;return n>a?0:n;case"last":return a;default:return-1}})(e,t,j),r=n.querySelector(`[data-index="${a}"]`);r&&(L(a),r.focus())},E=(e,t)=>{var n;D.current&&_.current&&(j>1?F(t,t===j-1?"prev":"next",_.current):(n=D.current,L(0),n.focus()),u(e))},$=(e,t)=>{e.preventDefault(),e.stopPropagation(),E(t,((e,t)=>{const n=kn(e)?e.value:e;return t.findIndex((e=>e.value===n))})(t,s))};return P.jsx(tt,{Component:"div",getRootRef:t,style:n,disabled:v,before:r,after:o,status:l,mode:i,className:a,onClick:v?void 0:e=>{K(e.currentTarget,J(e.currentTarget))||D.current&&D.current.focus()},children:P.jsxs("div",{className:H("vkuiChipsInputBase","regular"!==C&&Sn[C],N&&"vkuiChipsInputBase--hasPlaceholder"),ref:_,role:"listbox","aria-orientation":"horizontal","aria-disabled":v,"aria-readonly":g,onKeyDown:v?void 0:e=>{const t=e.target;if(!e.defaultPrevented&&_.current&&O(t))switch(e.key){case q.ENTER:!g&&K(t,D.current)&&D.current&&!Dn(D.current)&&(e.preventDefault(),c(D.current.value));break;case q.DELETE:case q.BACKSPACE:!g&&j>0&&(K(t,D.current)?e.key===q.BACKSPACE&&Dn(D.current)&&(e.preventDefault(),F(Mn(t),"last",_.current)):(e.preventDefault(),E((e=>{const t=e&&e.dataset.value;return"string"==typeof t?t:-1})(t),Mn(t))));break;case q.ARROW_UP:case q.ARROW_LEFT:case q.ARROW_DOWN:case q.ARROW_RIGHT:0===j||K(t,D.current)||(e.preventDefault(),F(Mn(t),Z(e.key),_.current))}},children:[s.map(((e,t)=>P.jsx(M.Fragment,{children:d({Component:"div",value:e.value,label:e.label,disabled:e.disabled||v,readOnly:e.readOnly||g,className:"vkuiChipsInputBase__chip",onRemove:$,"data-index":t,"data-value":e.value,tabIndex:I===t?0:-1,role:"option","aria-selected":!0,"aria-posinset":t+1,"aria-setsize":j},e)},`${typeof e.value}-${e.label}`))),P.jsx(Ye,S(R({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1},w),{Component:"input",type:"text",id:h||`chips-input-base-generated-id-${k}`,getRootRef:D,className:"vkuiChipsInputBase__el",disabled:v,readOnly:g,placeholder:N?m:void 0,value:p,onChange:x,onBlur:e=>{y&&y(e),b&&!e.defaultPrevented&&D.current&&c(D.current.value)}}))]})})},_n=(e,t,n)=>e.map((e=>S(R({},e),{label:n(e),value:t(e)}))),jn=({value:e,defaultValue:t=gn,onChange:n,getOptionLabel:a=xn,getOptionValue:r=yn,getNewOptionData:o=wn,inputValue:l,defaultInputValue:i=bn,onInputChange:s,disabled:c})=>{const[u,d]=an({disabled:c,value:e?_n(e,r,a):void 0,defaultValue:_n(t,r,a),onChange:n}),f=M.useRef(null),[h,p]=function(e){var{onChange:t,disabled:n}=e,a=T(e,["onChange","disabled"]);const[r,o]=an(a);return[r,M.useCallback((e=>{n||(o(e.target.value),t&&t(e))}),[o,t,n])]}({disabled:c,value:l,defaultValue:i,onChange:s}),m=M.useCallback(((e,t)=>{d((n=>{const a=kn(e),r=a?o(e.value,e.label):o(e,"string"==typeof e?e:""),l=n.filter((e=>r.value!==e.value));return!0===t&&l.push(a?R({},e,r):r),l}))}),[d,o]),v=M.useCallback((()=>{f.current&&((e,t="")=>{try{const n=e.value;e.value=t;const a=e._valueTracker;a&&a.setValue(n);const r=new Event("input",{bubbles:!0});e.dispatchEvent(r)}catch(n){}})(f.current,"")}),[f]),g=M.useCallback((e=>m(e,!0)),[m]),b=M.useCallback((e=>m(e,!1)),[m]),y=M.useCallback((e=>{const t=e.trim();t&&(g(t),v())}),[g,v]),x=M.useCallback((()=>{d(t)}),[t,d]);var w,C;return N((()=>{if(!w.current)return;const e=w.current.closest("form");return e?(e.addEventListener("reset",C),()=>{e.removeEventListener("reset",C)}):void 0}),[w=f,C=x]),{value:u,addOption:g,addOptionFromInput:y,removeOption:b,inputRef:f,inputValue:h,onInputChange:p,clearInput:v}};function Tn(...e){const[t="",n,a]=e,r=a?a(n):function(e){return e.label}(n);if(void 0===r)return!1;const o=t.toLocaleLowerCase(),l=ze(r).toLocaleLowerCase();if(l.startsWith(o))return!0;const i=((e="",t="")=>{const n=[];let a=e.indexOf(t);for(;-1!==a;)n.push(a),a=e.indexOf(t,a+1);return n})(l,o);if(i.length){const e=new RegExp("\\p{L}","u");for(const t of i)if(!e.test(l[t-1]))return!0}return!1}const On=(e="default")=>"default"===e?"default":"plain";function Nn(e){switch(e){case!0:return"vkuiCustomScrollView--hasPointer-true";case!1:return"vkuiCustomScrollView--hasPointer-false";default:return"vkuiCustomScrollView--hasPointer-none"}}const In=e=>{var{className:t,children:n,boxRef:a,windowResize:r,autoHideScrollbar:o=!1,autoHideScrollbarDelay:l,onScroll:i,getRootRef:s}=e,c=T(e,["className","children","boxRef","windowResize","autoHideScrollbar","autoHideScrollbarDelay","onScroll","getRootRef"]);const{document:u,window:d}=L(),{hasPointer:f}=Y(),h=M.useRef(NaN),p=M.useRef(0),m=M.useRef(0),v=M.useRef(0),g=M.useRef(0),b=M.useRef(""),y=M.useRef(0),x=M.useRef(0),w=A(a),C=M.useRef(null),k=M.useRef(null),D=M.useRef(null),_=e=>{const t=e/(g.current-m.current);(e=>{p.current=e,null!==D.current&&(D.current.style[b.current]=`translate(0, ${e}px)`)})((m.current-v.current)*t)},j=()=>{if(!w.current||!k.current||!D.current)return;const e=w.current.clientHeight,t=w.current.scrollHeight,n=e/t,a=Math.max(e*n,40);h.current=n,m.current=e,g.current=t,v.current=a,n>=1?k.current.style.display="none":(k.current.style.display="",D.current.style.height=`${a}px`,_(w.current.scrollTop))},O=Ve("resize",j);N((()=>{r&&d&&O.add(d)}),[r,d]),We(C,j),N((()=>{var e;let t=null===(e=D.current)||void 0===e?void 0:e.style,n="";void 0!==t&&("transform"in t?n="transform":"webkitTransform"in t&&(n="webkitTransform")),b.current=n}),[]),N(j);const{trackerVisible:I,onTargetScroll:F,onTrackerDragStart:E,onTrackerDragStop:$,onTrackerMouseEnter:B,onTrackerMouseLeave:z}=((e=!1,t=500)=>{const[n,a]=M.useState(e?"hidden":"visible"),r=M.useRef(!1),o=M.useRef(!1),l=M.useCallback((()=>{o.current=!0,a("visible")}),[]),i=M.useCallback((()=>{o.current=!1,r.current||a("temporary-visible")}),[]),s=M.useCallback((()=>{r.current=!0,a("visible")}),[]),c=M.useCallback((()=>{r.current=!1,o.current||a("temporary-visible")}),[]),u=M.useCallback((()=>{r.current||o.current||a("temporary-visible")}),[]);return M.useEffect((function(){let e=null;return"temporary-visible"===n&&(e=setTimeout((()=>{a("hidden")}),t)),function(){e&&clearTimeout(e)}}),[n,t]),{trackerVisible:"hidden"!==n,onTrackerDragStart:l,onTrackerDragStop:i,onTrackerMouseEnter:s,onTrackerMouseLeave:c,onTargetScroll:u}})(o,l),V=[Ve("mousemove",(e=>{e.preventDefault();const t=e.clientY-y.current;(e=>{const t=e/(m.current-v.current);null!==w.current&&(w.current.scrollTop=(g.current-m.current)*t)})(Math.min(Math.max(x.current+t,0),m.current-v.current))})),Ve("mouseup",(e=>{e.preventDefault(),o&&$(),V.forEach((e=>e.remove()))}))];return P.jsxs("div",S(R({className:H(t,"vkuiCustomScrollView",Nn(f)),ref:s},c),{children:[P.jsx("div",{className:"vkuiCustomScrollView__box",tabIndex:-1,ref:w,onScroll:e=>{h.current>=1||!w.current||(o&&F(),_(w.current.scrollTop),null==i||i(e))},children:P.jsx("div",{ref:C,className:"vkuiCustomScrollView__box-content",children:n})}),P.jsx("div",{className:"vkuiCustomScrollView__barY",ref:k,onClick:Q,children:P.jsx("div",{className:H("vkuiCustomScrollView__trackerY",!I&&"vkuiCustomScrollView__trackerY--hidden"),onMouseEnter:o?B:void 0,onMouseLeave:o?z:void 0,ref:D,onMouseDown:e=>{var t;e.preventDefault(),y.current=e.clientY,x.current=p.current,o&&E(),(t=u)&&V.forEach((e=>e.add(t)))}})})]}))},Ln=e=>e.startsWith("top"),Fn=e=>{var{children:t,targetRef:n,scrollBoxRef:a,placement:r="bottom",fetching:o,onPlacementChange:l,offsetDistance:i=0,autoWidth:s=!1,forcePortal:c=!0,autoHideScrollbar:u,autoHideScrollbarDelay:d,className:f,noMaxHeight:h=!1}=e,p=T(e,["children","targetRef","scrollBoxRef","placement","fetching","onPlacementChange","offsetDistance","autoWidth","forcePortal","autoHideScrollbar","autoHideScrollbarDelay","className","noMaxHeight"]);const[m,v]=M.useState((()=>Ln(r))),g=M.useCallback((e=>{v(Ln(e)),l&&l(e)}),[l]);return P.jsx(hn,S(R({targetRef:n,offsetByMainAxis:i,sameWidth:!s,onPlacementChange:g,placement:r,className:H("vkuiCustomSelectDropdown","vkuiInternalCustomSelectDropdown",0===i&&(m?"vkuiCustomSelectDropdown--top":"vkuiCustomSelectDropdown--bottom"),s&&H("vkuiCustomSelectDropdown--wide","vkuiInternalCustomSelectDropdown--wide"),f),usePortal:c,autoUpdateOnTargetResize:!0},p),{children:P.jsx(In,{boxRef:a,className:h?void 0:"vkuiCustomSelectDropdown__in--withMaxHeight",autoHideScrollbar:u,autoHideScrollbarDelay:d,children:o?P.jsx("div",{className:"vkuiCustomSelectDropdown__fetching",children:P.jsx(X,{size:"small"})}):t})}))},Pn={none:"vkuiCustomSelectOption--sizeY-none",regular:"vkuiCustomSelectOption--sizeY-regular"},Hn=e=>{var{children:t,hierarchy:n=0,hovered:a,selected:r,before:o,after:l,description:i,disabled:s,style:c,className:u,onClick:d}=e,f=T(e,["children","hierarchy","hovered","selected","before","after","description","disabled","style","className","onClick"]);const{sizeY:h="none"}=Y(),p=M.useMemo((()=>n>0?R({"--vkui_internal--custom_select_option_hierarchy_level":n},c):c),[n,c]),m=!(!a||s);return P.jsxs(G,S(R({},f),{onClick:s?void 0:d,Component:"div",role:"option","aria-disabled":s,"aria-selected":r,"data-hovered":m,className:H("vkuiCustomSelectOption","compact"!==h&&Pn[h],m&&"vkuiCustomSelectOption--hover",s&&"vkuiCustomSelectOption--disabled",n>0&&"vkuiCustomSelectOption--hierarchy",u),style:p,children:[W(o)&&P.jsx("div",{className:"vkuiCustomSelectOption__before",children:o}),P.jsxs("div",{className:"vkuiCustomSelectOption__main",children:[P.jsx("div",{className:"vkuiCustomSelectOption__children",children:t}),W(i)&&P.jsxs(Be,{className:"vkuiCustomSelectOption__description",children:[P.jsx(B,{children:" "}),i]})]}),P.jsxs("div",{className:"vkuiCustomSelectOption__after",children:[W(l)&&P.jsx("div",{children:l}),r&&P.jsx(ut,{className:"vkuiCustomSelectOption__selectedIcon"})]})]}))},An=e=>{var{opened:t=!1,className:n}=e,a=T(e,["opened","className"]);const{sizeY:r}=Ue(),o=t?ht:pt,l=t?gt:vt;return P.jsxs(M.Fragment,{children:[r.compact&&P.jsx(o,R({className:H(r.compact.className,n)},a)),r.regular&&P.jsx(l,R({className:H(r.regular.className,n)},a))]})},En="highlight",$n="Ничего не найдено",Bn="next",Yn="prev",zn=e=>P.jsx(Hn,R({},e)),Vn=e=>e&&"actionText"in e,Wn=e=>e&&"placeholder"in e,Un=e=>!Vn(e)&&!Wn(e);function qn({value:e,getOptionValue:t=yn,getOptionLabel:n=xn,inputValue:a=bn,emptyText:r=$n,creatable:o=!1,filterFn:l=Tn,options:i=gn,selectedBehavior:s=En}){const c=l?i.filter((e=>l(a,e,n))):i;if(0===c.length)return a!==bn&&"string"==typeof o?[{actionText:o}]:[{placeholder:r}];const u=_n(c,t,n);if("hide"===s){const t=e.map((e=>e.value));return u.filter((e=>!!Un(e)&&!t.includes(e.value)))}return u}const Kn=(e=[],t=-1)=>t>=e.length-1?-1:e.findIndex(((e,n)=>n>t&&(!Un(e)||!e.disabled))),Zn=(e=[],t=e.length)=>{let n=-1;if(t<=0)return n;for(let a=t-1;a>=0;a--){let t=e[a];if(!Un(t)||!t.disabled){n=a;break}}return n},Jn=e=>{var{id:t,getRootRef:n,className:a,status:r="default",icon:o,onChangeStart:l,options:i,placement:s="bottom",closeAfterSelect:c=!0,selectedBehavior:u=En,emptyText:d=$n,creatable:f=!1,fetching:h=!1,dropdownAutoWidth:p,forceDropdownPortal:m,noMaxHeight:v=!1,filterFn:g=Tn,dropdownTestId:b,onClose:y,onOpen:x,getRef:w,value:C,defaultValue:k,inputValue:D,defaultInputValue:_,disabled:j,readOnly:O,getOptionValue:I=yn,getOptionLabel:E=xn,getNewOptionData:$=wn,renderChip:B=Cn,renderOption:Y=zn,onChange:z,onFocus:V,onInputChange:W,onBlur:U,onKeyDown:K,dropdownOffsetDistance:Z=0}=e,J=T(e,["id","getRootRef","className","status","icon","onChangeStart","options","placement","closeAfterSelect","selectedBehavior","emptyText","creatable","fetching","dropdownAutoWidth","forceDropdownPortal","noMaxHeight","filterFn","dropdownTestId","onClose","onOpen","getRef","value","defaultValue","inputValue","defaultInputValue","disabled","readOnly","getOptionValue","getOptionLabel","getNewOptionData","renderChip","renderOption","onChange","onFocus","onInputChange","onBlur","onKeyDown","dropdownOffsetDistance"]);const{value:Q,addOptionFromInput:X,addOption:G,removeOption:te,inputRef:ne,inputValue:ae,clearInput:re,onInputChange:oe,options:le,opened:ie,setOpened:se,focusedOption:ce,focusedOptionIndex:ue,setFocusedOption:de,setFocusedOptionIndex:fe}=(({disabled:e,value:t,defaultValue:n,onChange:a,getOptionLabel:r=xn,getOptionValue:o=yn,getNewOptionData:l=wn,inputValue:i,defaultInputValue:s=bn,onInputChange:c,creatable:u=!1,emptyText:d=$n,filterFn:f=Tn,selectedBehavior:h=En,options:p=gn,onClose:m,onOpen:v})=>{const g=jn({value:t,defaultValue:n,onChange:a,getOptionValue:o,getOptionLabel:r,getNewOptionData:l,inputValue:i,defaultInputValue:s,onInputChange:c,disabled:e}),{value:b,inputValue:y,onInputChange:x}=g,w=T(g,["value","inputValue","onInputChange"]),[C,k]=M.useState(!1),[D,_]=M.useState((()=>C?qn({value:b,getOptionValue:o,getOptionLabel:r,inputValue:y,emptyText:d,creatable:u,filterFn:f,options:p,selectedBehavior:h}):[])),[j,O]=M.useState(0),[I,L]=M.useState(null),F=M.useCallback((e=>{e?null==v||v():null==m||m(),k(e)}),[v,m]),P=M.useCallback((e=>{x(e),C||(F(!0),O(0))}),[x,C,F]);return N((function(){C&&_((e=>{const t=qn({value:b,getOptionValue:o,getOptionLabel:r,inputValue:y,emptyText:d,creatable:u,filterFn:f,options:p,selectedBehavior:h});return ee(e,t)?e:t}))}),[C,b,r,o,y,p,u,h,f]),S(R({},w),{value:b,inputValue:y,onInputChange:P,options:D,opened:C,setOpened:F,focusedOption:I,focusedOptionIndex:j,setFocusedOption:L,setFocusedOptionIndex:O})})({value:C,defaultValue:k,onChange:z,getOptionValue:I,getOptionLabel:E,getNewOptionData:$,inputValue:D,defaultInputValue:_,onInputChange:W,options:i,emptyText:d,creatable:f,filterFn:g,selectedBehavior:u,onClose:y,onOpen:x,disabled:j}),he=A(n),pe=A(w,ne),[me,ve]=M.useState(s),ge=M.useId(),be=null!==ue?`${ge}-${ue}`:void 0,ye=M.useRef(null),xe=M.useRef([]).current,we=(e,t)=>{const n=le.length;if(e<0?e=n-1:e>=n&&(e=0),e===t)return;const a=le[e];Un(a)&&a.disabled||(((e,t=!1)=>{const n=ye.current,a=xe[e];if(!a||!n)return;const r=n.offsetHeight,o=n.scrollTop,l=a.offsetTop,i=a.offsetHeight;t?n.scrollTop=l-r/2+i/2:l+i>r+o?n.scrollTop=l-r+i:l<o&&(n.scrollTop=l)})(e),fe(e))},Ce=(e,t)=>{let n=null===e?-1:e;if(t===Bn){const e=Kn(le,n);n=-1===e?Kn(le):e}else if(t===Yn){const e=Zn(le,n);n=-1===e?Zn(le):e}we(n,ue)};M.useEffect((()=>{if(null===ue)de(null);else{const e=le[ue];e&&Un(e)&&de(e)}}),[le,ue,de]);const ke=M.useCallback((e=>{e.startsWith("top")?ve("top"):e.startsWith("bottom")&&ve("bottom")}),[]),De=M.useCallback((()=>{fe(null)}),[fe]);((e,...t)=>{const{document:n}=L();N((()=>{const a=t.some((e=>e&&null!==e.current));if(!n||!a)return;const r=n=>{const a=n.target;F(a)&&t.some((e=>e&&e.current&&e.current.contains(a)))||e(n)};return n.addEventListener("click",r,{passive:!0,capture:!0}),()=>{n.removeEventListener("click",r,!0)}}),[n,e,...t])})(M.useCallback((()=>{se(!1)}),[se]),ie?he:null,ie?ye:null);const Me=M.useMemo((()=>ie&&0===Z&&((null==me?void 0:me.includes("top"))?"vkuiChipsSelect--pop-up":"vkuiChipsSelect--pop-down")||void 0),[Z,ie,me]);return P.jsxs(P.Fragment,{children:[P.jsx(Rn,S(R({},J),{disabled:j,readOnly:O,id:t,getRootRef:he,className:H("vkuiChipsSelect",Me,a),status:r,after:o||P.jsx(An,{opened:ie}),value:Q,onAddChipOption:X,onRemoveChipOption:te,renderChip:B,getRef:pe,inputValue:ae,onInputChange:oe,onFocus:e=>{V&&V(e),O||(se(!0),fe(null))},onBlur:e=>{U&&U(e),O||e.defaultPrevented||f||e.preventDefault()},onKeyDown:e=>{if(K&&K(e),!e.defaultPrevented&&!O)switch(e.key){case q.ARROW_UP:case q.ARROW_DOWN:e.preventDefault(),ie?Ce(ue,e.key===q.ARROW_UP?Yn:Bn):(se(!0),Ce(null,Bn));break;case q.ENTER:if(!ie)break;if(null!=ue){const t=le[ue];if(t&&Un(t)){e.preventDefault(),l&&l(e,t),G(t),fe(null),re(),c&&se(!1);break}}f||e.preventDefault();break;case q.ESCAPE:case q.TAB:ie&&se(!1)}},role:"combobox","aria-expanded":ie,"aria-autocomplete":"list","aria-controls":ie?ge:void 0,"aria-activedescendant":ie?be:void 0,"aria-haspopup":"listbox"})),ie&&P.jsx(Fn,{"data-testid":b,targetRef:he,placement:s,scrollBoxRef:ye,onPlacementChange:ke,onMouseLeave:De,fetching:h,autoWidth:p,forcePortal:m,noMaxHeight:v,offsetDistance:Z,id:ge,role:"listbox","aria-labelledby":t,children:le.map(((e,t)=>{const n=`${ge}-${t}`;return Wn(e)?P.jsx(Be,{className:"vkuiChipsSelect__empty",children:e.placeholder},"empty-text"):Vn(e)?P.jsx(Hn,{id:n,hovered:ue===t,onMouseDown:()=>X(ae),onMouseEnter:()=>fe(t),children:e.actionText},"create-new-option"):P.jsx(M.Fragment,{children:Y({id:n,disabled:e.disabled,hovered:!!ce&&I(e)===I(ce),children:e.label,selected:!!Q.find((t=>I(t)===I(e))),getRootRef(e){e&&(xe[t]=e)},onMouseDown(t){e.disabled||(l&&l(t,e),t.defaultPrevented||(c&&se(!1),G(e),re()))},onMouseEnter(){fe(t)}},e)},`${typeof e.value}-${e.label}`)}))})]})},Qn=e=>{var{className:t,onClick:n}=e,a=T(e,["className","onClick"]);return P.jsx(qe,S(R({Component:"button",label:"Очистить поле",onKeyDown:Q,type:"button",activeMode:"opacity",hoverMode:"opacity"},a),{className:t,onClick:e=>{Q(e),e.preventDefault(),n()},children:P.jsx(it,{})}))},Xn=e=>{var{selectType:t="default",children:n}=e,a=T(e,["selectType","children"]);return P.jsx(Ye,S(R({weight:"accent"===t?"2":"3"},a),{children:n}))},Gn={none:"vkuiCustomSelectInput--sizeY-none",compact:"vkuiCustomSelectInput--sizeY-compact"},ea=e=>{var{align:t="left",getRef:n,className:a,getRootRef:r,style:o,before:l,after:i,status:s,children:c,placeholder:u,selectType:d="default",multiline:f,disabled:h,fetching:p,labelTextTestId:m}=e,v=T(e,["align","getRef","className","getRootRef","style","before","after","status","children","placeholder","selectType","multiline","disabled","fetching","labelTextTestId"]);const{sizeY:g="none"}=Y(),b=c||u,y=!Boolean(v.value),x=A(r),w=te(x),C=P.jsx(Ye,S(R({type:"text"},v),{disabled:h&&!p,readOnly:v.readOnly||h&&p,Component:"input",normalize:!1,className:H("vkuiCustomSelectInput__el",(v.readOnly||y&&!w)&&"vkuiCustomSelectInput__el--cursor-pointer"),getRootRef:n,placeholder:c?"":u})),k=ne();return P.jsx(tt,{Component:"div",style:o,className:H("vkuiCustomSelectInput","right"===t&&"vkuiCustomSelectInput--align-right","center"===t&&"vkuiCustomSelectInput--align-center",!c&&"vkuiCustomSelectInput--empty",f&&"vkuiCustomSelectInput--multiline","regular"!==g&&Gn[g],l&&"vkuiCustomSelectInput--hasBefore",i&&"vkuiCustomSelectInput--hasAfter",a),getRootRef:x,before:l,after:i,disabled:h,mode:On(d),status:s,children:P.jsxs("div",{className:"vkuiCustomSelectInput__input-group",children:[P.jsx("div",{className:H("vkuiCustomSelectInput__container",a),tabIndex:-1,"aria-hidden":!0,"data-testid":m,children:P.jsx(Xn,{selectType:d,className:"vkuiCustomSelectInput__title",children:y&&b})}),v.readOnly&&"ios"===k?P.jsx(B,{children:C}):C]})})},ta={none:"vkuiCustomSelect--sizeY-none",compact:"vkuiCustomSelect--sizeY-compact"},na=(e=[],t=-1)=>t>=e.length-1?-1:e.findIndex(((e,n)=>n>t&&!e.disabled)),aa=(e=[],t=e.length)=>{let n=-1;if(t<=0)return n;for(let a=t-1;a>=0;a--)if(!e[a].disabled){n=a;break}return n};function ra(e){var t=T(e,["option"]);return P.jsx(Hn,R({},t))}const oa=e=>{e.preventDefault()};function la(e=[],t,n){return n&&""===t?-1:null!==(a=e.findIndex((e=>(t="number"==typeof e.value?Number(t):t,e.value===t))))&&void 0!==a?a:-1;var a}const ia=(e,t,n)=>"function"==typeof n?e.filter((e=>n(t,e))):e,sa=[];function ca(e){const[t,n]=M.useState(!1),{before:a,name:r,className:o,getRef:l,getRootRef:i,popupDirection:s="bottom",style:c,onChange:u,children:d,onInputChange:f,renderDropdown:h,onOpen:p,onClose:m,fetching:v,forceDropdownPortal:g,selectType:b="default",autoHideScrollbar:y,autoHideScrollbarDelay:x,searchable:w=!1,renderOption:C=ra,options:k=sa,emptyText:D="Ничего не найдено",filterFn:_=Tn,icon:j,ClearButton:O=Qn,allowClearButton:I=!1,dropdownOffsetDistance:F=0,dropdownAutoWidth:E=!1,noMaxHeight:$=!1,"aria-labelledby":z,clearButtonTestId:V,nativeSelectTestId:W,defaultValue:U,required:q}=e,K=T(e,["before","name","className","getRef","getRootRef","popupDirection","style","onChange","children","onInputChange","renderDropdown","onOpen","onClose","fetching","forceDropdownPortal","selectType","autoHideScrollbar","autoHideScrollbarDelay","searchable","renderOption","options","emptyText","filterFn","icon","ClearButton","allowClearButton","dropdownOffsetDistance","dropdownAutoWidth","noMaxHeight","aria-labelledby","clearButtonTestId","nativeSelectTestId","defaultValue","required"]),{sizeY:Z="none"}=Y(),J=M.useRef(null),Q=A(J,i),X=M.useRef(null),G=A(l),[ee,ne]=M.useState(-1),[re,oe]=M.useState(void 0!==e.value),[le,ie]=M.useState(""),[se,ce]=M.useState((()=>{var t,n;return null!==(n=null!==(t=e.value)&&void 0!==t?t:U)&&void 0!==n?n:I?"":void 0})),[ue,de]=M.useState(s),[fe,he]=M.useState(k);var pe;const[me,ve]=M.useState(la(k,null!==(pe=e.value)&&void 0!==pe?pe:U,I));M.useEffect((()=>{oe(void 0!==e.value),ce((t=>{var n;return null!==(n=e.value)&&void 0!==n?n:t}))}),[e.value]),N((()=>{if(fe.some((({value:e})=>se===e))||I&&""===se){var e;const t=new Event("change",{bubbles:!0});null===(e=G.current)||void 0===e||e.dispatchEvent(t)}}),[se]);const ge=M.useMemo((()=>fe.length?void 0!==me?fe[me]:void 0:null),[fe,me]),be=M.useMemo((()=>t&&0===F&&((null==ue?void 0:ue.includes("top"))?"vkuiCustomSelect--pop-up":"vkuiCustomSelect--pop-down")||void 0),[F,t,ue]),ye=M.useCallback(((e,t=!1)=>{const n=X.current,a=n&&n.firstElementChild?n.firstElementChild.children[e]:null;if(!a||!n)return;const r=n.offsetHeight,o=n.scrollTop,l=a.offsetTop,i=a.offsetHeight;t?n.scrollTop=l-r/2+i/2:l+i>r+o?n.scrollTop=l-r+i:l<o&&(n.scrollTop=l)}),[]),xe=M.useCallback(((e,t=!0)=>{var n;if(void 0===e||e<0||e>(null!==(n=fe.length)&&void 0!==n?n:0)-1)return;const a=fe[e];(null==a?void 0:a.disabled)||(t&&ye(e),ne((t=>t!==e?e:t)))}),[fe,ye]),we=M.useCallback((e=>{var t;return e>=0&&e<(null!==(t=fe.length)&&void 0!==t?t:0)}),[fe.length]),Ce=M.useCallback((e=>{X.current=e,e&&void 0!==me&&we(me)&&ye(me,!0)}),[we,ye,me]),[ke,De]=M.useState(""),Me=M.useCallback((()=>{De("")}),[]),Se=M.useCallback((()=>{ne(-1)}),[]),Re=M.useCallback((e=>{t||n(!0),Se(),De(ke+e)}),[ke,t,Se]),_e=M.useCallback((()=>{Me(),ie(""),n(!1),Se(),null==m||m()}),[m,Me,Se]),je=M.useCallback((t=>{const n=fe[t];if(ce(null==n?void 0:n.value),_e(),re&&e.value!==se&&se===(null==n?void 0:n.value)){var a;const e=new Event("change",{bubbles:!0});null===(a=G.current)||void 0===a||a.dispatchEvent(e)}}),[_e,fe,G,re,e.value,se]),Te=M.useCallback((()=>{void 0!==ee&&we(ee)&&je(ee)}),[ee,we,je]),Oe=M.useCallback((()=>{n(!0),ne(me),"function"==typeof p&&p()}),[p,me]),Ne=M.useCallback((()=>{var e;_e();const t=new Event("focusout",{bubbles:!0});null===(e=G.current)||void 0===e||e.dispatchEvent(t)}),[_e,G]),Ie=M.useCallback((()=>{var e;const t=new Event("focusin",{bubbles:!0});null===(e=G.current)||void 0===e||e.dispatchEvent(t)}),[G]),Le=M.useCallback((()=>{t?_e():Oe()}),[_e,Oe,t]),Fe=M.useMemo((()=>ae(Me,1e3)),[Me]),Pe=M.useCallback((e=>{let t=ee;if("next"===e){const e=na(fe,t);t=-1===e?na(fe):e}else if("prev"===e){const e=aa(fe,t);t=-1===e?aa(fe):e}xe(t)}),[xe,ee,fe]);M.useEffect((function(){var t,n;const a=null!==(n=null!==(t=e.value)&&void 0!==t?t:se)&&void 0!==n?n:U,r=w&&void 0!==le?ia(k,le,_):k;he(r),ve(la(r,a,I))}),[_,le,se,k,U,e.value,w,I]);const He=M.useCallback((e=>{f&&f(e);const t=ia(k,e.target.value,_);he(t),ve(la(t,se,I)),ie(e.target.value)}),[_,se,f,k,I]),Ae=M.useCallback((()=>null!==X.current),[]),Ee=M.useCallback((e=>{if(1!==e.key.length||" "===e.key)switch(["ArrowUp","ArrowDown","Escape","Enter"].includes(e.key)&&Ae()&&e.preventDefault(),e.key){case"ArrowUp":t?Ae()&&Pe("prev"):Oe();break;case"ArrowDown":t?Ae()&&Pe("next"):Oe();break;case"Escape":_e();break;case"Backspace":case"Delete":t||n(!0),Se();break;case"Enter":case"Spacebar":case" ":t?Ae()&&Te():Oe()}else Re(e.key)}),[Ae,_e,Pe,Re,Oe,t,Te,Se]),$e=M.useCallback((e=>{var t;const n=Array.prototype.indexOf.call(null===(t=e.currentTarget.parentNode)||void 0===t?void 0:t.children,e.currentTarget),a=fe[n];a&&!a.disabled&&je(n)}),[fe,je]),Ye=M.useRef({x:0,y:0}),ze=M.useCallback(((e,t)=>{(Math.abs(Ye.current.x-e.clientX)>=1||Math.abs(Ye.current.y-e.clientY)>=1)&&xe(t,!1),Ye.current={x:e.clientX,y:e.clientY}}),[xe]),Ve=M.useId(),We=M.useCallback(((e,t)=>{const n=t===ee,a=t===me;return P.jsx(M.Fragment,{children:C({option:e,hovered:n,children:e.label,selected:a,disabled:e.disabled,onClick:$e,onMouseDown:oa,onMouseMove:e=>ze(e,t),id:`${Ve}-${e.value}`})},`${e.value}`)}),[ee,$e,ze,C,me,Ve]),Ue=M.useMemo((()=>{const e=(null==fe?void 0:fe.length)>0?fe.map(We):P.jsx(Be,{className:"vkuiCustomSelect__empty",children:D});return"function"==typeof h?h({defaultDropdownContent:e}):e}),[D,fe,h,We]),qe=M.useRef(null),Ke=M.useRef(),Ze=M.useCallback((()=>{clearTimeout(Ke.current),Ke.current=setTimeout((()=>{qe.current&&qe.current.focus()}),0)}),[]);N((function(){return()=>{clearTimeout(Ke.current)}}),[]);const Je=re&&""!==e.value,Qe=I&&!t&&(Je||!re&&""!==se),Xe=M.useMemo((()=>Qe?P.jsx(O,{className:void 0===j?"vkuiCustomSelect--clear-icon":void 0,onClick:function(){ce(""),ie(""),Ze()},disabled:K.disabled,"data-testid":V}):null),[Qe,O,j,K.disabled,V,Ze]),Ge=M.useMemo((()=>void 0!==j?j:P.jsx(An,{className:Qe?"vkuiCustomSelect__dropdown-icon":void 0,opened:t})),[Qe,j,t]),et=(Ge||Qe)&&P.jsxs(M.Fragment,{children:[Xe,Ge]}),{document:tt}=L(),nt=M.useCallback((e=>{qe.current&&tt&&e.target!==qe.current&&(qe.current.click(),tt.activeElement!==qe.current&&Ze())}),[tt,Ze]),at=-1!==ee?ee:void 0,rt=void 0!==at?fe[at]&&fe[at].value:null,ot={role:"combobox","aria-controls":Ve,"aria-owns":Ve,"aria-expanded":t,"aria-activedescendant":rt&&t?`${Ve}-${rt}`:void 0,"aria-labelledby":z,"aria-haspopup":"listbox","aria-autocomplete":"none"},lt=te(Q);return P.jsxs("div",{className:H("vkuiCustomSelect","regular"!==Z&&ta[Z],o),style:c,ref:Q,onClick:nt,onMouseDown:e=>{tt&&tt.activeElement===qe.current&&e.preventDefault()},children:[lt&&ge&&!t&&P.jsx(B,{"aria-live":"polite",children:ge.label}),P.jsx(ea,S(R({autoComplete:"off",autoCapitalize:"none",autoCorrect:"off",spellCheck:"false"},K,ot),{getRef:qe,onFocus:Ie,onBlur:Ne,className:be,readOnly:!w,fetching:v,value:le,onKeyUp:Fe,onKeyDown:Ee,onChange:He,onClick:Le,before:a,after:et,selectType:b,children:null==ge?void 0:ge.label})),P.jsxs("select",{ref:G,name:r,onChange:e=>{const t=la(fe,e.currentTarget.value,I);me!==t&&(re||ve(t),null==u||u(e))},onBlur:e.onBlur,onFocus:e.onFocus,onClick:e.onClick,value:se,"aria-hidden":!0,className:"vkuiCustomSelect__control","data-testid":W,required:q,children:[I&&P.jsx("option",{value:""},""),k.map((e=>P.jsx("option",{value:e.value},`${e.value}`)))]}),t&&P.jsx(Fn,{targetRef:J,placement:s,scrollBoxRef:Ce,onPlacementChange:de,onMouseLeave:Se,fetching:v,offsetDistance:F,autoWidth:E,forcePortal:g,autoHideScrollbar:y,autoHideScrollbarDelay:x,noMaxHeight:$,role:"listbox",id:Ve,"aria-labelledby":z,tabIndex:-1,children:Ue})]})}var ua={exports:{}};!function(e){e.exports=function(){var e=1e3,t=6e4,n=36e5,a="millisecond",r="second",o="minute",l="hour",i="day",s="week",c="month",u="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var a=String(e);return!a||a.length>=t?e:""+Array(t+1-a.length).join(n)+e},b={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),a=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+g(a,2,"0")+":"+g(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var a=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(a,c),o=n-r<0,l=t.clone().add(a+(o?-1:1),c);return+(-(a+(n-r)/(o?r-l:l-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:s,d:i,D:f,h:l,m:o,s:r,ms:a,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",x={};x[y]=v;var w="$isDayjsObject",C=function(e){return e instanceof S||!(!e||!e[w])},k=function e(t,n,a){var r;if(!t)return y;if("string"==typeof t){var o=t.toLowerCase();x[o]&&(r=o),n&&(x[o]=n,r=o);var l=t.split("-");if(!r&&l.length>1)return e(l[0])}else{var i=t.name;x[i]=t,r=i}return!a&&r&&(y=r),r||!a&&y},D=function(e,t){if(C(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new S(n)},M=b;M.l=k,M.i=C,M.w=function(e,t){return D(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function v(e){this.$L=k(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var g=v.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(M.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var a=t.match(p);if(a){var r=a[2]-1||0,o=(a[7]||"0").substring(0,3);return n?new Date(Date.UTC(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,o)):new Date(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,o)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return M},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(e,t){var n=D(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return D(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<D(e)},g.$g=function(e,t,n){return M.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,a=!!M.u(t)||t,u=M.p(e),h=function(e,t){var r=M.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return a?r:r.endOf(i)},p=function(e,t){return M.w(n.toDate()[e].apply(n.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,v=this.$M,g=this.$D,b="set"+(this.$u?"UTC":"");switch(u){case d:return a?h(1,0):h(31,11);case c:return a?h(1,v):h(0,v+1);case s:var y=this.$locale().weekStart||0,x=(m<y?m+7:m)-y;return h(a?g-x:g+(6-x),v);case i:case f:return p(b+"Hours",0);case l:return p(b+"Minutes",1);case o:return p(b+"Seconds",2);case r:return p(b+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,s=M.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[i]=u+"Date",n[f]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[l]=u+"Hours",n[o]=u+"Minutes",n[r]=u+"Seconds",n[a]=u+"Milliseconds",n)[s],p=s===i?this.$D+(t-this.$W):t;if(s===c||s===d){var m=this.clone().set(f,1);m.$d[h](p),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[M.p(e)]()},g.add=function(a,u){var f,h=this;a=Number(a);var p=M.p(u),m=function(e){var t=D(h);return M.w(t.date(t.date()+Math.round(e*a)),h)};if(p===c)return this.set(c,this.$M+a);if(p===d)return this.set(d,this.$y+a);if(p===i)return m(1);if(p===s)return m(7);var v=(f={},f[o]=t,f[l]=n,f[r]=e,f)[p]||1,g=this.$d.getTime()+a*v;return M.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var a=e||"YYYY-MM-DDTHH:mm:ssZ",r=M.z(this),o=this.$H,l=this.$m,i=this.$M,s=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,r,o){return e&&(e[n]||e(t,a))||r[n].slice(0,o)},f=function(e){return M.s(o%12||12,e,"0")},p=u||function(e,t,n){var a=e<12?"AM":"PM";return n?a.toLowerCase():a};return a.replace(m,(function(e,a){return a||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return M.s(t.$y,4,"0");case"M":return i+1;case"MM":return M.s(i+1,2,"0");case"MMM":return d(n.monthsShort,i,c,3);case"MMMM":return d(c,i);case"D":return t.$D;case"DD":return M.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,s,2);case"ddd":return d(n.weekdaysShort,t.$W,s,3);case"dddd":return s[t.$W];case"H":return String(o);case"HH":return M.s(o,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(o,l,!0);case"A":return p(o,l,!1);case"m":return String(l);case"mm":return M.s(l,2,"0");case"s":return String(t.$s);case"ss":return M.s(t.$s,2,"0");case"SSS":return M.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(a,f,h){var p,m=this,v=M.p(f),g=D(a),b=(g.utcOffset()-this.utcOffset())*t,y=this-g,x=function(){return M.m(m,g)};switch(v){case d:p=x()/12;break;case c:p=x();break;case u:p=x()/3;break;case s:p=(y-b)/6048e5;break;case i:p=(y-b)/864e5;break;case l:p=y/n;break;case o:p=y/t;break;case r:p=y/e;break;default:p=y}return h?p:M.a(p)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return x[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),a=k(e,t,!0);return a&&(n.$L=a),n},g.clone=function(){return M.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},v}(),R=S.prototype;return D.prototype=R,[["$ms",a],["$s",r],["$m",o],["$H",l],["$W",i],["$M",c],["$y",d],["$D",f]].forEach((function(e){R[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),D.extend=function(e,t){return e.$i||(e(t,S,D),e.$i=!0),D},D.locale=k,D.isDayjs=C,D.unix=function(e){return D(1e3*e)},D.en=x[y],D.Ls=x,D.p={},D}()}(ua);const da=re(ua.exports);function fa(e){return da(e).endOf("day").toDate()}function ha(e,t=0){t%=7;const n=da(e),a=n.day(),r=(a<t?7:0)+a-t;return n.date(n.date()-r).toDate()}function pa(e,t=0){const n=da(ha(e,t));return n.date(n.date()+6).toDate()}function ma(e,t){return da(e).format(t)}function va(e,t){return da(e)<da(t)}function ga(e,t){return da(e)>da(t)}function ba(e,t){return da(e).isSame(t,"day")}function ya(e,t){return da(e).isSame(t,"month")}function xa(e,t){return da(e).set("minute",t).toDate()}function wa(e,t){return da(e).set("hour",t).toDate()}function Ca(e,t){return da(e).add(t,"day").toDate()}function ka(e,t){return da(e).add(t,"month").toDate()}function Da(e,t){return da(e).subtract(t,"month").toDate()}function Ma(e,t,n=new Date){const a=/^\d\d/,r=[["YYYY",/^\d{4}/,e=>["Y",+e,!0]],["MM",a,e=>{const t=+e;return["M",t-1,t>0&&t<=12]}],["DD",a,e=>["D",+e,!0]],["HH",a,e=>{const t=parseInt(e,10);return["h",t,t>=0&&t<24]}],["mm",a,e=>{const t=parseInt(e,10);return["m",t,t>=0&&t<60]}]],o=new RegExp(r.map((e=>e[0])).join("|"),"g"),l={Y:n.getFullYear(),M:n.getMonth(),D:n.getDate(),h:n.getHours(),m:n.getMinutes(),s:n.getSeconds(),ms:n.getMilliseconds()};let i=0,s="",c=0,u=!1;for(;;){const n=o.exec(t);if(!n)break;const a=n[0].length,d=o.lastIndex-a,f=r.find((e=>e[0]===n[0]));if(s=t.slice(c,d),c=o.lastIndex,e.slice(i,i+s.length)!==s)return new Date("");const h=e.slice(i+s.length).match(f[1]);if(!h)return new Date("");i=i+s.length+h[0].length;const[p,m,v]=f[2](h[0]);if(!v)return new Date("");l[p]=m,u=!0}if(!u)return new Date("");const d=new Date(l.Y,l.M,l.D,l.h,l.m,l.s,l.ms);return d.getMonth()!==l.M||d.getDate()!==l.D?new Date(""):d}const Sa=9999,Ra=100,_a=(e,t,n)=>{const a=new Intl.DateTimeFormat(n,{weekday:"short"});return function(e,t){const n=[],a=da(e).toDate(),r=da(t).toDate().getTime(),o=a;for(o.setHours(0,0,0,0);o.getTime()<=r;)n.push(new Date(o.getTime())),o.setDate(o.getDate()+1),o.setHours(0,0,0,0);return n}(ha(e,t),pa(e,t)).map((e=>a.format(e)))},ja=(e,t)=>{let n=null!=e?e:new Date;switch(t){case"ArrowRight":n=Ca(n,1);break;case"ArrowLeft":n=function(e,t){return da(e).subtract(t,"day").toDate()}(n,1);break;case"ArrowUp":n=function(e,t){return da(e).subtract(t,"week").toDate()}(n,1);break;case"ArrowDown":n=function(e,t){return da(e).add(t,"week").toDate()}(n,1)}return n},Ta=(e,t)=>{const n=ha(da(e).startOf("month").toDate(),t),a=pa(function(e){return da(e).endOf("month").toDate()}(e),t);let r=0,o=n;const l=[];let i=null;for(;va(o,a);){const e=Math.floor(r/7);l[e]=l[e]||[];const t=o.getDay();i!==t&&(i=t,l[e].push(o),r+=1),o=Ca(o,1)}return l},Oa=(e,t)=>0===t||1===da(e).date(),Na=(e,t)=>{return 6===t||da(n=e).endOf("day").isSame(da(n).endOf("month"));var n};function Ia({value:e,disablePast:t,disableFuture:n,shouldDisableDate:a,onHeaderChange:r,onNextMonth:o,onPrevMonth:l,minDateTime:i,maxDateTime:s}){var c;const[u,d]=M.useState(null!==(c=Array.isArray(e)?e[0]:e)&&void 0!==c?c:new Date),[f,h]=M.useState(),p=M.useCallback((()=>{null==l||l(),d(Da(u,1))}),[u,l]),m=M.useCallback((()=>{null==o||o(),d(ka(u,1))}),[u,o]),v=M.useCallback((e=>{null==r||r(e),d(e)}),[r]),g=M.useCallback((e=>Boolean(f&&ba(e,f))),[f]),b=M.useCallback(((e,r)=>{const o=new Date;return a?a(e):n?ga(da(e).startOf("day").toDate(),o):t?va(fa(e),o):!(!i&&!s)&&function(e,t={}){const{min:n,max:a,withTime:r=!1}=t;return!(!r&&(n&&ba(e,n)||a&&ba(e,a)))&&Boolean(n&&va(e,n)||a&&ga(e,a))}(e,{min:i,max:s,withTime:r})}),[n,t,a,i,s]),y=M.useCallback(((e,a)=>{const r=new Date;a=a||u.getFullYear();const o=i?i.getMonth():0,l=s?s.getMonth():11,c=(null==i?void 0:i.getFullYear())||Ra,d=(null==s?void 0:s.getFullYear())||Sa;let f=!(a>=c&&a<=d)||a===c&&o>e||a===d&&e>l;return n&&(f=f||(a===r.getFullYear()?e>r.getMonth():a>r.getFullYear())),t&&(f=f||(a===r.getFullYear()?e<r.getMonth():a<r.getFullYear())),f}),[n,t,u,i,s]),x=M.useCallback((e=>{const a=new Date,r=(null==i?void 0:i.getFullYear())||Ra,o=(null==s?void 0:s.getFullYear())||Sa;let l=r>e||e>o;return n&&(l=l||e>a.getFullYear()),t&&(l=l||e<a.getFullYear()),l}),[n,t,i,s]),w=M.useCallback((()=>{h(void 0)}),[h]);return{viewDate:u,setViewDate:v,setPrevMonth:p,setNextMonth:m,focusedDay:f,setFocusedDay:h,isDayFocused:g,isDayDisabled:b,resetSelectedDay:w,isMonthDisabled:y,isYearDisabled:x}}function La(e=!1){const{document:t,window:n}=L(),[a,r]=M.useState((()=>new Date));return M.useEffect((()=>{if(!e||!t||!n)return;let o;const l=()=>{if("visible"===t.visibilityState){const t=new Date,l=da(fa(e=t)).diff(da(e),"ms");n.clearTimeout(o),o=n.setTimeout((()=>{r(t)}),l),ba(a,t)||r(t)}var e};return l(),t.addEventListener("visibilitychange",l),()=>{n.clearTimeout(o),t.removeEventListener("visibilitychange",l)}}),[t,e,a,n]),a}const Fa=M.memo((e=>{var{day:t,today:n,selected:a,onChange:r,hidden:o,disabled:l,active:i,selectionStart:s,selectionEnd:c,focused:u,onEnter:d,onLeave:f,hinted:h,hintedSelectionStart:p,hintedSelectionEnd:m,sameMonth:v,size:g,className:b,children:y}=e,x=T(e,["day","today","selected","onChange","hidden","disabled","active","selectionStart","selectionEnd","focused","onEnter","onLeave","hinted","hintedSelectionStart","hintedSelectionEnd","sameMonth","size","className","children"]);const{locale:w}=le(),C=M.useRef(null),k=M.useCallback((()=>r(t)),[t,r]),D=M.useCallback((()=>null==d?void 0:d(t)),[t,d]),_=M.useCallback((()=>null==f?void 0:f(t)),[t,f]),j=new Intl.DateTimeFormat(w,{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(t);return M.useEffect((()=>{u&&C.current&&(C.current.dispatchEvent(new Event(ie,{bubbles:!0})),C.current.focus())}),[u]),o?P.jsx("div",{className:"vkuiCalendarDay__hidden"}):P.jsx(se,S(R({className:H("vkuiCalendarDay","s"===g&&"vkuiCalendarDay--size-s",n&&"vkuiCalendarDay--today",a&&!l&&"vkuiCalendarDay--selected",s&&"vkuiCalendarDay--selection-start",c&&"vkuiCalendarDay--selection-end",l&&"vkuiCalendarDay--disabled",!v&&"vkuiCalendarDay--not-same-month",b),hoverMode:i?"":"vkuiCalendarDay--hover",hasActive:!1,onClick:k,disabled:l,tabIndex:-1,getRootRef:C,focusVisibleMode:i?"outside":"inside",onPointerEnter:D,onPointerLeave:_},x),{children:P.jsx("div",{className:H("vkuiCalendarDay__hinted",h&&"vkuiCalendarDay__hinted--active",p&&"vkuiCalendarDay__hinted--selection-start",m&&"vkuiCalendarDay__hinted--selection-end"),children:P.jsx("div",{className:H("vkuiCalendarDay__inner",i&&!l&&"vkuiCalendarDay__inner--active"),children:P.jsxs("div",{className:"vkuiCalendarDay__day-number",children:[P.jsx(B,{children:null!=y?y:j}),P.jsx("span",{"aria-hidden":!0,children:t.getDate()})]})})})}))}));Fa.displayName="CalendarDay";const Pa=e=>{var{viewDate:t,value:n,weekStartsOn:a,onDayChange:r,isDaySelected:o,isDayActive:l,isDaySelectionEnd:i,isDaySelectionStart:s,onDayEnter:c,onDayLeave:u,isDayHinted:d,isHintedDaySelectionStart:f,isHintedDaySelectionEnd:h,isDayFocused:p,isDayDisabled:m,size:v,showNeighboringMonth:g=!1,dayProps:b,listenDayChangesForUpdate:y=!1,getRootRef:x}=e,w=T(e,["viewDate","value","weekStartsOn","onDayChange","isDaySelected","isDayActive","isDaySelectionEnd","isDaySelectionStart","onDayEnter","onDayLeave","isDayHinted","isHintedDaySelectionStart","isHintedDaySelectionEnd","isDayFocused","isDayDisabled","size","showNeighboringMonth","dayProps","listenDayChangesForUpdate","getRootRef"]);const{locale:C}=le(),k=A(x),D=La(y),_=M.useMemo((()=>Ta(t,a)),[a,t]),j=M.useMemo((()=>_a(D,a,C)),[C,D,a]),O=M.useCallback((e=>{var t;r(e),null===(t=k.current)||void 0===t||t.focus()}),[r,k]);return P.jsxs(E,S(R({},w),{baseClassName:"vkuiCalendarDays",getRootRef:k,children:[P.jsx("div",{className:H("vkuiCalendarDays__row","s"===v&&"vkuiCalendarDays__row--size-s"),children:j.map((e=>P.jsx(Be,{className:"vkuiCalendarDays__weekday",children:e},e)))}),_.map(((e,n)=>P.jsx("div",{className:H("vkuiCalendarDays__row","s"===v&&"vkuiCalendarDays__row--size-s"),children:e.map(((e,n)=>{const a=ya(e,t);return P.jsx(Fa,R({day:e,today:ba(e,D),active:l(e),onChange:O,hidden:!g&&!a,disabled:m(e),selectionStart:s(e,n),selectionEnd:i(e,n),hintedSelectionStart:null==f?void 0:f(e,n),hintedSelectionEnd:null==h?void 0:h(e,n),selected:null==o?void 0:o(e),focused:p(e),onEnter:c,onLeave:u,hinted:null==d?void 0:d(e),sameMonth:a,size:v},b),e.toISOString())}))},n)))]}))},Ha=e=>{var{viewDate:t,onChange:n,prevMonthHidden:a=!1,nextMonthHidden:r=!1,disablePickers:o=!1,onNextMonth:l,onPrevMonth:i,prevMonthProps:s={},nextMonthProps:c={},prevMonthLabel:u="Предыдущий месяц",nextMonthLabel:d="Следующий месяц",changeMonthLabel:f="Изменить месяц",changeYearLabel:h="Изменить год",prevMonthIcon:p=P.jsx(at,{className:"vkuiCalendarHeader__nav-icon--accent",width:30,height:30}),nextMonthIcon:m=P.jsx(ft,{className:"vkuiCalendarHeader__nav-icon--accent",width:30,height:30}),isMonthDisabled:v,isYearDisabled:g}=e,b=T(e,["viewDate","onChange","prevMonthHidden","nextMonthHidden","disablePickers","onNextMonth","onPrevMonth","prevMonthProps","nextMonthProps","prevMonthLabel","nextMonthLabel","changeMonthLabel","changeYearLabel","prevMonthIcon","nextMonthIcon","isMonthDisabled","isYearDisabled"]);const{locale:y}=le(),x=M.useCallback((e=>{return n((a=t,r=Number(e.target.value),da(a).set("month",r).toDate()));var a,r}),[n,t]),w=M.useCallback((e=>{return n((a=t,r=Number(e.target.value),da(a).set("year",r).toDate()));var a,r}),[n,t]),C=t.getFullYear(),k=t.getMonth(),D=M.useMemo((()=>(e=>{const t=[],n=new Intl.DateTimeFormat(e,{month:"long"});for(let a=0;a<12;a++)t.push({label:n.format(new Date("1970-01-01").setMonth(a)),value:a});return t})(y).map((({value:e,label:t})=>({value:e,label:P.jsx("span",{className:"vkuiCalendarHeader__month",children:t}),disabled:v&&v(e)})))),[y,v]),_=M.useMemo((()=>((e,t)=>{const n=[],a=oe(e-t,Ra,Sa),r=oe(e+t,Ra,Sa);for(let o=a;o<=r;o++)n.push({label:String(o).padStart(4,"0"),value:o});return n})(C,100).map((e=>S(R({},e),{disabled:g&&g(e.value)})))),[C,g]),j=new Intl.DateTimeFormat(y,{year:"numeric",month:"long"}),{className:O}=s,N=T(s,["className"]),{className:I}=c,L=T(c,["className"]);let F=r||11===k&&C===Sa;v&&!F&&(F=v(11===k?0:k+1,11===k?Math.min(C+1,Sa):C));let A=a||0===k&&C===Ra;return v&&!A&&(A=v(0===k?11:k-1,0===k?Math.max(C-1,Ra):C)),P.jsxs(E,S(R({baseClassName:"vkuiCalendarHeader"},b),{children:[!A&&P.jsx(ce,{sizeX:"regular",children:P.jsxs(se,S(R({className:H("vkuiCalendarHeader__nav-icon","vkuiCalendarHeader__nav-icon-prev",O),onClick:i},N),{children:[P.jsxs(B,{children:[u,", ",j.format(Da(t,1))]}),p]}))}),o?P.jsxs(G,{className:H("vkuiCalendarHeader__pickers","vkuiInternalCalendarHeader__pickers"),weight:"2",children:[P.jsx("span",{className:"vkuiCalendarHeader__month",children:new Intl.DateTimeFormat(y,{month:"long"}).format(t)})," ",new Intl.DateTimeFormat(y,{year:"numeric"}).format(t)]}):P.jsx(ce,{sizeY:"compact",children:P.jsxs("div",{className:H("vkuiCalendarHeader__pickers","vkuiInternalCalendarHeader__pickers"),children:[P.jsx(ca,{className:H("vkuiCalendarHeader__picker","vkuiInternalCalendarHeader__picker"),value:k,options:D,dropdownOffsetDistance:4,dropdownAutoWidth:!0,icon:P.jsx(lt,{}),onChange:x,forceDropdownPortal:!1,selectType:"accent","aria-label":f}),P.jsx(ca,{className:H("vkuiCalendarHeader__picker","vkuiInternalCalendarHeader__picker"),value:C,options:_,dropdownOffsetDistance:4,dropdownAutoWidth:!0,icon:P.jsx(lt,{}),onChange:w,forceDropdownPortal:!1,selectType:"accent","aria-label":h})]})}),!F&&P.jsx(ce,{sizeX:"regular",children:P.jsxs(se,S(R({className:H("vkuiCalendarHeader__nav-icon","vkuiCalendarHeader__nav-icon-next",I),onClick:l},L),{children:[P.jsxs(B,{children:[d,", ",j.format(ka(t,1))]}),m]}))})]}))},Aa=[];for(let e=0;e<24;e+=1)Aa.push({value:e,label:String(e).padStart(2,"0")});const Ea=[];for(let e=0;e<60;e+=1)Ea.push({value:e,label:String(e).padStart(2,"0")});const $a=({value:e,doneButtonText:t="Готово",onChange:n,onClose:a,changeHoursLabel:r,changeMinutesLabel:o,isDayDisabled:l})=>{const i=l?Aa.map((t=>S(R({},t),{disabled:l(wa(e,t.value),!0)}))):Aa,s=l?Ea.map((t=>S(R({},t),{disabled:l(xa(e,t.value),!0)}))):Ea,c=M.useCallback((t=>null==n?void 0:n(wa(e,Number(t.target.value)))),[n,e]),u=M.useCallback((t=>null==n?void 0:n(xa(e,Number(t.target.value)))),[n,e]);return P.jsxs("div",{className:"vkuiCalendarTime",children:[P.jsx("div",{className:"vkuiCalendarTime__picker",children:P.jsx(ce,{sizeY:"compact",children:P.jsx(ca,{value:e.getHours(),options:i,onChange:c,forceDropdownPortal:!1,"aria-label":r})})}),P.jsx("div",{className:"vkuiCalendarTime__divider",children:":"}),P.jsx("div",{className:"vkuiCalendarTime__picker",children:P.jsx(ce,{sizeY:"compact",children:P.jsx(ca,{value:e.getMinutes(),options:s,onChange:u,forceDropdownPortal:!1,"aria-label":o})})}),P.jsx("div",{className:"vkuiCalendarTime__button",children:P.jsx(ce,{sizeY:"compact",children:P.jsx($,{mode:"secondary",onClick:a,size:"l",children:t})})})]})},Ba=e=>{var{value:t,onChange:n,disablePast:a,disableFuture:r,shouldDisableDate:o,onClose:l,enableTime:i=!1,doneButtonText:s,weekStartsOn:c=1,disablePickers:u,changeHoursLabel:d="Изменить час",changeMinutesLabel:f="Изменить минуту",prevMonthLabel:h="Предыдущий месяц",nextMonthLabel:p="Следующий месяц",changeMonthLabel:m="Изменить месяц",changeYearLabel:v="Изменить год",showNeighboringMonth:g,changeDayLabel:b="Изменить день",size:y="m",viewDate:x,onHeaderChange:w,onNextMonth:C,onPrevMonth:k,prevMonthIcon:D,nextMonthIcon:_,prevMonthProps:j,nextMonthProps:O,dayProps:I,listenDayChangesForUpdate:L,minDateTime:F,maxDateTime:A}=e,$=T(e,["value","onChange","disablePast","disableFuture","shouldDisableDate","onClose","enableTime","doneButtonText","weekStartsOn","disablePickers","changeHoursLabel","changeMinutesLabel","prevMonthLabel","nextMonthLabel","changeMonthLabel","changeYearLabel","showNeighboringMonth","changeDayLabel","size","viewDate","onHeaderChange","onNextMonth","onPrevMonth","prevMonthIcon","nextMonthIcon","prevMonthProps","nextMonthProps","dayProps","listenDayChangesForUpdate","minDateTime","maxDateTime"]);const{viewDate:B,setViewDate:Y,setPrevMonth:z,setNextMonth:V,focusedDay:W,setFocusedDay:U,isDayFocused:q,isDayDisabled:K,resetSelectedDay:Z,isMonthDisabled:J,isYearDisabled:Q}=Ia({value:t,disableFuture:r,disablePast:a,shouldDisableDate:o,onHeaderChange:w,onNextMonth:C,onPrevMonth:k,minDateTime:F,maxDateTime:A});N((()=>{t&&Y(t)}),[t]);const X=M.useCallback((e=>{["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&e.preventDefault();const n=ja(null!=W?W:t,e.key);n&&!ya(n,B)&&Y(n),U(n)}),[W,U,Y,t,B]),G=M.useCallback((e=>{let a=(r=e,(o=t)&&(r.setHours(o.getHours()),r.setMinutes(o.getMinutes()),r.setSeconds(o.getSeconds()),r.setMilliseconds(o.getMilliseconds())),r);var r,o;(F||A)&&(a=function(e,t={}){const{min:n,max:a}=t;return n&&va(e,n)?n:a&&ga(e,a)?a:e}(a,{min:F,max:A})),null==n||n(a)}),[t,n,A,F]),ee=M.useCallback((e=>Boolean(t&&ba(e,t))),[t]);return P.jsxs(E,S(R({},$),{baseClassName:H("vkuiCalendar","s"===y&&"vkuiCalendar--size-s"),children:[P.jsx(Ha,{viewDate:x||B,onChange:Y,onNextMonth:V,onPrevMonth:z,disablePickers:u||"s"===y,className:"vkuiCalendar__header",prevMonthLabel:h,nextMonthLabel:p,changeMonthLabel:m,changeYearLabel:v,prevMonthIcon:D,nextMonthIcon:_,prevMonthProps:j,nextMonthProps:O,isMonthDisabled:J,isYearDisabled:Q}),P.jsx(Pa,{viewDate:x||B,value:t,weekStartsOn:c,isDayFocused:q,tabIndex:0,"aria-label":b,onKeyDown:X,onDayChange:G,isDayActive:ee,isDaySelectionStart:Oa,isDaySelectionEnd:Na,isDayDisabled:K,onBlur:Z,showNeighboringMonth:g,size:y,dayProps:I,listenDayChangesForUpdate:L}),i&&t&&"s"!==y&&P.jsx("div",{className:"vkuiCalendar__time",children:P.jsx($a,{value:t,onChange:n,onClose:l,doneButtonText:s,changeHoursLabel:d,changeMinutesLabel:f,isDayDisabled:F||A?K:void 0})})]}))};function Ya({maxElement:e,refs:t,autoFocus:n,disabled:a,elementsConfig:r,onChange:o,onInternalValueChange:l,getInternalValue:i,value:s}){const{document:c}=L(),{value:u,setTrue:d,setFalse:f}=((e=!1)=>{const[t,n]=M.useState(e),a=M.useCallback((()=>{n(!0)}),[]),r=M.useCallback((()=>{n(!1)}),[]),o=M.useCallback((()=>{n(!t)}),[t]);return{value:t,setTrue:a,setFalse:r,toggle:o}})(!1),h=M.useRef(null),p=M.useRef(null),[m,v]=M.useState([]),[g,b]=M.useState(null),{window:y}=L(),x=M.useCallback((()=>{var e;null!==g&&(b(null),f(),null===(e=y.getSelection())||void 0===e||e.removeAllRanges(),v(i(s)))}),[g,f,i,s,y]),w=M.useCallback((e=>{var t,n;(null===(t=h.current)||void 0===t?void 0:t.contains(e.target))||(null===(n=p.current)||void 0===n?void 0:n.contains(e.target))||x()}),[x]),C=M.useCallback((()=>{b(0)}),[]);Ke(c,"click",w,{capture:!0}),M.useEffect((()=>{v(i(s))}),[i,s]),M.useEffect((()=>{n&&C()}),[n,C]),M.useEffect((()=>{if(a||null===g)return;const e=y.document.createRange();let n=t[g].current;if(n){n.focus(),d(),e.selectNodeContents(n);const t=y.getSelection();null==t||t.removeAllRanges(),null==t||t.addRange(e)}}),[a,g,d,t,y]);const k=M.useCallback((()=>{null==o||o(void 0),C()}),[o,C]),D=M.useCallback((()=>{u||C()}),[u,C]),S=M.useCallback((t=>{if(null===g)return;const n=[...m],a=r(g);if(/^\d+$/.test(t.key))n[g].length>=a.length?n[g]=t.key:(n[g]+=t.key,n[g].length>=a.length&&g<e&&b(g+1));else if("Backspace"===t.key)n[g]?n[g]=n[g].slice(0,-1):b(g<=0?e:g-1);else if("ArrowDown"===t.key||"Down"===t.key){let e=Number(n[g]);n[g]=String(e<=a.min?a.max:e-1).padStart(a.length,"0")}else if("ArrowUp"===t.key||"Up"===t.key){let e=Number(n[g]);n[g]=String(e>=a.max?a.min:e+1).padStart(a.length,"0")}else{if("Enter"===t.key||"Tab"===t.key&&g===e||"Tab"===t.key&&t.shiftKey&&0===g)return void x();if("ArrowLeft"===t.key||"Left"===t.key||"Tab"===t.key&&t.shiftKey)b(g<=0?e:g-1);else if("ArrowRight"===t.key||"Right"===t.key||"Tab"===t.key)b(g>=e?0:g+1);else{if("Delete"!==t.key&&"Del"!==t.key)return;n[g]=""}}t.preventDefault(),v(n),l(n)}),[r,g,m,e,l,x]);return{rootRef:h,calendarRef:p,open:u,openCalendar:d,closeCalendar:f,internalValue:m,focusedElement:g,setFocusedElement:b,handleKeyDown:S,clear:k,handleFieldEnter:D,removeFocusFromField:x}}const za=String.fromCharCode(8199);function Va(e){const t=[];for(let n=0;n<e;n+=1)t.push(P.jsx("span",{className:"vkuiInputLike__mask",children:za},n));return t}const Wa=e=>{var{value:t,length:n,index:a,onElementSelect:r,onClick:o,onFocus:l,label:i}=e,s=T(e,["value","length","index","onElementSelect","onClick","onFocus","label"]);const c=M.useCallback((e=>{Q(e),null==r||r(a)}),[a,r]);var u;return P.jsxs(E,S(R({Component:"span",baseClassName:(null==t?void 0:t.length)===n?"vkuiInputLike--full":void 0,tabIndex:0,onClick:ue(o,c),onFocus:ue(Q,l)},s),{children:[i&&P.jsx(B,{children:i}),null==t?void 0:t.slice(0,n-1),(null==t?void 0:t.slice(n-1))&&P.jsx("span",{className:"vkuiInputLike__last_character",children:t.slice(n-1)},a),Va(n-(null!==(u=null==t?void 0:t.length)&&void 0!==u?u:0))]}))};Wa.displayName="InputLike";const Ua=e=>{var{children:t,className:n}=e,a=T(e,["children","className"]);return P.jsx("span",S(R({className:H("vkuiInputLike__divider",n)},a),{children:t}))},qa={none:"vkuiDateInput--sizeY-none",compact:"vkuiDateInput--sizeY-compact"},Ka=e=>{let t=2,n=1,a=0;switch(e){case 0:a=31;break;case 1:a=12;break;case 2:a=2100,n=1900,t=4;break;case 3:a=23;break;case 4:a=59}return{length:t,min:n,max:a}},Za=e=>{const t=["","","","",""];return e&&(t[0]=String(e.getDate()).padStart(2,"0"),t[1]=String(e.getMonth()+1).padStart(2,"0"),t[2]=String(e.getFullYear()).padStart(4,"0"),t[3]=String(e.getHours()).padStart(2,"0"),t[4]=String(e.getMinutes()).padStart(2,"0")),t},Ja=e=>{var{enableTime:t,shouldDisableDate:n,disableFuture:a,disablePast:r,minDateTime:o,maxDateTime:l,value:i,onChange:s,calendarPlacement:c="bottom-start",style:u,className:d,doneButtonText:f,closeOnChange:h=!0,disablePickers:p,getRootRef:m,name:v,autoFocus:g,disabled:b,onClick:y,onFocus:x,prevMonthLabel:w="Предыдущий месяц",nextMonthLabel:C="Следующий месяц",showNeighboringMonth:k,size:D,changeMonthLabel:_="Изменить месяц",changeYearLabel:j="Изменить год",changeDayLabel:O="Изменить день",changeHoursLabel:N="Изменить час",changeMinutesLabel:I="Изменить минуту",clearFieldLabel:L="Очистить поле",showCalendarLabel:F="Показать календарь",viewDate:E,onHeaderChange:$,onNextMonth:B,onPrevMonth:z,prevMonthIcon:V,nextMonthIcon:W,disableCalendar:U=!1}=e,q=T(e,["enableTime","shouldDisableDate","disableFuture","disablePast","minDateTime","maxDateTime","value","onChange","calendarPlacement","style","className","doneButtonText","closeOnChange","disablePickers","getRootRef","name","autoFocus","disabled","onClick","onFocus","prevMonthLabel","nextMonthLabel","showNeighboringMonth","size","changeMonthLabel","changeYearLabel","changeDayLabel","changeHoursLabel","changeMinutesLabel","clearFieldLabel","showCalendarLabel","viewDate","onHeaderChange","onNextMonth","onPrevMonth","prevMonthIcon","nextMonthIcon","disableCalendar"]);const K=M.useRef(null),Z=M.useRef(null),J=M.useRef(null),Q=M.useRef(null),X=M.useRef(null),G=t?4:2,ee=M.useCallback((e=>{for(let t=0;t<=G;t+=1)if(e[t].length<Ka(t).length)return;let n=`${e[0]}.${e[1]}.${e[2]}`,a="DD.MM.YYYY";t&&(n+=` ${e[3]}:${e[4]}`,a+=" HH:mm"),function(e,t){return!isNaN(+Ma(e,t))}(n,a)&&(null==s||s(Ma(n,a,null!=i?i:new Date)))}),[t,G,s,i]),te=M.useMemo((()=>[K,Z,J,Q,X]),[K,Z,J,Q,X]),{rootRef:ne,calendarRef:ae,open:re,openCalendar:oe,internalValue:le,handleKeyDown:ie,setFocusedElement:se,handleFieldEnter:ce,clear:de,removeFocusFromField:fe}=Ya({maxElement:G,refs:te,autoFocus:g,disabled:b,elementsConfig:Ka,onChange:s,onInternalValueChange:ee,getInternalValue:Za,value:i}),{sizeY:he="none"}=Y(),pe=A(ne,m),me=M.useCallback((e=>{null==s||s(e),h&&!t&&fe()}),[s,fe,h,t]);return P.jsxs(tt,S(R({style:u,className:H("regular"!==he&&qa[he],d),getRootRef:pe,after:i?P.jsx(qe,{hoverMode:"opacity",label:L,onClick:de,children:P.jsx(st,{})}):P.jsx(qe,{hoverMode:"opacity",label:F,onClick:oe,children:P.jsx(dt,{})}),disabled:b,onClick:ue(ce,y),onFocus:ue(ce,x)},q),{children:[P.jsx("input",{type:"hidden",name:v,value:i?ma(i,t?"DD.MM.YYYYTHH:mm":"DD.MM.YYYY"):""}),P.jsxs(Ye,{className:"vkuiDateInput__input",onKeyDown:ie,normalize:!1,Component:"span",children:[P.jsx(Wa,{length:2,getRootRef:K,index:0,onElementSelect:se,value:le[0],label:O}),P.jsx(Ua,{children:"."}),P.jsx(Wa,{length:2,getRootRef:Z,index:1,onElementSelect:se,value:le[1],label:_}),P.jsx(Ua,{children:"."}),P.jsx(Wa,{length:4,getRootRef:J,index:2,onElementSelect:se,value:le[2],label:j}),t&&P.jsxs(M.Fragment,{children:[P.jsx(Ua,{className:"vkuiDateInput__input--time-divider",children:" "}),P.jsx(Wa,{length:2,getRootRef:Q,index:3,onElementSelect:se,value:le[3],label:N}),P.jsx(Ua,{children:":"}),P.jsx(Wa,{length:2,getRootRef:X,index:4,onElementSelect:se,value:le[4],label:I})]})]}),re&&!U&&P.jsx(hn,{targetRef:ne,offsetByMainAxis:8,placement:c,autoUpdateOnTargetResize:!0,children:P.jsx(Ba,{value:i,onChange:me,enableTime:t,disablePast:r,disableFuture:a,shouldDisableDate:n,onClose:fe,getRootRef:ae,doneButtonText:f,disablePickers:p,changeHoursLabel:N,changeMinutesLabel:I,prevMonthLabel:w,nextMonthLabel:C,changeMonthLabel:_,changeYearLabel:j,changeDayLabel:O,showNeighboringMonth:k,size:D,viewDate:E,onHeaderChange:$,onNextMonth:B,onPrevMonth:z,prevMonthIcon:V,nextMonthIcon:W,minDateTime:o,maxDateTime:l})})]}))},Qa=({id:e})=>{const t=de(),{openError:n}=fe(),a=he(),r=pe(),o=me((e=>e.tickets.tickets)),[l,i]=M.useState();M.useEffect((()=>{if(a&&a.id){const e=o.find((e=>e.id===a.id));e?i(e):ve().then((e=>{r(ge(e));const n=e.find((e=>e.id===a.id));n?i(n):t.push("/")})).catch((e=>{t.push("/"),n(e.response.data||"Возникла ошибка")}))}}),[]);const[s,c]=M.useState([]);M.useEffect((()=>{be().then((e=>{c(e)}))}),[]);const[u,d]=M.useState([]);M.useEffect((()=>{s.length<2||d([...s[0].map((e=>({value:e,label:e}))),...s[1].map((e=>({value:e,label:e})))])}),[s]);const[f,h]=M.useState([]),[p,m]=M.useState(""),[v,g]=M.useState(""),[b,y]=M.useState([]),[x,w]=M.useState((()=>new Date)),[C,k]=M.useState(!1),[D,S]=M.useState(!0);return M.useEffect((()=>{if(l&&(m(l.title||""),g(l.description||""),w(l.time?new Date(1e3*l.time):new Date),y(l.media||[]),u.length>0&&l.groups.length>0)){const e=[];u.forEach((t=>{l.groups.includes(t.value)&&e.push(t)})),h(e)}}),[l,u]),M.useEffect((()=>{S(!p||!v)}),[p,v]),P.jsxs(Ze,{id:e,children:[P.jsx(Je,{before:P.jsx(rt,{onClick:()=>t.back()}),children:"Новый тикет"}),P.jsxs(Qe,{children:[P.jsx(nt,{top:"Название тикета",status:(R=p,C?R?"valid":"error":"default"),required:!0,children:P.jsx(Xe,{id:"title",name:"title",placeholder:"Введите название тикета",value:p,required:!0,onChange:e=>m(e.currentTarget.value)})}),P.jsx(nt,{top:"Текст тикета",required:!0,bottom:P.jsxs(Ge,{direction:"column",gap:4,children:[P.jsxs("span",{children:["*Жирный* — ",P.jsx("b",{children:"Текст"})]}),P.jsxs("span",{children:["_Курсивный_ — ",P.jsx("i",{children:"Текст"})]}),P.jsxs("span",{children:["__Подчеркнутый__ — ",P.jsx("u",{children:"Текст"})]}),P.jsxs("span",{children:["~Зачеркнутый~ — ",P.jsx("s",{children:"Текст"})]}),P.jsx("span",{children:"||Скрытый||"}),P.jsx("span",{children:"`Моноширный`"}),P.jsx("span",{children:"> Цитата"})]}),children:P.jsx(ot,{id:"description",name:"description",placeholder:"Напишите текст тикета",value:v,required:!0,maxHeight:300,onChange:e=>g(e.currentTarget.value)})}),P.jsx(et,{mode:"horizontal",children:P.jsxs(nt,{top:"Загрузите документы",children:[P.jsx(pn,{before:P.jsx(bt,{role:"presentation"}),size:"m",id:"image",onChange:e=>(e=>{if(e){const t=Array.from(e).map((e=>({data:e,name:e.name})));y((e=>[...e,...t]))}})(e.currentTarget?.files),multiple:!0}),b.map(((e,t)=>P.jsxs(Ge,{align:"center",gap:10,children:[P.jsx(ye,{children:e.name}),P.jsx(qe,{label:"Удалить файл",style:{width:30,height:30},onClick:()=>(e=>{y((t=>t.filter(((t,n)=>n!==e))))})(t),children:P.jsx(ct,{style:{padding:3,margin:"auto"},color:"red"})})]},t)))]})}),P.jsxs(et,{mode:"horizontal",children:[P.jsx(nt,{top:"Группы",required:!0,children:P.jsx(Jn,{placeholder:"Не выбраны",options:u,value:f,onChange:h,closeAfterSelect:!1})}),P.jsx(nt,{top:"Выставите дату и время публикации",required:!0,children:P.jsx(Ja,{disablePast:!0,enableTime:!0,closeOnChange:!0,value:x,onChange:e=>e&&w(e)})})]}),P.jsx(nt,{children:P.jsx($,{onClick:async()=>{if(k(!0),D)return;const e=await(async e=>Promise.all(e.map((e=>new Promise(((t,n)=>{if(e.index)t(e);else{const a=new FileReader;a.onload=()=>{t({data:a.result,name:e.name})},a.onerror=n,a.readAsArrayBuffer(e.data)}}))))))(b),r={title:p,content:v,groups:f.map((e=>e.value)),time:Math.floor(x.getTime()/1e3),media:e};console.log(r),a?.id?we(a.id,r).then((()=>{t.push("/")})).catch((e=>{n(e.response.data||"Возникла ошибка")})):xe(r).then((()=>{t.push("/")})).catch((e=>{n(e.response.data||"Возникла ошибка")}))},before:P.jsx(mt,{}),size:"m",stretched:!0,disabled:D,children:"Отправить на проверку / публикацию"})})]})]});var R};e({New:Qa,default:Qa})}}}));
